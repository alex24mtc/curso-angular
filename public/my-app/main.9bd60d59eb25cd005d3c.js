(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/6Yf":function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return u});var r=n("30Go"),i=n("qOnz"),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),s="[DEFAULT]",a=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t=s);var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.a;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=Object(r.a)({identifier:s,optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);try{var o=this.getOrInitializeService(i);if(!o){if(n)return null;throw Error("Service "+this.name+" is not available")}return o}catch(a){if(n)return null;throw a}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService(s)}catch(h){}try{for(var i=Object(r.h)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var a=Object(r.e)(o.value,2),u=a[1],c=this.normalizeInstanceIdentifier(a[0]);try{var l=this.getOrInitializeService(c);u.resolve(l)}catch(h){}}}catch(f){e={error:f}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t=s),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,function(){var t;return Object(r.d)(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.f)(t.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}),t.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()})))];case 1:return e.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t=s),this.instances.has(t)},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return t===s?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:s:t},t}(),u=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new a(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},0:function(t,e,n){t.exports=n("zUnb")},"2QA8":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},"2fFW":function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"30Go":function(t,e,n){"use strict";n.d(e,"c",function(){return i}),n.d(e,"a",function(){return o}),n.d(e,"b",function(){return s}),n.d(e,"d",function(){return a}),n.d(e,"h",function(){return u}),n.d(e,"e",function(){return c}),n.d(e,"f",function(){return l}),n.d(e,"g",function(){return h});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function s(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{u(r.next(t))}catch(e){o(e)}}function a(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}u((r=r.apply(t,e||[])).next())})}function a(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function u(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function l(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(c(arguments[e]));return t}function h(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}},"3N8a":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("quSY");class i extends r.a{constructor(t,e){super()}schedule(t,e=0){return this}}class o extends i{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n,r=!1;try{this.work(t)}catch(i){r=!0,n=!!i&&i||new Error(i)}if(r)return this.unsubscribe(),n}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("lJxs"),i=n("Cfvw"),o=n("zx2A");function s(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?o=>o.pipe(s((n,o)=>Object(i.a)(t(n,o)).pipe(Object(r.a)((t,r)=>e(n,t,o,r))),n)):("number"==typeof e&&(n=e),e=>e.lift(new a(t,n)))}class a{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new u(t,this.project,this.concurrent))}}class u extends o.b{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}_innerSub(t){const e=new o.a(this),n=this.destination;n.add(e);const r=Object(o.c)(t,e);r!==e&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("n6bG"),i=n("gRHU"),o=n("quSY"),s=n("2QA8"),a=n("2fFW"),u=n("NJ4a");class c extends o.a{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.a;break;case 1:if(!t){this.destination=i.a;break}if("object"==typeof t){t instanceof c?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,t,e,n)}}[s.a](){return this}static create(t,e,n){const r=new c(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class l extends c{constructor(t,e,n,o){let s;super(),this._parentSubscriber=t;let a=this;Object(r.a)(e)?s=e:e&&(s=e.next,n=e.error,o=e.complete,e!==i.a&&(a=Object.create(e),Object(r.a)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=s,this._error=n,this._complete=o}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;a.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=a.a;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(u.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(u.a)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);a.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),a.a.useDeprecatedSynchronousErrorHandling)throw n;Object(u.a)(n)}}__tryOrSetError(t,e,n){if(!a.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return a.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(u.a)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},"9ppp":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},Cfvw:function(t,e,n){"use strict";n.d(e,"a",function(){return h});var r=n("HDdC"),i=n("SeVD"),o=n("quSY"),s=n("kJWO"),a=n("jZKg"),u=n("Lhse"),c=n("c2HN"),l=n("I55L");function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[s.a]}(t))return function(t,e){return new r.a(n=>{const r=new o.a;return r.add(e.schedule(()=>{const i=t[s.a]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(Object(c.a)(t))return function(t,e){return new r.a(n=>{const r=new o.a;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(Object(l.a)(t))return Object(a.a)(t,e);if(function(t){return t&&"function"==typeof t[u.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(n=>{const r=new o.a;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[u.a](),r.add(e.schedule(function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())}))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}},D0XW:function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"a",function(){return o});var r=n("3N8a");const i=new(n("IjjT").a)(r.a),o=i},DH7j:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))()},EQ5u:function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"b",function(){return u});var r=n("XNiG"),i=n("HDdC"),o=(n("7o/Q"),n("quSY")),s=n("x+ZX");class a extends i.a{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new o.a,t.add(this.source.subscribe(new c(this.getSubject(),this))),t.closed&&(this._connection=null,t=o.a.EMPTY)),t}refCount(){return Object(s.a)()(this)}}const u=(()=>{const t=a.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class c extends r.b{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}},EY2u:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o});var r=n("HDdC");const i=new r.a(t=>t.complete());function o(t){return t?function(t){return new r.a(e=>t.schedule(()=>e.complete()))}(t):i}},HDdC:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("7o/Q"),i=n("2QA8"),o=n("gRHU"),s=n("kJWO"),a=n("SpAZ"),u=n("2fFW");let c=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:s}=this,a=function(t,e,n){if(t){if(t instanceof r.a)return t;if(t[i.a])return t[i.a]()}return t||e||n?new r.a(t,e,n):new r.a(o.a)}(t,e,n);if(a.add(s?s.call(a,this.source):this.source||u.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),u.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(t){try{return this._subscribe(t)}catch(e){u.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof r.a?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=l(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[s.a](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?a.a:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=l(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function l(t){if(t||(t=u.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},I55L:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>t&&"number"==typeof t.length&&"function"!=typeof t},IjjT:function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class i extends r{constructor(t,e=r.now){super(t,()=>i.delegate&&i.delegate!==this?i.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},Jgta:function(t,e,n){"use strict";var r=n("zIRd");n.d(e,"a",function(){return r.a}),r.a.registerVersion("firebase","8.2.9","app")},LRne:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("z+Ro"),i=n("yCtX"),o=n("jZKg");function s(...t){let e=t[t.length-1];return Object(r.a)(e)?(t.pop(),Object(o.a)(t,e)):Object(i.a)(t)}},Lhse:function(t,e,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",function(){return i});const i=r()},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout(()=>{throw t},0)}n.d(e,"a",function(){return r})},SeVD:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n("ngJS"),i=n("NJ4a"),o=n("Lhse"),s=n("kJWO"),a=n("I55L"),u=n("c2HN"),c=n("XoHu");const l=t=>{if(t&&"function"==typeof t[s.a])return l=t,t=>{const e=l[s.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(a.a)(t))return Object(r.a)(t);if(Object(u.a)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,i.a),t);if(t&&"function"==typeof t[o.a])return e=t,t=>{const n=e[o.a]();for(;;){let e;try{e=n.next()}catch(r){return t.error(r),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=Object(c.a)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,l}},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",function(){return r})},VRyK:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("HDdC"),i=n("z+Ro"),o=n("bHdf"),s=n("yCtX");function a(...t){let e=Number.POSITIVE_INFINITY,n=null,a=t[t.length-1];return Object(i.a)(a)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof a&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof r.a?t[0]:Object(o.a)(e)(Object(s.a)(t,n))}},XNiG:function(t,e,n){"use strict";n.d(e,"b",function(){return c}),n.d(e,"a",function(){return l});var r=n("HDdC"),i=n("7o/Q"),o=n("quSY"),s=n("9ppp"),a=n("Ylt2"),u=n("2QA8");class c extends i.a{constructor(t){super(t),this.destination=t}}let l=(()=>{class t extends r.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[u.a](){return new c(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new s.a;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new s.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new s.a;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new s.a;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new s.a;return this.hasError?(t.error(this.thrownError),o.a.EMPTY):this.isStopped?(t.complete(),o.a.EMPTY):(this.observers.push(t),new a.a(this,t))}asObservable(){const t=new r.a;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends l{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):o.a.EMPTY}}},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",function(){return r})},Ylt2:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("quSY");class i extends r.a{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},bHdf:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("5+tZ"),i=n("SpAZ");function o(t=Number.POSITIVE_INFINITY){return Object(r.a)(i.a,t)}},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",function(){return r})},fXoL:function(t,e,n){"use strict";n.d(e,"a",function(){return Xe}),n.d(e,"b",function(){return da}),n.d(e,"c",function(){return ua}),n.d(e,"d",function(){return sa}),n.d(e,"e",function(){return aa}),n.d(e,"f",function(){return su}),n.d(e,"g",function(){return Za}),n.d(e,"h",function(){return gs}),n.d(e,"i",function(){return Ia}),n.d(e,"j",function(){return Vo}),n.d(e,"k",function(){return va}),n.d(e,"l",function(){return zo}),n.d(e,"m",function(){return ur}),n.d(e,"n",function(){return zs}),n.d(e,"o",function(){return Li}),n.d(e,"p",function(){return gn}),n.d(e,"q",function(){return j}),n.d(e,"r",function(){return Ye}),n.d(e,"s",function(){return Xi}),n.d(e,"t",function(){return us}),n.d(e,"u",function(){return ls}),n.d(e,"v",function(){return ga}),n.d(e,"w",function(){return Ss}),n.d(e,"x",function(){return Xa}),n.d(e,"y",function(){return xs}),n.d(e,"z",function(){return Ga}),n.d(e,"A",function(){return Ta}),n.d(e,"B",function(){return vn}),n.d(e,"C",function(){return fa}),n.d(e,"D",function(){return ha}),n.d(e,"E",function(){return $o}),n.d(e,"F",function(){return Go}),n.d(e,"G",function(){return fr}),n.d(e,"H",function(){return Qo}),n.d(e,"I",function(){return rr}),n.d(e,"J",function(){return bn}),n.d(e,"K",function(){return eu}),n.d(e,"L",function(){return _s}),n.d(e,"M",function(){return Pa}),n.d(e,"N",function(){return Ke}),n.d(e,"O",function(){return Zo}),n.d(e,"P",function(){return Jo}),n.d(e,"Q",function(){return Cs}),n.d(e,"R",function(){return D}),n.d(e,"S",function(){return $a}),n.d(e,"T",function(){return za}),n.d(e,"U",function(){return qa}),n.d(e,"V",function(){return iu}),n.d(e,"W",function(){return La}),n.d(e,"X",function(){return pa}),n.d(e,"Y",function(){return Vi}),n.d(e,"Z",function(){return No}),n.d(e,"ab",function(){return er}),n.d(e,"bb",function(){return Un}),n.d(e,"cb",function(){return Tn}),n.d(e,"db",function(){return jn}),n.d(e,"eb",function(){return Nn}),n.d(e,"fb",function(){return kn}),n.d(e,"gb",function(){return An}),n.d(e,"hb",function(){return Rn}),n.d(e,"ib",function(){return jo}),n.d(e,"jb",function(){return ru}),n.d(e,"kb",function(){return Ao}),n.d(e,"lb",function(){return ko}),n.d(e,"mb",function(){return Cn}),n.d(e,"nb",function(){return F}),n.d(e,"ob",function(){return no}),n.d(e,"pb",function(){return yo}),n.d(e,"qb",function(){return vo}),n.d(e,"rb",function(){return bo}),n.d(e,"sb",function(){return Co}),n.d(e,"tb",function(){return xt}),n.d(e,"ub",function(){return h}),n.d(e,"vb",function(){return Sn}),n.d(e,"wb",function(){return yt}),n.d(e,"xb",function(){return Jr}),n.d(e,"yb",function(){return oo}),n.d(e,"zb",function(){return na}),n.d(e,"Ab",function(){return Y}),n.d(e,"Bb",function(){return it}),n.d(e,"Cb",function(){return w}),n.d(e,"Db",function(){return _}),n.d(e,"Eb",function(){return et}),n.d(e,"Fb",function(){return ot}),n.d(e,"Gb",function(){return uo}),n.d(e,"Hb",function(){return po}),n.d(e,"Ib",function(){return fo}),n.d(e,"Jb",function(){return ho}),n.d(e,"Kb",function(){return go}),n.d(e,"Lb",function(){return Io}),n.d(e,"Mb",function(){return fn}),n.d(e,"Nb",function(){return Qe}),n.d(e,"Ob",function(){return oa}),n.d(e,"Pb",function(){return mo}),n.d(e,"Qb",function(){return ra}),n.d(e,"Rb",function(){return fe}),n.d(e,"Sb",function(){return he}),n.d(e,"Tb",function(){return co}),n.d(e,"Ub",function(){return ea}),n.d(e,"Vb",function(){return ao}),n.d(e,"Wb",function(){return qt}),n.d(e,"Xb",function(){return ir}),n.d(e,"Yb",function(){return nt}),n.d(e,"Zb",function(){return so}),n.d(e,"ac",function(){return Oo}),n.d(e,"bc",function(){return Eo});var r=n("XNiG"),i=n("quSY"),o=n("HDdC"),s=n("VRyK"),a=n("EQ5u"),u=n("x+ZX");function c(){return new r.a}function l(t){for(let e in t)if(t[e]===l)return e;throw Error("Could not find renamed property on target object.")}function h(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(h).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function f(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const d=l({__forward_ref__:l});function p(t){return t.__forward_ref__=p,t.toString=function(){return h(this())},t}function g(t){return"function"==typeof(e=t)&&e.hasOwnProperty(d)&&e.__forward_ref__===p?t():t;var e}class v extends Error{constructor(t,e){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(t,e)),this.code=t}}function b(t){return"string"==typeof t?t:null==t?"":String(t)}function y(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():b(t)}function m(t,e){const n=e?` in ${e}`:"";throw new v("201",`No provider for ${y(t)} found${n}`)}function w(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function _(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function O(t){return E(t,x)||E(t,T)}function E(t,e){return t.hasOwnProperty(e)?t[e]:null}function I(t){return t&&(t.hasOwnProperty(S)||t.hasOwnProperty(C))?t[S]:null}const x=l({"\u0275prov":l}),S=l({"\u0275inj":l}),T=l({ngInjectableDef:l}),C=l({ngInjectorDef:l});var j=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});let A;function k(t){const e=A;return A=t,e}function R(t,e,n){const r=O(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&j.Optional?null:void 0!==e?e:void m(h(t),"Injector")}function N(t){return{toString:t}.toString()}var P=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),D=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const M="undefined"!=typeof globalThis&&globalThis,L="undefined"!=typeof window&&window,U="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,V="undefined"!=typeof global&&global,F=M||V||L||U,H={},q=[],z=l({"\u0275cmp":l}),B=l({"\u0275dir":l}),G=l({"\u0275pipe":l}),$=l({"\u0275mod":l}),W=l({"\u0275loc":l}),Q=l({"\u0275fac":l}),J=l({__NG_ELEMENT_ID__:l});let Z=0;function Y(t){return N(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===P.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||q,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||D.Emulated,id:"c",styles:t.styles||q,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,o=t.pipes;return n.id+=Z++,n.inputs=rt(t.inputs,e),n.outputs=rt(t.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(X):null,n.pipeDefs=o?()=>("function"==typeof o?o():o).map(K):null,n})}function X(t){return st(t)||function(t){return t[B]||null}(t)}function K(t){return function(t){return t[G]||null}(t)}const tt={};function et(t){const e={type:t.type,bootstrap:t.bootstrap||q,declarations:t.declarations||q,imports:t.imports||q,exports:t.exports||q,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&N(()=>{tt[t.id]=t.type}),e}function nt(t,e){return N(()=>{const n=at(t,!0);n.declarations=e.declarations||q,n.imports=e.imports||q,n.exports=e.exports||q})}function rt(t,e){if(null==t)return H;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}const it=Y;function ot(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function st(t){return t[z]||null}function at(t,e){const n=t[$]||null;if(!n&&!0===e)throw new Error(`Type ${h(t)} does not have '\u0275mod' property.`);return n}const ut=20,ct=10;function lt(t){return Array.isArray(t)&&"object"==typeof t[1]}function ht(t){return Array.isArray(t)&&!0===t[1]}function ft(t){return 0!=(8&t.flags)}function dt(t){return 2==(2&t.flags)}function pt(t){return 1==(1&t.flags)}function gt(t){return null!==t.template}function vt(t,e){return t.hasOwnProperty(Q)?t[Q]:null}class bt{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function yt(){return mt}function mt(t){return t.type.prototype.ngOnChanges&&(t.setInput=_t),wt}function wt(){const t=Ot(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===H)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function _t(t,e,n,r){const i=Ot(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:H,current:null}),o=i.current||(i.current={}),s=i.previous,a=this.declaredInputs[n],u=s[a];o[a]=new bt(u&&u.currentValue,e,s===H),t[r]=e}function Ot(t){return t.__ngSimpleChanges__||null}yt.ngInherit=!0;const Et="http://www.w3.org/2000/svg";let It;function xt(t){It=t}function St(t){return!!t.listen}const Tt={createRenderer:(t,e)=>void 0!==It?It:"undefined"!=typeof document?document:void 0};function Ct(t){for(;Array.isArray(t);)t=t[0];return t}function jt(t,e){return Ct(e[t.index])}function At(t,e){return t.data[e]}function kt(t,e){const n=e[t];return lt(n)?n:n[0]}function Rt(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Nt(t){return 4==(4&t[2])}function Pt(t){return 128==(128&t[2])}function Dt(t,e){return null==e?null:t[e]}function Mt(t){t[18]=0}function Lt(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const Ut={lFrame:ie(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Vt(){return Ut.bindingsEnabled}function Ft(){return Ut.lFrame.lView}function Ht(){return Ut.lFrame.tView}function qt(t){Ut.lFrame.contextLView=t}function zt(){let t=Bt();for(;null!==t&&64===t.type;)t=t.parent;return t}function Bt(){return Ut.lFrame.currentTNode}function Gt(t,e){const n=Ut.lFrame;n.currentTNode=t,n.isParent=e}function $t(){return Ut.lFrame.isParent}function Wt(){return Ut.isInCheckNoChangesMode}function Qt(t){Ut.isInCheckNoChangesMode=t}function Jt(){return Ut.lFrame.bindingIndex++}function Zt(t,e){const n=Ut.lFrame;n.bindingIndex=n.bindingRootIndex=t,Yt(e)}function Yt(t){Ut.lFrame.currentDirectiveIndex=t}function Xt(){return Ut.lFrame.currentQueryIndex}function Kt(t){Ut.lFrame.currentQueryIndex=t}function te(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function ee(t,e,n){if(n&j.SkipSelf){let r=e,i=t;for(;r=r.parent,!(null!==r||n&j.Host||(r=te(i),null===r)||(i=i[15],10&r.type)););if(null===r)return!1;e=r,t=i}const r=Ut.lFrame=re();return r.currentTNode=e,r.lView=t,!0}function ne(t){const e=re(),n=t[1];Ut.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function re(){const t=Ut.lFrame,e=null===t?null:t.child;return null===e?ie(t):e}function ie(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function oe(){const t=Ut.lFrame;return Ut.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const se=oe;function ae(){const t=oe();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function ue(){return Ut.lFrame.selectedIndex}function ce(t){Ut.lFrame.selectedIndex=t}function le(){const t=Ut.lFrame;return At(t.tView,t.selectedIndex)}function he(){Ut.lFrame.currentNamespace=Et}function fe(){Ut.lFrame.currentNamespace=null}function de(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:o,ngAfterViewChecked:s,ngOnDestroy:a}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),o&&(t.viewHooks||(t.viewHooks=[])).push(-n,o),s&&((t.viewHooks||(t.viewHooks=[])).push(n,s),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,s)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function pe(t,e,n){be(t,e,3,n)}function ge(t,e,n,r){(3&t[2])===n&&be(t,e,n,r)}function ve(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function be(t,e,n,r){const i=null!=r?r:-1,o=e.length-1;let s=0;for(let a=void 0!==r?65535&t[18]:0;a<o;a++)if("number"==typeof e[a+1]){if(s=e[a],null!=r&&s>=r)break}else e[a]<0&&(t[18]+=65536),(s<i||-1==i)&&(ye(t,n,e,a),t[18]=(4294901760&t[18])+a+2),a++}function ye(t,e,n,r){const i=n[r]<0,o=n[r+1],s=t[i?-n[r]:n[r]];i?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,o.call(s)):o.call(s)}const me=-1;class we{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function _e(t,e,n){const r=St(t);let i=0;for(;i<n.length;){const o=n[i];if("number"==typeof o){if(0!==o)break;i++;const s=n[i++],a=n[i++],u=n[i++];r?t.setAttribute(e,a,u,s):e.setAttributeNS(s,a,u)}else{const s=o,a=n[++i];Ee(s)?r&&t.setProperty(e,s,a):r?t.setAttribute(e,s,a):e.setAttribute(s,a),i++}}return i}function Oe(t){return 3===t||4===t||6===t}function Ee(t){return 64===t.charCodeAt(0)}function Ie(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||xe(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function xe(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const n=t[o++];if("number"==typeof n){if(n===e){s=-1;break}if(n>e){s=o-1;break}}}for(;o<t.length;){const e=t[o];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}function Se(t){return t!==me}function Te(t){return 32767&t}function Ce(t,e){let n=t>>16,r=e;for(;n>0;)r=r[15],n--;return r}let je=!0;function Ae(t){const e=je;return je=t,e}let ke=0;function Re(t,e){const n=Pe(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,Ne(r.data,t),Ne(e,null),Ne(r.blueprint,null));const i=De(t,e),o=t.injectorIndex;if(Se(i)){const t=Te(i),n=Ce(i,e),r=n[1].data;for(let i=0;i<8;i++)e[o+i]=n[t+i]|r[t+i]}return e[o+8]=i,o}function Ne(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Pe(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function De(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const t=i[1],e=t.type;if(r=2===e?t.declTNode:1===e?i[6]:null,null===r)return me;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return me}function Me(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(J)&&(r=n[J]),null==r&&(r=n[J]=ke++);const i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function Le(t,e,n){if(n&j.Optional)return t;m(e,"NodeInjector")}function Ue(t,e,n,r){if(n&j.Optional&&void 0===r&&(r=null),0==(n&(j.Self|j.Host))){const i=t[9],o=k(void 0);try{return i?i.get(e,r,n&j.Optional):R(e,r,n&j.Optional)}finally{k(o)}}return Le(r,e,n)}function Ve(t,e,n,r=j.Default,i){if(null!==t){const o=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(J)?t[J]:void 0;return"number"==typeof e?e>=0?255&e:He:e}(n);if("function"==typeof o){if(!ee(e,t,r))return r&j.Host?Le(i,n,r):Ue(e,n,r,i);try{const t=o();if(null!=t||r&j.Optional)return t;m(n)}finally{se()}}else if("number"==typeof o){let i=null,s=Pe(t,e),a=me,u=r&j.Host?e[16][6]:null;for((-1===s||r&j.SkipSelf)&&(a=-1===s?De(t,e):e[s+8],a!==me&&$e(r,!1)?(i=e[1],s=Te(a),e=Ce(a,e)):s=-1);-1!==s;){const t=e[1];if(Ge(o,s,t.data)){const t=qe(s,e,n,i,r,u);if(t!==Fe)return t}a=e[s+8],a!==me&&$e(r,e[1].data[s+8]===u)&&Ge(o,s,e)?(i=t,s=Te(a),e=Ce(a,e)):s=-1}}}return Ue(e,n,r,i)}const Fe={};function He(){return new We(zt(),Ft())}function qe(t,e,n,r,i,o){const s=e[1],a=s.data[t+8],u=ze(a,s,n,null==r?dt(a)&&je:r!=s&&0!=(3&a.type),i&j.Host&&o===a);return null!==u?Be(e,s,u,a):Fe}function ze(t,e,n,r,i){const o=t.providerIndexes,s=e.data,a=1048575&o,u=t.directiveStart,c=o>>20,l=i?a+c:t.directiveEnd;for(let h=r?a:a+c;h<l;h++){const t=s[h];if(h<u&&n===t||h>=u&&t.type===n)return h}if(i){const t=s[u];if(t&&gt(t)&&t.type===n)return u}return null}function Be(t,e,n,r){let i=t[n];const o=e.data;if(i instanceof we){const s=i;s.resolving&&function(t,e){throw new v("200",`Circular dependency in DI detected for ${t}`)}(y(o[n]));const a=Ae(s.canSeeViewProviders);s.resolving=!0;const u=s.injectImpl?k(s.injectImpl):null;ee(t,r,j.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const r=mt(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o))}(n,o[n],e)}finally{null!==u&&k(u),Ae(a),s.resolving=!1,se()}}return i}function Ge(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function $e(t,e){return!(t&j.Self||t&j.Host&&e)}class We{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return Ve(this._tNode,this._lView,t,void 0,e)}}function Qe(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(Oe(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(zt(),t)}const Je="__parameters__";function Ze(t,e,n){return N(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty(Je)?t[Je]:Object.defineProperty(t,Je,{value:[]})[Je];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class Ye{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=w({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Xe=new Ye("AnalyzeForEntryComponents"),Ke=Function;function tn(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),tn(r,e)):e!==t&&e.push(r)}return e}function en(t,e){t.forEach(t=>Array.isArray(t)?en(t,e):e(t))}function nn(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function rn(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}const on={},sn=/\n/gm,an="__source",un=l({provide:String,useValue:l});let cn;function ln(t){const e=cn;return cn=t,e}function hn(t,e=j.Default){if(void 0===cn)throw new Error("inject() must be called from an injection context");return null===cn?R(t,void 0,e):cn.get(t,e&j.Optional?null:void 0,e)}function fn(t,e=j.Default){return(A||hn)(g(t),e)}function dn(t){const e=[];for(let n=0;n<t.length;n++){const r=g(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t,n=j.Default;for(let e=0;e<r.length;e++){const i=r[e],o=i.__NG_DI_FLAG__;"number"==typeof o?-1===o?t=i.token:n|=o:t=i}e.push(fn(t,n))}else e.push(fn(r))}return e}function pn(t,e){return t.__NG_DI_FLAG__=e,t.prototype.__NG_DI_FLAG__=e,t}const gn=pn(Ze("Inject",t=>({token:t})),-1),vn=pn(Ze("Optional"),8),bn=pn(Ze("SkipSelf"),4);let yn;function mn(t){var e;return(null===(e=function(){if(void 0===yn&&(yn=null,F.trustedTypes))try{yn=F.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(e){}return yn}())||void 0===e?void 0:e.createHTML(t))||t}class wn{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class _n extends wn{getTypeName(){return"HTML"}}class On extends wn{getTypeName(){return"Style"}}class En extends wn{getTypeName(){return"Script"}}class In extends wn{getTypeName(){return"URL"}}class xn extends wn{getTypeName(){return"ResourceURL"}}function Sn(t){return t instanceof wn?t.changingThisBreaksApplicationSecurity:t}function Tn(t,e){const n=Cn(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}function Cn(t){return t instanceof wn&&t.getTypeName()||null}function jn(t){return new _n(t)}function An(t){return new On(t)}function kn(t){return new En(t)}function Rn(t){return new In(t)}function Nn(t){return new xn(t)}class Pn{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(mn(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(e){return null}}}class Dn{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=mn(t),e;const n=this.inertDocument.createElement("body");return n.innerHTML=mn(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Mn=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Ln=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Un(t){return(t=String(t)).match(Mn)||t.match(Ln)?t:"unsafe:"+t}function Vn(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function Fn(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const Hn=Vn("area,br,col,hr,img,wbr"),qn=Vn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),zn=Vn("rp,rt"),Bn=Fn(zn,qn),Gn=Fn(Hn,Fn(qn,Vn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Fn(zn,Vn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Bn),$n=Vn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Wn=Vn("srcset"),Qn=Fn($n,Wn,Vn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Vn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Jn=Vn("script,style,template");class Zn{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!Gn.hasOwnProperty(e))return this.sanitizedSomething=!0,!Jn.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let i=0;i<n.length;i++){const t=n.item(i),e=t.name,o=e.toLowerCase();if(!Qn.hasOwnProperty(o)){this.sanitizedSomething=!0;continue}let s=t.value;$n[o]&&(s=Un(s)),Wn[o]&&(r=s,s=(r=String(r)).split(",").map(t=>Un(t.trim())).join(", ")),this.buf.push(" ",e,'="',Kn(s),'"')}var r;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();Gn.hasOwnProperty(e)&&!Hn.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(Kn(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const Yn=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Xn=/([^\#-~ |!])/g;function Kn(t){return t.replace(/&/g,"&amp;").replace(Yn,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(Xn,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let tr;function er(t,e){let n=null;try{tr=tr||function(t){const e=new Dn(t);return function(){try{return!!(new window.DOMParser).parseFromString(mn(""),"text/html")}catch(t){return!1}}()?new Pn(e):e}(t);let r=e?String(e):"";n=tr.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=tr.getInertBodyElement(r)}while(r!==o);return mn((new Zn).sanitizeChildren(nr(n)||n))}finally{if(n){const t=nr(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function nr(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var rr=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function ir(t){const e=function(){const t=Ft();return t&&t[12]}();return e?e.sanitize(rr.URL,t)||"":Tn(t,"URL")?Sn(t):Un(b(t))}function or(t){return t.ngDebugContext}function sr(t){return t.ngOriginalError}function ar(t,...e){t.error(...e)}class ur{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||ar}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?or(t)?or(t):this._findContext(sr(t)):null}_findOriginalError(t){let e=sr(t);for(;e&&sr(e);)e=sr(e);return e}}function cr(t,e){t.__ngContext__=e}const lr=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(F))();function hr(t){return t instanceof Function?t():t}var fr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});function dr(t,e){return(void 0)(t,e)}function pr(t){const e=t[3];return ht(e)?e[3]:e}function gr(t){return br(t[13])}function vr(t){return br(t[4])}function br(t){for(;null!==t&&!ht(t);)t=t[4];return t}function yr(t,e,n,r,i){if(null!=r){let o,s=!1;ht(r)?o=r:lt(r)&&(s=!0,r=r[0]);const a=Ct(r);0===t&&null!==n?null==i?xr(e,n,a):Ir(e,n,a,i||null,!0):1===t&&null!==n?Ir(e,n,a,i||null,!0):2===t?function(t,e,n){const r=Tr(t,e);r&&function(t,e,n,r){St(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,s):3===t&&e.destroyNode(a),null!=o&&function(t,e,n,r,i){const o=n[7];o!==Ct(n)&&yr(e,t,r,o,i);for(let s=ct;s<n.length;s++){const i=n[s];Nr(i[1],i,t,e,r,o)}}(e,t,o,n,i)}}function mr(t,e,n){return St(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function wr(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,Lt(i,-1)),n.splice(r,1)}function _r(t,e){if(t.length<=ct)return;const n=ct+e,r=t[n];if(r){const o=r[17];null!==o&&o!==t&&wr(o,r),e>0&&(t[n-1][4]=r[4]);const s=rn(t,ct+e);Nr(r[1],i=r,i[11],2,null,null),i[0]=null,i[6]=null;const a=s[19];null!==a&&a.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}var i;return r}function Or(t,e){if(!(256&e[2])){const n=e[11];St(n)&&n.destroyNode&&Nr(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Er(t[1],t);for(;e;){let n=null;if(lt(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)lt(e)&&Er(e[1],e),e=e[3];null===e&&(e=t),lt(e)&&Er(e[1],e),n=e&&e[4]}e=n}}(e)}}function Er(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof we)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2)e[n+1].call(t[e[n]]);else e.call(t)}}}(t,e),function(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const t=n[o+1],s="function"==typeof t?t(e):Ct(e[t]),a=r[i=n[o+2]],u=n[o+3];"boolean"==typeof u?s.removeEventListener(n[o],a,u):u>=0?r[i=u]():r[i=-u].unsubscribe(),o+=2}else{const t=r[i=n[o+1]];n[o].call(t)}if(null!==r){for(let t=i+1;t<r.length;t++)(0,r[t])();e[7]=null}}(t,e),1===e[1].type&&St(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&ht(e[3])){n!==e[3]&&wr(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function Ir(t,e,n,r,i){St(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function xr(t,e,n){St(t)?t.appendChild(e,n):e.appendChild(n)}function Sr(t,e,n,r,i){null!==r?Ir(t,e,n,r,i):xr(t,e,n)}function Tr(t,e){return St(t)?t.parentNode(e):e.parentNode}function Cr(t,e,n,r){const i=function(t,e,n){return function(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const e=t.data[r.directiveStart].encapsulation;if(e===D.None||e===D.Emulated)return null}return jt(r,n)}(t,e.parent,n)}(t,r,e),o=e[11],s=function(t,e,n){return function(t,e,n){return 40&t.type?jt(t,n):null}(t,0,n)}(r.parent||e[6],0,e);if(null!=i)if(Array.isArray(n))for(let a=0;a<n.length;a++)Sr(o,i,n[a],s,!1);else Sr(o,i,n,s,!1)}function jr(t,e){if(null!==e){const n=e.type;if(3&n)return jt(e,t);if(4&n)return kr(-1,t[e.index]);if(8&n){const n=e.child;if(null!==n)return jr(t,n);{const n=t[e.index];return ht(n)?kr(-1,n):Ct(n)}}if(32&n)return dr(e,t)()||Ct(t[e.index]);{const n=Ar(t,e);return null!==n?Array.isArray(n)?n[0]:jr(pr(t[16]),n):jr(t,e.next)}}return null}function Ar(t,e){return null!==e?t[16][6].projection[e.projection]:null}function kr(t,e){const n=ct+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return jr(t,r)}return e[7]}function Rr(t,e,n,r,i,o,s){for(;null!=n;){const a=r[n.index],u=n.type;if(s&&0===e&&(a&&cr(Ct(a),r),n.flags|=4),64!=(64&n.flags))if(8&u)Rr(t,e,n.child,r,i,o,!1),yr(e,t,i,a,o);else if(32&u){const s=dr(n,r);let u;for(;u=s();)yr(e,t,i,u,o);yr(e,t,i,a,o)}else 16&u?Pr(t,e,r,n,i,o):yr(e,t,i,a,o);n=s?n.projectionNext:n.next}}function Nr(t,e,n,r,i,o){Rr(n,r,t.firstChild,e,i,o,!1)}function Pr(t,e,n,r,i,o){const s=n[16],a=s[6].projection[r.projection];if(Array.isArray(a))for(let u=0;u<a.length;u++)yr(e,t,i,a[u],o);else Rr(t,e,a,s[3],i,o,!0)}function Dr(t,e,n){St(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function Mr(t,e,n){St(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function Lr(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}const Ur="ng-template";function Vr(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==Lr(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function Fr(t){return 4===t.type&&t.value!==Ur}function Hr(t,e,n){return e===(4!==t.type||n?t.value:Ur)}function qr(t,e,n){let r=4;const i=t.attrs||[],o=function(t){for(let e=0;e<t.length;e++)if(Oe(t[e]))return e;return t.length}(i);let s=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!s)if(4&r){if(r=2|1&r,""!==u&&!Hr(t,u,n)||""===u&&1===e.length){if(zr(r))return!1;s=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!Vr(t.attrs,c,n)){if(zr(r))return!1;s=!0}continue}const l=Br(8&r?"class":u,i,Fr(t),n);if(-1===l){if(zr(r))return!1;s=!0;continue}if(""!==c){let t;t=l>o?"":i[l+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==Lr(e,c,0)||2&r&&c!==t){if(zr(r))return!1;s=!0}}}}else{if(!s&&!zr(r)&&!zr(u))return!1;if(s&&zr(u))continue;s=!1,r=u|1&r}}return zr(r)||s}function zr(t){return 0==(1&t)}function Br(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function Gr(t,e,n=!1){for(let r=0;r<e.length;r++)if(qr(t,e[r],n))return!0;return!1}function $r(t,e){return t?":not("+e.trim()+")":e}function Wr(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const e=t[++n];i+="["+s+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""===i||zr(s)||(e+=$r(o,i),i=""),r=s,o=o||!zr(r);n++}return""!==i&&(e+=$r(o,i)),e}const Qr={};function Jr(t){Zr(Ht(),Ft(),ue()+t,Wt())}function Zr(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&pe(e,r,n)}else{const r=t.preOrderHooks;null!==r&&ge(e,r,0,n)}ce(n)}function Yr(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],o=n[r+1];if(-1!==o){const n=t.data[o];Kt(i),n.contentQueries(2,e[o],o)}}}function Xr(t,e,n,r,i,o,s,a,u,c){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,Mt(l),l[3]=l[15]=t,l[8]=n,l[10]=s||t&&t[10],l[11]=a||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=o,l[16]=2==e.type?t[16]:l,l}function Kr(t,e,n,r,i){let o=t.data[e];if(null===o)o=function(t,e,n,r,i){const o=Bt(),s=$t(),a=t.data[e]=function(t,e,n,r,i,o){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=a),null!==o&&(s?null==o.child&&null!==a.parent&&(o.child=a):null===o.next&&(o.next=a)),a}(t,e,n,r,i),Ut.lFrame.inI18n&&(o.flags|=64);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const t=function(){const t=Ut.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();o.injectorIndex=null===t?-1:t.injectorIndex}return Gt(o,!0),o}function ti(t,e,n,r){if(0===n)return-1;const i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function ei(t,e,n){ne(e);try{const r=t.viewQuery;null!==r&&Ai(1,r,n);const i=t.template;null!==i&&ii(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Yr(t,e),t.staticViewQueries&&Ai(2,t.viewQuery,n);const o=t.components;null!==o&&function(t,e){for(let n=0;n<e.length;n++)xi(t,e[n])}(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,ae()}}function ni(t,e,n,r){const i=e[2];if(256==(256&i))return;ne(e);const o=Wt();try{Mt(e),Ut.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&ii(t,e,n,2,r);const s=3==(3&i);if(!o)if(s){const n=t.preOrderCheckHooks;null!==n&&pe(e,n,null)}else{const n=t.preOrderHooks;null!==n&&ge(e,n,0,null),ve(e,0)}if(function(t){for(let e=gr(t);null!==e;e=vr(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&Lt(r,1),n[2]|=1024}}}(e),function(t){for(let e=gr(t);null!==e;e=vr(e))for(let t=ct;t<e.length;t++){const n=e[t],r=n[1];Pt(n)&&ni(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&Yr(t,e),!o)if(s){const n=t.contentCheckHooks;null!==n&&pe(e,n)}else{const n=t.contentHooks;null!==n&&ge(e,n,1),ve(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let t=0;t<n.length;t++){const r=n[t];if(r<0)ce(~r);else{const i=r,o=n[++t],s=n[++t];Zt(o,i),s(2,e[i])}}}finally{ce(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)Ei(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&Ai(2,u,r),!o)if(s){const n=t.viewCheckHooks;null!==n&&pe(e,n)}else{const n=t.viewHooks;null!==n&&ge(e,n,2),ve(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Lt(e[3],-1))}finally{ae()}}function ri(t,e,n,r){const i=e[10],o=!Wt(),s=Nt(e);try{o&&!s&&i.begin&&i.begin(),s&&ei(t,e,r),ni(t,e,n,r)}finally{o&&!s&&i.end&&i.end()}}function ii(t,e,n,r,i){const o=ue();try{ce(-1),2&r&&e.length>ut&&Zr(t,e,ut,Wt()),n(r,i)}finally{ce(o)}}function oi(t,e,n){Vt()&&(function(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||Re(n,e),cr(r,e);const s=n.initialInputs;for(let a=i;a<o;a++){const r=t.data[a],o=gt(r);o&&mi(e,n,r);const u=Be(e,t,a,n);cr(u,e),null!==s&&wi(0,a-i,u,r,0,s),o&&(kt(n.index,e)[8]=u)}}(t,e,n,jt(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,s=Ut.lFrame.currentDirectiveIndex;try{ce(o);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];Yt(n),null===r.hostBindings&&0===r.hostVars&&null===r.hostAttrs||pi(r,i)}}finally{ce(-1),Yt(s)}}(t,e,n))}function si(t,e,n=jt){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(e,t):t[s];t[i++]=a}}}function ai(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=ui(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function ui(t,e,n,r,i,o,s,a,u,c){const l=ut+r,h=l+i,f=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:Qr);return n}(l,h),d="function"==typeof c?c():c;return f[1]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:u,consts:d,incompleteFirstPass:!1}}function ci(t,e,n,r){const i=Ri(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&Ni(t).push(r,i.length-1))}function li(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function hi(t,e,n,r,i,o,s,a){const u=jt(e,n);let c,l=e.inputs;var h;!a&&null!=l&&(c=l[r])?(Di(t,n,c,r,i),dt(e)&&function(t,e){const n=kt(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r="class"===(h=r)?"className":"for"===h?"htmlFor":"formaction"===h?"formAction":"innerHtml"===h?"innerHTML":"readonly"===h?"readOnly":"tabindex"===h?"tabIndex":h,i=null!=s?s(i,e.value||"",r):i,St(o)?o.setProperty(u,r,i):Ee(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}function fi(t,e,n,r){let i=!1;if(Vt()){const o=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let o=0;o<r.length;o++){const s=r[o];Gr(n,s.selectors,!1)&&(i||(i=[]),Me(Re(n,e),t,s.type),gt(s)?(gi(t,n),i.unshift(s)):i.push(s))}return i}(t,e,n),s=null===r?null:{"":-1};if(null!==o){i=!0,bi(n,t.data.length,o.length);for(let t=0;t<o.length;t++){const e=o[t];e.providersResolver&&e.providersResolver(e)}let r=!1,a=!1,u=ti(t,e,o.length,null);for(let i=0;i<o.length;i++){const c=o[i];n.mergedAttrs=Ie(n.mergedAttrs,c.hostAttrs),yi(t,n,e,u,c),vi(u,c,s),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128);const l=c.type.prototype;!r&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),r=!0),a||!l.ngOnChanges&&!l.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),a=!0),u++}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,o=[];let s=null,a=null;for(let u=e.directiveStart;u<n;u++){const t=r[u],n=t.inputs,c=null===i||Fr(e)?null:_i(n,i);o.push(c),s=li(n,u,s),a=li(t.outputs,u,a)}null!==s&&(s.hasOwnProperty("class")&&(e.flags|=16),s.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=s,e.outputs=a}(t,n)}s&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new v("301",`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,s)}return n.mergedAttrs=Ie(n.mergedAttrs,n.attrs),i}function di(t,e,n,r,i,o){const s=o.hostBindings;if(s){let n=t.hostBindingOpCodes;null===n&&(n=t.hostBindingOpCodes=[]);const o=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(n)!=o&&n.push(o),n.push(r,i,s)}}function pi(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function gi(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function vi(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;gt(e)&&(n[""]=t)}}function bi(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function yi(t,e,n,r,i){t.data[r]=i;const o=i.factory||(i.factory=vt(i.type)),s=new we(o,gt(i),null);t.blueprint[r]=s,n[r]=s,di(t,e,0,r,ti(t,n,i.hostVars,Qr),i)}function mi(t,e,n){const r=jt(e,t),i=ai(n),o=t[10],s=Si(t,Xr(t,i,null,n.onPush?64:16,r,e,o,o.createRenderer(r,n),null,null));t[e.index]=s}function wi(t,e,n,r,i,o){const s=o[e];if(null!==s){const t=r.setInput;for(let e=0;e<s.length;){const i=s[e++],o=s[e++],a=s[e++];null!==t?r.setInput(n,a,i,o):n[o]=a}}}function _i(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function Oi(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function Ei(t,e){const n=kt(e,t);if(Pt(n)){const t=n[1];80&n[2]?ni(t,n,t.template,n[8]):n[5]>0&&Ii(n)}}function Ii(t){for(let n=gr(t);null!==n;n=vr(n))for(let t=ct;t<n.length;t++){const e=n[t];if(1024&e[2]){const t=e[1];ni(t,e,t.template,e[8])}else e[5]>0&&Ii(e)}const e=t[1].components;if(null!==e)for(let n=0;n<e.length;n++){const r=kt(e[n],t);Pt(r)&&r[5]>0&&Ii(r)}}function xi(t,e){const n=kt(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),ei(r,n,n[8])}function Si(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function Ti(t){for(;t;){t[2]|=64;const e=pr(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function Ci(t,e,n){const r=e[10];r.begin&&r.begin();try{ni(t,e,t.template,n)}catch(i){throw Pi(e,i),i}finally{r.end&&r.end()}}function ji(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=Rt(n),i=r[1];ri(i,r,i.template,n)}}(t[8])}function Ai(t,e,n){Kt(0),e(t,n)}const ki=(()=>Promise.resolve(null))();function Ri(t){return t[7]||(t[7]=[])}function Ni(t){return t.cleanup||(t.cleanup=[])}function Pi(t,e){const n=t[9],r=n?n.get(ur,null):null;r&&r.handleError(e)}function Di(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++],u=e[s],c=t.data[s];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function Mi(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const t=e[s];"number"==typeof t?o=t:1==o?i=f(i,t):2==o&&(r=f(r,t+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}const Li=new Ye("INJECTOR",-1);class Ui{get(t,e=on){if(e===on){const e=new Error(`NullInjectorError: No provider for ${h(t)}!`);throw e.name="NullInjectorError",e}return e}}const Vi=new Ye("Set Injector scope."),Fi={},Hi={},qi=[];let zi;function Bi(){return void 0===zi&&(zi=new Ui),zi}function Gi(t,e=null,n=null,r){return new $i(t,n,e||Bi(),r)}class $i{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&en(e,n=>this.processProvider(n,t,e)),en([t],t=>this.processInjectorType(t,[],i)),this.records.set(Li,Qi(void 0,this));const o=this.records.get(Vi);this.scope=null!=o?o.value:null,this.source=r||("object"==typeof t?null:h(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=on,n=j.Default){this.assertNotDestroyed();const r=ln(this);try{if(!(n&j.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof Ye)&&O(t);e=n&&this.injectableDefInScope(n)?Qi(Wi(t),Fi):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&j.Self?Bi():this.parent).get(t,e=n&j.Optional&&e===on?null:e)}catch(o){if("NullInjectorError"===o.name){if((o.ngTempTokenPath=o.ngTempTokenPath||[]).unshift(h(t)),r)throw o;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e[an]&&i.unshift(e[an]),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=h(e);if(Array.isArray(e))i=e.map(h).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):h(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(sn,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(o,t,"R3InjectorError",this.source)}throw o}finally{ln(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(h(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=g(t)))return!1;let r=I(t);const i=null==r&&t.ngModule||void 0,o=void 0===i?t:i,s=-1!==n.indexOf(o);if(void 0!==i&&(r=I(i)),null==r)return!1;if(null!=r.imports&&!s){let t;n.push(o);try{en(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];en(r,t=>this.processProvider(t,n,r||qi))}}this.injectorDefTypes.add(o),this.records.set(o,Qi(r.factory,Fi));const a=r.providers;if(null!=a&&!s){const e=t;en(a,t=>this.processProvider(t,e,a))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=Zi(t=g(t))?t:g(t&&t.provide);const i=function(t,e,n){return Ji(t)?Qi(void 0,t.useValue):Qi(function(t,e,n){let r;if(Zi(t)){const e=g(t);return vt(e)||Wi(e)}if(Ji(t))r=()=>g(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...dn(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>fn(g(t.useExisting));else{const e=g(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return vt(e)||Wi(e);r=()=>new e(...dn(t.deps))}var i;return r}(t),Fi)}(t);if(Zi(t)||!0!==t.multi)this.records.get(r);else{let e=this.records.get(r);e||(e=Qi(void 0,Fi,!0),e.factory=()=>dn(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===Fi&&(e.value=Hi,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function Wi(t){const e=O(t),n=null!==e?e.factory:vt(t);if(null!==n)return n;const r=I(t);if(null!==r)return r.factory;if(t instanceof Ye)throw new Error(`Token ${h(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=function(t,e){const n=[];for(let r=0;r<t;r++)n.push("?");return n}(e);throw new Error(`Can't resolve all parameters for ${h(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[x]||t[T]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function Qi(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Ji(t){return null!==t&&"object"==typeof t&&un in t}function Zi(t){return"function"==typeof t}const Yi=function(t,e,n){return function(t,e=null,n=null,r){const i=Gi(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let Xi=(()=>{class t{static create(t,e){return Array.isArray(t)?Yi(t,e,""):Yi(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=on,t.NULL=new Ui,t.\u0275prov=w({token:t,providedIn:"any",factory:()=>fn(Li)}),t.__NG_ELEMENT_ID__=-1,t})();function Ki(t,e){de(Rt(t)[1],zt())}let to=null;function eo(){if(!to){const t=F.Symbol;if(t&&t.iterator)to=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(to=n)}}}return to}function no(t){return!!ro(t)&&(Array.isArray(t)||!(t instanceof Map)&&eo()in t)}function ro(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function io(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function oo(t,e,n,r){const i=Ft();return io(i,Jt(),e)&&(Ht(),function(t,e,n,r,i,o){const s=jt(t,e);!function(t,e,n,r,i,o,s){if(null==o)St(t)?t.removeAttribute(e,i,n):e.removeAttribute(i);else{const a=null==s?b(o):s(o,r||"",i);St(t)?t.setAttribute(e,i,a,n):n?e.setAttributeNS(n,i,a):e.setAttribute(i,a)}}(e[11],s,o,t.value,n,r,i)}(le(),i,t,e,n,r)),oo}function so(t,e,n,r,i,o,s,a){const u=Ft(),c=Ht(),l=t+ut,h=c.firstCreatePass?function(t,e,n,r,i,o,s,a,u){const c=e.consts,l=Kr(e,t,4,s||null,Dt(c,a));fi(e,n,l,Dt(c,u)),de(e,l);const h=l.tViews=ui(2,l,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,o,s):c.data[l];Gt(h,!1);const f=u[11].createComment("");Cr(c,u,f,h),cr(f,u),Si(u,u[l]=Oi(f,u,f,h)),pt(h)&&oi(c,u,h),null!=s&&si(u,h,a)}function ao(t){return function(t,e){return t[e]}(Ut.lFrame.contextLView,ut+t)}function uo(t,e=j.Default){const n=Ft();return null===n?fn(t,e):Ve(zt(),n,g(t),e)}function co(t,e,n){const r=Ft();return io(r,Jt(),e)&&hi(Ht(),le(),r,t,e,r[11],n,!1),co}function lo(t,e,n,r,i){const o=i?"class":"style";Di(t,n,e.inputs[o],o,r)}function ho(t,e,n,r){const i=Ft(),o=Ht(),s=ut+t,a=i[11],u=i[s]=mr(a,e,Ut.lFrame.currentNamespace),c=o.firstCreatePass?function(t,e,n,r,i,o,s){const a=e.consts,u=Kr(e,t,2,i,Dt(a,o));return fi(e,n,u,Dt(a,s)),null!==u.attrs&&Mi(u,u.attrs,!1),null!==u.mergedAttrs&&Mi(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(s,o,i,0,e,n,r):o.data[s];Gt(c,!0);const l=c.mergedAttrs;null!==l&&_e(a,u,l);const h=c.classes;null!==h&&Mr(a,u,h);const f=c.styles;null!==f&&Dr(a,u,f),64!=(64&c.flags)&&Cr(o,i,u,c),0===Ut.lFrame.elementDepthCount&&cr(u,i),Ut.lFrame.elementDepthCount++,pt(c)&&(oi(o,i,c),function(t,e,n){if(ft(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}(o,c,i)),null!==r&&si(i,c)}function fo(){let t=zt();$t()?Ut.lFrame.isParent=!1:(t=t.parent,Gt(t,!1));const e=t;Ut.lFrame.elementDepthCount--;const n=Ht();n.firstCreatePass&&(de(n,t),ft(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&lo(n,e,Ft(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&lo(n,e,Ft(),e.stylesWithoutHost,!1)}function po(t,e,n,r){ho(t,e,n,r),fo()}function go(){return Ft()}function vo(t){return!!t&&"function"==typeof t.then}function bo(t){return!!t&&"function"==typeof t.subscribe}const yo=bo;function mo(t,e,n=!1,r){const i=Ft(),o=Ht(),s=zt();return function(t,e,n,r,i,o,s=!1,a){const u=pt(r),c=t.firstCreatePass&&Ni(t),l=Ri(e);let h=!0;if(3&r.type){const f=jt(r,e),d=a?a(f):H,p=d.target||f,g=l.length,v=a?t=>a(Ct(t[r.index])).target:r.index;if(St(n)){let s=null;if(!a&&u&&(s=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const t=i[o];if(t===n&&i[o+1]===r){const t=e[7],n=i[o+2];return t.length>n?t[n]:null}"string"==typeof t&&(o+=2)}return null}(t,e,i,r.index)),null!==s)(s.__ngLastListenerFn__||s).__ngNextListenerFn__=o,s.__ngLastListenerFn__=o,h=!1;else{o=_o(r,e,o,!1);const t=n.listen(d.name||p,i,o);l.push(o,t),c&&c.push(i,v,g,g+1)}}else o=_o(r,e,o,!0),p.addEventListener(i,o,s),l.push(o),c&&c.push(i,v,g,s)}else o=_o(r,e,o,!1);const f=r.outputs;let d;if(h&&null!==f&&(d=f[i])){const t=d.length;if(t)for(let n=0;n<t;n+=2){const t=e[d[n]][d[n+1]].subscribe(o),s=l.length;l.push(o,t),c&&c.push(i,r.index,s,-(s+1))}}}(o,i,i[11],s,t,e,n,r),mo}function wo(t,e,n){try{return!1!==e(n)}catch(r){return Pi(t,r),!1}}function _o(t,e,n,r){return function i(o){if(o===Function)return n;const s=2&t.flags?kt(t.index,e):e;0==(32&e[2])&&Ti(s);let a=wo(e,n,o),u=i.__ngNextListenerFn__;for(;u;)a=wo(e,u,o)&&a,u=u.__ngNextListenerFn__;return r&&!1===a&&(o.preventDefault(),o.returnValue=!1),a}}function Oo(t,e=""){const n=Ft(),r=Ht(),i=t+ut,o=r.firstCreatePass?Kr(r,i,1,e,null):r.data[i],s=n[i]=function(t,e){return St(t)?t.createText(e):t.createTextNode(e)}(n[11],e);Cr(r,n,s,o),Gt(o,!1)}function Eo(t,e,n){const r=Ft(),i=function(t,e,n,r){return io(t,Jt(),n)?e+b(n)+r:Qr}(r,t,e,n);return i!==Qr&&function(t,e,n){const r=function(t,e){return Ct(e[t])}(e,t);!function(t,e,n){St(t)?t.setValue(e,n):e.textContent=n}(t[11],r,n)}(r,ue(),i),Eo}function Io(t,e,n){const r=Ft();return io(r,Jt(),e)&&hi(Ht(),le(),r,t,e,r[11],n,!0),Io}const xo=void 0;var So=["en",[["a","p"],["AM","PM"],xo],[["AM","PM"],xo,xo],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],xo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],xo,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",xo,"{1} 'at' {0}",xo],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let To={};function Co(t,e,n){"string"!=typeof e&&(n=e,e=t[No.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),To[e]=t,n&&(To[e][No.ExtraData]=n)}function jo(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=Ro(e);if(n)return n;const r=e.split("-")[0];if(n=Ro(r),n)return n;if("en"===r)return So;throw new Error(`Missing locale data for the locale "${t}".`)}function Ao(t){return jo(t)[No.CurrencyCode]||null}function ko(t){return jo(t)[No.PluralCase]}function Ro(t){return t in To||(To[t]=F.ng&&F.ng.common&&F.ng.common.locales&&F.ng.common.locales[t]),To[t]}var No=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});const Po="en-US";let Do=Po;function Mo(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t} [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(Do=t.toLowerCase().replace(/_/g,"-"))}class Lo{}class Uo{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${h(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let Vo=(()=>{class t{}return t.NULL=new Uo,t})();function Fo(...t){}function Ho(t,e){return new zo(jt(t,e))}const qo=function(){return Ho(zt(),Ft())};let zo=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=qo,t})();function Bo(t){return t instanceof zo?t.nativeElement:t}class Go{}let $o=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Wo(),t})();const Wo=function(){const t=Ft(),e=kt(zt().index,t);return function(t){return t[11]}(lt(e)?e:t)};let Qo=(()=>{class t{}return t.\u0275prov=w({token:t,providedIn:"root",factory:()=>null}),t})();class Jo{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const Zo=new Jo("11.2.3");class Yo{constructor(){}supports(t){return no(t)}create(t){return new Ko(t)}}const Xo=(t,e)=>e;class Ko{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Xo}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const o=!n||e&&e.currentIndex<rs(n,r,i)?e:n,s=rs(o,r,i),a=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);const t=s-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,o=r+n;e<=o&&o<t&&(i[n]=r+1)}i[o.previousIndex]=e-t}}s!==a&&t(o,s,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!no(t))throw new Error(`Error trying to diff '${h(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),o=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[eo()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),o=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):t=this._addAfter(new ts(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new ns),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ns),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class ts{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class es{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class ns{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new es,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function rs(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class is{constructor(){}supports(t){return t instanceof Map||ro(t)}create(){return new os}}class os{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||ro(t)))throw new Error(`Error trying to diff '${h(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new ss(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class ss{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function as(){return new us([new Yo])}let us=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||as()),deps:[[t,new bn,new vn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=w({token:t,providedIn:"root",factory:as}),t})();function cs(){return new ls([new is])}let ls=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||cs()),deps:[[t,new bn,new vn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=w({token:t,providedIn:"root",factory:cs}),t})();function hs(t,e,n,r,i=!1){for(;null!==n;){const o=e[n.index];if(null!==o&&r.push(Ct(o)),ht(o))for(let t=ct;t<o.length;t++){const e=o[t],n=e[1].firstChild;null!==n&&hs(e[1],e,n,r)}const s=n.type;if(8&s)hs(t,e,n.child,r);else if(32&s){const t=dr(n,e);let i;for(;i=t();)r.push(i)}else if(16&s){const t=Ar(e,n);if(Array.isArray(t))r.push(...t);else{const n=pr(e[16]);hs(n[1],n,t,r,!0)}}n=i?n.projectionNext:n.next}return r}class fs{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return hs(e,t,e.firstChild,[])}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(ht(t)){const e=t[8],n=e?e.indexOf(this):-1;n>-1&&(_r(t,n),rn(e,n))}this._attachedToViewContainer=!1}Or(this._lView[1],this._lView)}onDestroy(t){ci(this._lView[1],this._lView,null,t)}markForCheck(){Ti(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Ci(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){Qt(!0);try{Ci(t,e,n)}finally{Qt(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var t;this._appRef=null,Nr(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class ds extends fs{constructor(t){super(t),this._view=t}detectChanges(){ji(this._view)}checkNoChanges(){!function(t){Qt(!0);try{ji(t)}finally{Qt(!1)}}(this._view)}get context(){return null}}const ps=vs;let gs=(()=>{class t{}return t.__NG_ELEMENT_ID__=ps,t.__ChangeDetectorRef__=!0,t})();function vs(t=!1){return function(t,e,n){if(!n&&dt(t)){const n=kt(t.index,e);return new fs(n,n)}return 47&t.type?new fs(e[16],e):null}(zt(),Ft(),t)}const bs=[new is],ys=new us([new Yo]),ms=new ls(bs),ws=function(){return Is(zt(),Ft())};let _s=(()=>{class t{}return t.__NG_ELEMENT_ID__=ws,t})();const Os=_s,Es=class extends Os{constructor(t,e,n){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=Xr(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),ei(e,n,t),new fs(n)}};function Is(t,e){return 4&t.type?new Es(e,t,Ho(t,e)):null}class xs{}class Ss{}const Ts=function(){return Ns(zt(),Ft())};let Cs=(()=>{class t{}return t.__NG_ELEMENT_ID__=Ts,t})();const js=Cs,As=class extends js{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=n}get element(){return Ho(this._hostTNode,this._hostLView)}get injector(){return new We(this._hostTNode,this._hostLView)}get parentInjector(){const t=De(this._hostTNode,this._hostLView);if(Se(t)){const e=Ce(t,this._hostLView),n=Te(t);return new We(e[1].data[n+8],e)}return new We(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=ks(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-ct}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const o=n||this.parentInjector;if(!i&&null==t.ngModule&&o){const t=o.get(xs,null);t&&(i=t)}const s=t.create(o,r,void 0,i);return this.insert(s.hostView,e),s}insert(t,e){const n=t._lView,r=n[1];if(ht(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new As(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e),o=this._lContainer;!function(t,e,n,r){const i=ct+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-ct?(e[4]=n[i],nn(n,ct+r,e)):(n.push(e),e[4]=null),e[3]=n;const s=e[17];null!==s&&n!==s&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(s,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,o,i);const s=kr(i,o),a=n[11],u=Tr(a,o[7]);return null!==u&&function(t,e,n,r,i,o){r[0]=i,r[6]=e,Nr(t,r,n,1,i,o)}(r,o[6],a,n,u,s),t.attachToViewContainerRef(),nn(Rs(o),i,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=ks(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),n=_r(this._lContainer,e);n&&(rn(Rs(this._lContainer),e),Or(n[1],n))}detach(t){const e=this._adjustIndex(t,-1),n=_r(this._lContainer,e);return n&&null!=rn(Rs(this._lContainer),e)?new fs(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function ks(t){return t[8]}function Rs(t){return t[8]||(t[8]=[])}function Ns(t,e){let n;const r=e[t.index];if(ht(r))n=r;else{let i;if(8&t.type)i=Ct(r);else{const n=e[11];i=n.createComment("");const r=jt(t,e);Ir(n,Tr(n,r),i,function(t,e){return St(t)?t.nextSibling(e):e.nextSibling}(n,r),!1)}e[t.index]=n=Oi(r,e,i,t),Si(e,n)}return new As(n,t,e)}const Ps={};class Ds extends Vo{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=st(t);return new Us(e,this.ngModule)}}function Ms(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const Ls=new Ye("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>lr});class Us extends Lo{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(Wr).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return Ms(this.componentDef.inputs)}get outputs(){return Ms(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const o=t.get(n,Ps,i);return o!==Ps||r===Ps?o:e.get(n,r,i)}}}(t,r.injector):t,o=i.get(Go,Tt),s=i.get(Qo,null),a=o.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",c=n?function(t,e,n){if(St(t))return t.selectRootElement(e,n===D.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):mr(o.createRenderer(null,this.componentDef),u,function(t){const e=t.toLowerCase();return"svg"===e?Et:"math"===e?"http://www.w3.org/1998/MathML/":null}(u)),l=this.componentDef.onPush?576:528,h={components:[],scheduler:lr,clean:ki,playerHandler:null,flags:0},f=ui(0,null,null,1,0,null,null,null,null,null),d=Xr(null,f,h,l,null,null,o,a,s,i);let p,g;ne(d);try{const t=function(t,e,n,r,i,o){const s=n[1];n[20]=t;const a=Kr(s,20,2,"#host",null),u=a.mergedAttrs=e.hostAttrs;null!==u&&(Mi(a,u,!0),null!==t&&(_e(i,t,u),null!==a.classes&&Mr(i,t,a.classes),null!==a.styles&&Dr(i,t,a.styles)));const c=r.createRenderer(t,e),l=Xr(n,ai(e),null,e.onPush?64:16,n[20],a,r,c,null,null);return s.firstCreatePass&&(Me(Re(a,n),s,e.type),gi(s,a),bi(a,n.length,1)),Si(n,l),n[20]=l}(c,this.componentDef,d,o,a);if(c)if(n)_e(a,c,["ng-version",Zo.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!zr(i))break;i=o}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&_e(a,c,t),e&&e.length>0&&Mr(a,c,e.join(" "))}if(g=At(f,ut),void 0!==e){const t=g.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}p=function(t,e,n,r,i){const o=n[1],s=function(t,e,n){const r=zt();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),yi(t,r,e,ti(t,e,1,null),n));const i=Be(e,t,r.directiveStart,r);cr(i,e);const o=jt(r,e);return o&&cr(o,e),i}(o,n,e);if(r.components.push(s),t[8]=s,i&&i.forEach(t=>t(s,e)),e.contentQueries){const t=zt();e.contentQueries(1,s,t.directiveStart)}const a=zt();return!o.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(ce(a.index),di(n[1],a,0,a.directiveStart,a.directiveEnd,e),pi(e,s)),s}(t,this.componentDef,d,h,[Ki]),ei(f,d,null)}finally{ae()}return new Vs(this.componentType,p,Ho(g,d),d,g)}}class Vs extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.instance=e,this.hostView=this.changeDetectorRef=new ds(r),this.componentType=t}get injector(){return new We(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const Fs=new Map;class Hs extends xs{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Ds(this);const n=at(t),r=t[W]||null;r&&Mo(r),this._bootstrapComponents=hr(n.bootstrap),this._r3Injector=Gi(t,e,[{provide:xs,useValue:this},{provide:Vo,useValue:this.componentFactoryResolver}],h(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=Xi.THROW_IF_NOT_FOUND,n=j.Default){return t===Xi||t===xs||t===Li?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class qs extends Ss{constructor(t){super(),this.moduleType=t,null!==at(t)&&function(t){const e=new Set;!function t(n){const r=at(n,!0),i=r.id;null!==i&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${h(e)} vs ${h(e.name)}`)}(i,Fs.get(i),n),Fs.set(i,n));const o=hr(r.imports);for(const s of o)e.has(s)||(e.add(s),t(s))}(t)}(t)}create(t){return new Hs(this.moduleType,t)}}const zs=class extends r.a{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let r,o=t=>null,s=()=>null;t&&"object"==typeof t?(r=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(o=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(s=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(o=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(s=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const a=super.subscribe(r,o,s);return t instanceof i.a&&t.add(a),a}};function Bs(){return this._results[eo()]()}class Gs{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=eo(),n=Gs.prototype;n[e]||(n[e]=Bs)}get changes(){return this._changes||(this._changes=new zs)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const n=this;n.dirty=!1;const r=tn(t);(this._changesDetected=!function(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}(n._results,r,e))&&(n._results=r,n.length=r.length,n.last=r[this.length-1],n.first=r[0])}notifyOnChanges(){!this._changes||!this._changesDetected&&this._emitDistinctChangesOnly||this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class $s{constructor(t){this.queryList=t,this.matches=null}clone(){return new $s(this.queryList)}setDirty(){this.queryList.setDirty()}}class Ws{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new Ws(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==ia(t,e).matches&&this.queries[e].setDirty()}}class Qs{constructor(t,e,n=null){this.predicate=t,this.flags=e,this.read=n}}class Js{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new Js(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Zs{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new Zs(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(t,e,Ys(e,i)),this.matchTNodeWithReadOption(t,e,ze(e,t,i,!1,!1))}else n===_s?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,ze(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===zo||r===Cs||r===_s&&4&e.type)this.addMatch(e.index,-2);else{const n=ze(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function Ys(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function Xs(t,e,n,r){return-1===n?function(t,e){return 11&t.type?Ho(t,e):4&t.type?Is(t,e):null}(e,t):-2===n?function(t,e,n){return n===zo?Ho(e,t):n===_s?Is(e,t):n===Cs?Ns(e,t):void 0}(t,e,r):Be(t,t[1],n,e)}function Ks(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const r=t.data,o=n.matches,s=[];for(let t=0;t<o.length;t+=2){const i=o[t];s.push(i<0?null:Xs(e,r[i],o[t+1],n.metadata.read))}i.matches=s}return i.matches}function ta(t,e,n,r){const i=t.queries.getByIndex(n),o=i.matches;if(null!==o){const s=Ks(t,e,i,n);for(let t=0;t<o.length;t+=2){const n=o[t];if(n>0)r.push(s[t/2]);else{const i=o[t+1],s=e[-n];for(let t=ct;t<s.length;t++){const e=s[t];e[17]===e[3]&&ta(e[1],e,i,r)}if(null!==s[9]){const t=s[9];for(let e=0;e<t.length;e++){const n=t[e];ta(n[1],n,i,r)}}}}}return r}function ea(t){const e=Ft(),n=Ht(),r=Xt();Kt(r+1);const i=ia(n,r);if(t.dirty&&Nt(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const o=i.crossesNgTemplate?ta(n,e,r,[]):Ks(n,e,i,r);t.reset(o,Bo),t.notifyOnChanges()}return!0}return!1}function na(t,e,n,r){const i=Ht();if(i.firstCreatePass){const o=zt();(function(t,e,n){null===t.queries&&(t.queries=new Js),t.queries.track(new Zs(e,n))})(i,new Qs(e,n,r),o.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(i,t),2==(2&n)&&(i.staticContentQueries=!0)}!function(t,e,n){const r=new Gs(4==(4&n));ci(t,e,r,r.destroy),null===e[19]&&(e[19]=new Ws),e[19].queries.push(new $s(r))}(i,Ft(),n)}function ra(){return t=Ft(),e=Xt(),t[19].queries[e].queryList;var t,e}function ia(t,e){return t.queries.getByIndex(e)}function oa(t=j.Default){const e=vs(!0);if(null!=e||t&j.Optional)return e;m("ChangeDetectorRef")}const sa=new Ye("Application Initializer");let aa=(()=>{class t{constructor(t){this.appInits=t,this.resolve=Fo,this.reject=Fo,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();vo(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(fn(sa,8))},t.\u0275prov=w({token:t,factory:t.\u0275fac}),t})();const ua=new Ye("AppId"),ca={provide:ua,useFactory:function(){return`${la()}${la()}${la()}`},deps:[]};function la(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const ha=new Ye("Platform Initializer"),fa=new Ye("Platform ID"),da=new Ye("appBootstrapListener");let pa=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=w({token:t,factory:t.\u0275fac}),t})();const ga=new Ye("LocaleId"),va=new Ye("DefaultCurrencyCode");class ba{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const ya=function(t){return new qs(t)},ma=ya,wa=function(t){return Promise.resolve(ya(t))},_a=function(t){const e=ya(t),n=hr(at(t).declarations).reduce((t,e)=>{const n=st(e);return n&&t.push(new Us(n)),t},[]);return new ba(e,n)},Oa=_a,Ea=function(t){return Promise.resolve(_a(t))};let Ia=(()=>{class t{constructor(){this.compileModuleSync=ma,this.compileModuleAsync=wa,this.compileModuleAndAllComponentsSync=Oa,this.compileModuleAndAllComponentsAsync=Ea}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=w({token:t,factory:t.\u0275fac}),t})();const xa=(()=>Promise.resolve(0))();function Sa(t){"undefined"==typeof Zone?xa.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Ta{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new zs(!1),this.onMicrotaskEmpty=new zs(!1),this.onStable=new zs(!1),this.onError=new zs(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!n&&e,r.shouldCoalesceRunChangeDetection=n,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function(){let t=F.requestAnimationFrame,e=F.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(F,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Aa(t),ja(t)},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Aa(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{try{return ka(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||t.shouldCoalesceRunChangeDetection)&&e(),Ra(t)}},onInvoke:(n,r,i,o,s,a,u)=>{try{return ka(t),n.invoke(i,o,s,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),Ra(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,Aa(t),ja(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(r)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ta.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Ta.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,Ca,Fo,Fo);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}const Ca={};function ja(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Aa(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function ka(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Ra(t){t._nesting--,ja(t)}class Na{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new zs,this.onMicrotaskEmpty=new zs,this.onStable=new zs,this.onError=new zs}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let Pa=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ta.assertNotInAngularZone(),Sa(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Sa(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(fn(Ta))},t.\u0275prov=w({token:t,factory:t.\u0275fac}),t})(),Da=(()=>{class t{constructor(){this._applications=new Map,Va.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return Va.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=w({token:t,factory:t.\u0275fac}),t})();class Ma{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function La(t){Va=t}let Ua,Va=new Ma,Fa=!0,Ha=!1;function qa(){return Ha=!0,Fa}function za(){if(Ha)throw new Error("Cannot enable prod mode after platform setup.");Fa=!1}const Ba=new Ye("AllowMultipleToken");class Ga{constructor(t,e){this.name=t,this.token=e}}function $a(t,e,n=[]){const r=`Platform: ${e}`,i=new Ye(r);return(e=[])=>{let o=Wa();if(!o||o.injector.get(Ba,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:Vi,useValue:"platform"});!function(t){if(Ua&&!Ua.destroyed&&!Ua.injector.get(Ba,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Ua=t.get(Qa);const e=t.get(ha,null);e&&e.forEach(t=>t())}(Xi.create({providers:t,name:r}))}return function(t){const e=Wa();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function Wa(){return Ua&&!Ua.destroyed?Ua:null}let Qa=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new Na:("zone.js"===t?void 0:t)||new Ta({enableLongStackTrace:qa(),shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),n}(e?e.ngZone:void 0,{ngZoneEventCoalescing:e&&e.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:e&&e.ngZoneRunCoalescing||!1}),r=[{provide:Ta,useValue:n}];return n.run(()=>{const e=Xi.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),o=i.injector.get(ur,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular(()=>{const t=n.onError.subscribe({next:t=>{o.handleError(t)}});i.onDestroy(()=>{Ya(this._modules,i),t.unsubscribe()})}),function(t,e,n){try{const r=n();return vo(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,n,()=>{const t=i.injector.get(aa);return t.runInitializers(),t.donePromise.then(()=>(Mo(i.injector.get(ga,Po)||Po),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=Ja({},e);return function(t,e,n){const r=new qs(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(Za);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${h(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(fn(Xi))},t.\u0275prov=w({token:t,factory:t.\u0275fac}),t})();function Ja(t,e){return Array.isArray(e)?e.reduce(Ja,t):Object.assign(Object.assign({},t),e)}let Za=(()=>{class t{constructor(t,e,n,r,i){this._zone=t,this._injector=e,this._exceptionHandler=n,this._componentFactoryResolver=r,this._initStatus=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const l=new o.a(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),h=new o.a(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{Ta.assertNotInAngularZone(),Sa(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{Ta.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(s.a)(l,h.pipe(t=>{return Object(u.a)()((e=c,function(t){let n;n="function"==typeof e?e:function(){return e};const r=Object.create(t,a.b);return r.source=t,r.subjectFactory=n,r})(t));var e}))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof Lo?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(xs),i=n.create(Xi.NULL,[],e||n.selector,r),o=i.location.nativeElement,s=i.injector.get(Pa,null),a=s&&i.injector.get(Da);return s&&a&&a.registerApplication(o,s),i.onDestroy(()=>{this.detachView(i.hostView),Ya(this.components,i),a&&a.unregisterApplication(o)}),this._loadComponent(i),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;Ya(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(da,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(fn(Ta),fn(Xi),fn(ur),fn(Vo),fn(aa))},t.\u0275prov=w({token:t,factory:t.\u0275fac}),t})();function Ya(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Xa{}class Ka{}const tu={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let eu=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||tu}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n("zn8P")(e).then(t=>t[r]).then(t=>nu(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>nu(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(fn(Ia),fn(Ka,8))},t.\u0275prov=w({token:t,factory:t.\u0275fac}),t})();function nu(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const ru=function(t){return null},iu=$a(null,"core",[{provide:fa,useValue:"unknown"},{provide:Qa,deps:[Xi]},{provide:Da,deps:[]},{provide:pa,deps:[]}]),ou=[{provide:Za,useClass:Za,deps:[Ta,Xi,ur,Vo,aa]},{provide:Ls,deps:[Ta],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:aa,useClass:aa,deps:[[new vn,sa]]},{provide:Ia,useClass:Ia,deps:[]},ca,{provide:us,useFactory:function(){return ys},deps:[]},{provide:ls,useFactory:function(){return ms},deps:[]},{provide:ga,useFactory:function(t){return Mo(t=t||"undefined"!=typeof $localize&&$localize.locale||Po),t},deps:[[new gn(ga),new vn,new bn]]},{provide:va,useValue:"USD"}];let su=(()=>{class t{constructor(t){}}return t.\u0275mod=et({type:t}),t.\u0275inj=_({factory:function(e){return new(e||t)(fn(Za))},providers:ou}),t})()},gRHU:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("2fFW"),i=n("NJ4a");const o={closed:!0,next(t){},error(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete(){}}},jZKg:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("HDdC"),i=n("quSY");function o(t,e){return new r.a(n=>{const r=new i.a;let o=0;return r.add(e.schedule(function(){o!==t.length?(n.next(t[o++]),n.closed||r.add(this.schedule())):n.complete()})),r})}},kJWO:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},lJxs:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new o(t,e))}}class o{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new s(t,this.project,this.thisArg))}}class s extends r.a{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",function(){return r})},ngJS:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}},pxpQ:function(t,e,n){"use strict";n.d(e,"b",function(){return u}),n.d(e,"a",function(){return l});var r=n("7o/Q"),i=n("EY2u"),o=n("LRne"),s=n("HDdC");let a=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Object(o.a)(this.value);case"E":return t=this.error,new s.a(e=>e.error(t));case"C":return Object(i.b)()}var t;throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})();function u(t,e=0){return function(n){return n.lift(new c(t,e))}}class c{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new l(t,this.scheduler,this.delay))}}class l extends r.a{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(l.dispatch,this.delay,new h(t,this.destination)))}_next(t){this.scheduleMessage(a.createNext(t))}_error(t){this.scheduleMessage(a.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(a.createComplete()),this.unsubscribe()}}class h{constructor(t,e){this.notification=t,this.destination=e}}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}var i;n.d(e,"a",function(){return s}),n.d(e,"b",function(){return h}),n.d(e,"c",function(){return f}),n.d(e,"d",function(){return d});var o=[],s=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:s.DEBUG,verbose:s.VERBOSE,info:s.INFO,warn:s.WARN,error:s.ERROR,silent:s.SILENT},u=s.INFO,c=((i={})[s.DEBUG]="log",i[s.VERBOSE]="log",i[s.INFO]="info",i[s.WARN]="warn",i[s.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),s=c[e];if(!s)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[s].apply(console,r(["["+o+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in s))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.DEBUG],t)),this._logHandler.apply(this,r([this,s.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.VERBOSE],t)),this._logHandler.apply(this,r([this,s.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.INFO],t)),this._logHandler.apply(this,r([this,s.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.WARN],t)),this._logHandler.apply(this,r([this,s.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.ERROR],t)),this._logHandler.apply(this,r([this,s.ERROR],t))},t}();function f(t){o.forEach(function(e){e.setLogLevel(t)})}function d(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map(function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}}).filter(function(t){return t}).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:s[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=o;r<i.length;r++)n(i[r])}},qOnz:function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return b}),n.d(e,"c",function(){return v}),n.d(e,"d",function(){return w}),n.d(e,"e",function(){return _}),n.d(e,"f",function(){return i}),n.d(e,"g",function(){return o}),n.d(e,"h",function(){return a}),n.d(e,"i",function(){return l}),n.d(e,"j",function(){return h}),n.d(e,"k",function(){return d}),n.d(e,"l",function(){return p}),n.d(e,"m",function(){return u}),n.d(e,"n",function(){return c}),n.d(e,"o",function(){return f}),n.d(e,"p",function(){return g});var r=n("30Go");function i(t){return o(void 0,t)}function o(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=o(t[n],e[n]));return t}var s=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}();function a(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function u(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(a())}function c(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function l(){return"object"==typeof self&&self.self===self}function h(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function f(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function d(){return a().indexOf("Electron/")>=0}function p(){var t=a();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function g(){return a().indexOf("MSAppHost/")>=0}var v=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,b.prototype.create),o}return Object(r.c)(e,t),e}(Error),b=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?y(o,r):"Error",a=this.serviceName+": "+s+" ("+i+").",u=new v(i,a,r);return u},t}();function y(t,e){return t.replace(m,function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"})}var m=/\{\$([^}]+)}/g;function w(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function _(t,e){var n=new O(t,e);return n.subscribe.bind(n)}var O=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=E),void 0===r.error&&(r.error=E),void 0===r.complete&&(r.complete=E);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function E(){}},qgXg:function(t,e,n){"use strict";n.d(e,"b",function(){return a}),n.d(e,"a",function(){return u});var r=n("3N8a");class i extends r.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}var o=n("IjjT");class s extends o.a{}const a=new s(i),u=a},quSY:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("DH7j"),i=n("XoHu"),o=n("n6bG");const s=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let a=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:a,_unsubscribe:c,_subscriptions:l}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(Object(o.a)(c)){a&&(this._unsubscribe=void 0);try{c.call(this)}catch(h){e=h instanceof s?u(h.errors):[h]}}if(Object(r.a)(l)){let t=-1,n=l.length;for(;++t<n;){const n=l[t];if(Object(i.a)(n))try{n.unsubscribe()}catch(h){e=e||[],h instanceof s?e=e.concat(u(h.errors)):e.push(h)}}}if(e)throw new s(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function u(t){return t.reduce((t,e)=>t.concat(e instanceof s?e.errors:e),[])}},spgP:function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return S}),n.d(e,"b",function(){return m}),n.d(e,"c",function(){return y}),n.d(e,"d",function(){return d}),n.d(e,"e",function(){return b}),n.d(e,"f",function(){return I}),n.d(e,"g",function(){return _}),n.d(e,"h",function(){return p}),n.d(e,"i",function(){return v}),n.d(e,"j",function(){return O});var r=n("qgXg"),i=n("D0XW"),o=n("vkgz"),s=n("tf+s"),a=n("pxpQ"),u=n("fXoL"),c=n("Jgta");function l(){}class h{constructor(t,e=r.b){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule(function(e){r.runGuarded(()=>{t.apply(this,[e])})},e,n)}}class f{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",l,{},l,l)),e.pipe(Object(o.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class d{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new h(Zone.current)),this.insideAngular=t.run(()=>new h(Zone.current,i.b))}}function p(t){return function(e){return(e=e.lift(new f(t.ngZone))).pipe(Object(s.a)(t.outsideAngular),Object(a.b)(t.insideAngular))}}const g=["ngOnDestroy"],v=(t,e,n,r={})=>new Proxy(t,{get:(i,o)=>n.runOutsideAngular(()=>{var i;if(t[o])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(o,t[o]),t[o];if(g.indexOf(o)>-1)return()=>{};const s=e.toPromise().then(t=>{const e=t&&t[o];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>s[e],apply:(t,e,n)=>s.then(t=>{var e;const i=t&&t(...n);return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(o,n,i),i})})})}),b=(t,e)=>{e.forEach(e=>{Object.getOwnPropertyNames(e.prototype||e).forEach(n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},y=new u.r("angularfire2.app.options"),m=new u.r("angularfire2.app.nameOrConfig"),w=new u.P("6.1.4");function _(e,n,r){const i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";const o=c.a.apps.filter(t=>t&&t.name===i.name)[0]||n.runOutsideAngular(()=>c.a.initializeApp(e,i));try{JSON.stringify(e)!==JSON.stringify(o.options)&&E("error",`${o.name} Firebase App already initialized with different options${t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(s){}return o}const O=()=>{E("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},E=(t,...e)=>{Object(u.U)()&&"undefined"!=typeof console&&console[t](...e)};function I(e,n,r,i,o){const[s,...a]=globalThis.\u0275AngularfireInstanceCache.get(e)||[];if(s){try{o.some((t,e)=>{const n=a[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&E("error",`${n} was already initialized on the ${r.name} Firebase App instance with different settings.${t.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(u){}return s}{const t=i();return globalThis.\u0275AngularfireInstanceCache.set(e,[t,...o]),t}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const x={provide:class{},useFactory:_,deps:[y,u.A,[new u.B,m]]};let S=(()=>{class t{constructor(t){c.a.registerVersion("angularfire",w.full,t.toString()),c.a.registerVersion("angular",u.O.full)}static initializeApp(e,n){return{ngModule:t,providers:[{provide:y,useValue:e},{provide:m,useValue:n}]}}}return t.\u0275mod=u.Eb({type:t}),t.\u0275inj=u.Db({factory:function(e){return new(e||t)(u.Mb(u.C))},providers:[x]}),t})()}).call(this,n("3UD+")(t))},"tf+s":function(t,e,n){"use strict";n.d(e,"a",function(){return v});var r=n("HDdC");let i=1;const o=(()=>Promise.resolve())(),s={};function a(t){return t in s&&(delete s[t],!0)}const u={setImmediate(t){const e=i++;return s[e]=!0,o.then(()=>a(e)&&t()),e},clearImmediate(t){a(t)}};var c=n("3N8a");class l extends c.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=u.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(u.clearImmediate(e),t.scheduled=void 0)}}var h=n("IjjT");class f extends h.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const d=new f(l);var p=n("DH7j");class g extends r.a{constructor(t,e=0,n=d){var r;super(),this.source=t,this.delayTime=e,this.scheduler=n,r=e,(Object(p.a)(r)||!(r-parseFloat(r)+1>=0)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=d)}static create(t,e=0,n=d){return new g(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(g.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function v(t,e=0){return function(n){return n.lift(new b(t,e))}}class b{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new g(e,this.delay,this.scheduler).subscribe(t)}}},vkgz:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("7o/Q");function i(){}var o=n("n6bG");function s(t,e,n){return function(r){return r.lift(new a(t,e,n))}}class a{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new u(t,this.nextOrObserver,this.error,this.complete))}}class u extends r.a{constructor(t,e,n,r){super(t),this._tapNext=i,this._tapError=i,this._tapComplete=i,this._tapError=n||i,this._tapComplete=r||i,Object(o.a)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||i,this._tapError=e.error||i,this._tapComplete=e.complete||i)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},"x+ZX":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(){return function(t){return t.lift(new o(t))}}class o{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new s(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class s extends r.a{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}},yCtX:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("HDdC"),i=n("ngJS"),o=n("jZKg");function s(t,e){return e?Object(o.a)(t,e):new r.a(Object(i.a)(t))}},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",function(){return r})},zIRd:function(t,e,n){"use strict";var r,i,o=n("30Go"),s=n("qOnz"),a=n("/6Yf"),u=n("q/0M"),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new s.b("app","Firebase",c),h="@firebase/app",f="[DEFAULT]",d=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),p=new u.b("@firebase/app"),g=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(s.f)(t),this.container=new a.b(e.name),this._addComponent(new a.a("app",function(){return r},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(t){return r._addComponent(t)})}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(t){return t.delete()}))}).then(function(){t.isDeleted_=!0})},t.prototype._getService=function(t,e){return void 0===e&&(e=f),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=f),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){p.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();g.prototype.name&&g.prototype.options||g.prototype.delete||console.log("dc");var v=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name=f);var a=o.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if(Object(s.d)(e,a))throw l.create("duplicate-app",{appName:a});var u=new t(n,o,r);return e[a]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=d[t])&&void 0!==r?r:t;n&&(i+="-"+n);var s=i.match(/\s|\//),u=e.match(/\s|\//);if(s||u){var c=['Unable to register library "'+i+'" with version "'+e+'":'];return s&&c.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),s&&u&&c.push("and"),u&&c.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void p.warn(c.join(" "))}o(new a.a(i+"-version",function(){return{library:i,version:e}},"VERSION"))},setLogLevel:u.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument");Object(u.d)(t,e)},apps:null,SDK_VERSION:"8.2.9",INTERNAL:{registerComponent:o,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||f,!Object(s.d)(e,t))throw l.create("no-app",{appName:t});return e[t]}function o(o){var a=o.name;if(n.has(a))return p.debug("There were multiple attempts to register component "+a+"."),"PUBLIC"===o.type?r[a]:null;if(n.set(a,o),"PUBLIC"===o.type){var u=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[a])throw l.create("invalid-app-argument",{appName:a});return t[a]()};void 0!==o.serviceProps&&Object(s.g)(u,o.serviceProps),r[a]=u,t.prototype[a]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,a).apply(this,o.multipleInstances?t:[])}}for(var c=0,h=Object.keys(e);c<h.length;c++)e[h[c]]._addComponent(o);return"PUBLIC"===o.type?r[a]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map(function(t){return e[t]})}}),i.App=t,r}(g);return e.INTERNAL=Object(o.a)(Object(o.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(s.g)(e,t)},createSubscribe:s.e,ErrorFactory:s.b,deepExtend:s.g}),e}(),b=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null}).filter(function(t){return t}).join(" ")},t}();if(Object(s.i)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var y=self.firebase.SDK_VERSION;y&&y.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var m=v.initializeApp;v.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(s.n)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),m.apply(void 0,t)};var w=v;!function(t,e){t.INTERNAL.registerComponent(new a.a("platform-logger",function(t){return new b(t)},"PRIVATE")),t.registerVersion(h,"0.6.15",void 0),t.registerVersion("fire-js","")}(w),e.a=w},zUnb:function(t,e,n){"use strict";n.r(e);var r=n("fXoL");let i=null;function o(){return i}const s=new r.r("DocumentToken");let a=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Cb)({factory:u,token:t,providedIn:"platform"}),t})();function u(){return Object(r.Mb)(l)}const c=new r.r("Location Initialized");let l=(()=>{class t extends a{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=o().getLocation(),this._history=o().getHistory()}getBaseHrefFromDOM(){return o().getBaseHref(this._doc)}onPopState(t){o().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){o().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){h()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){h()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(s))},t.\u0275prov=Object(r.Cb)({factory:f,token:t,providedIn:"platform"}),t})();function h(){return!!window.history.pushState}function f(){return new l(Object(r.Mb)(s))}function d(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function p(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function g(t){return t&&"?"!==t[0]?"?"+t:t}let v=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Cb)({factory:b,token:t,providedIn:"root"}),t})();function b(t){const e=Object(r.Mb)(s).location;return new m(Object(r.Mb)(a),e&&e.origin||"")}const y=new r.r("appBaseHref");let m=(()=>{class t extends v{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return d(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+g(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+g(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+g(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(a),r.Mb(y,8))},t.\u0275prov=r.Cb({token:t,factory:t.\u0275fac}),t})(),w=(()=>{class t extends v{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=d(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+g(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+g(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(a),r.Mb(y,8))},t.\u0275prov=r.Cb({token:t,factory:t.\u0275fac}),t})(),_=(()=>{class t{constructor(t,e){this._subject=new r.n,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=p(E(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+g(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,E(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+g(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+g(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(v),r.Mb(a))},t.normalizeQueryParams=g,t.joinWithSlash=d,t.stripTrailingSlash=p,t.\u0275prov=Object(r.Cb)({factory:O,token:t,providedIn:"root"}),t})();function O(){return new _(Object(r.Mb)(v),Object(r.Mb)(a))}function E(t){return t.replace(/\/index.html$/,"")}var I=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({});const x=r.lb;class S{}let T=(()=>{class t extends S{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(x(e||this.locale)(t)){case I.Zero:return"zero";case I.One:return"one";case I.Two:return"two";case I.Few:return"few";case I.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.v))},t.\u0275prov=r.Cb({token:t,factory:t.\u0275fac}),t})();class C{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let j=(()=>{class t{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const e=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||e,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),e}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let e=0;e<this._defaultViews.length;e++)this._defaultViews[e].enforceState(t)}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Bb({type:t,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),t})(),A=(()=>{class t{constructor(t,e,n){this.ngSwitch=n,n._addCase(),this._view=new C(t,e)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return t.\u0275fac=function(e){return new(e||t)(r.Gb(r.Q),r.Gb(r.L),r.Gb(j,1))},t.\u0275dir=r.Bb({type:t,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),t})(),k=(()=>{class t{constructor(t,e,n){n._addDefault(new C(t,e))}}return t.\u0275fac=function(e){return new(e||t)(r.Gb(r.Q),r.Gb(r.L),r.Gb(j,1))},t.\u0275dir=r.Bb({type:t,selectors:[["","ngSwitchDefault",""]]}),t})(),R=(()=>{class t{}return t.\u0275mod=r.Eb({type:t}),t.\u0275inj=r.Db({factory:function(e){return new(e||t)},providers:[{provide:S,useClass:T}]}),t})();function N(t){return"server"===t}let P=(()=>{class t{}return t.\u0275prov=Object(r.Cb)({token:t,providedIn:"root",factory:()=>new D(Object(r.Mb)(s),window)}),t})();class D{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){var e;if(!this.supportsScrolling())return;const n=null!==(e=this.document.getElementById(t))&&void 0!==e?e:this.document.getElementsByName(t)[0];void 0!==n&&(this.scrollToElement(n),this.attemptFocus(n))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=M(this.window.history)||M(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function M(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class L extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new L,i||(i=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=V||(V=document.querySelector("base"),V)?V.getAttribute("href"):null;return null==e?null:(n=e,U||(U=document.createElement("a")),U.setAttribute("href",n),"/"===U.pathname.charAt(0)?U.pathname:"/"+U.pathname);var n}resetBaseElement(){V=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return function(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}(document.cookie,t)}}let U,V=null;const F=new r.r("TRANSITION_ID"),H=[{provide:r.d,useFactory:function(t,e,n){return()=>{n.get(r.e).donePromise.then(()=>{const n=o();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[F,s,r.s],multi:!0}];class q{static init(){Object(r.W)(new q)}addToWindow(t){r.nb.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.nb.getAllAngularTestabilities=()=>t.getAllTestabilities(),r.nb.getAllAngularRootElements=()=>t.getAllRootElements(),r.nb.frameworkStabilizers||(r.nb.frameworkStabilizers=[]),r.nb.frameworkStabilizers.push(t=>{const e=r.nb.getAllAngularTestabilities();let n=e.length,i=!1;const o=function(e){i=i||e,n--,0==n&&t(i)};e.forEach(function(t){t.whenStable(o)})})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?o().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const z=new r.r("EventManagerPlugins");let B=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error(`No event manager plugin found for event ${t}`)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(z),r.Mb(r.A))},t.\u0275prov=r.Cb({token:t,factory:t.\u0275fac}),t})();class G{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=o().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let $=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Cb({token:t,factory:t.\u0275fac}),t})(),W=(()=>{class t extends ${constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>o().remove(t))}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(s))},t.\u0275prov=r.Cb({token:t,factory:t.\u0275fac}),t})();const Q={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},J=/%COMP%/g;function Z(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?Z(t,i,n):(i=i.replace(J,t),n.push(i))}return n}function Y(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let X=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new K(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.R.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new tt(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case 1:case r.R.ShadowDom:return new et(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=Z(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(B),r.Mb(W),r.Mb(r.c))},t.\u0275prov=r.Cb({token:t,factory:t.\u0275fac}),t})();class K{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(Q[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=Q[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=Q[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&(r.G.DashCase|r.G.Important)?t.style.setProperty(e,n,i&r.G.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&r.G.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Y(n)):this.eventManager.addEventListener(t,e,Y(n))}}class tt extends K{constructor(t,e,n,r){super(t),this.component=n;const i=Z(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(J,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(J,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class et extends K{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=Z(r.id,r.styles,[]);for(let o=0;o<i.length;o++){const t=document.createElement("style");t.textContent=i[o],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let nt=(()=>{class t extends G{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(s))},t.\u0275prov=r.Cb({token:t,factory:t.\u0275fac}),t})();const rt=["alt","control","meta","shift"],it={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ot={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},st={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let at=(()=>{class t extends G{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),s=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>o().onAndCancel(e,i.domEventName,s))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let o="";if(rt.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),o+=t+".")}),o+=i,0!=n.length||0===i.length)return null;const s={};return s.domEventName=r,s.fullKey=o,s}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&ot.hasOwnProperty(e)&&(e=ot[e]))}return it[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),rt.forEach(r=>{r!=n&&(0,st[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(s))},t.\u0275prov=r.Cb({token:t,factory:t.\u0275fac}),t})();const ut=[{provide:r.C,useValue:"browser"},{provide:r.D,useValue:function(){L.makeCurrent(),q.init()},multi:!0},{provide:s,useFactory:function(){return Object(r.tb)(document),document},deps:[]}],ct=Object(r.S)(r.V,"browser",ut),lt=[[],{provide:r.Y,useValue:"root"},{provide:r.m,useFactory:function(){return new r.m},deps:[]},{provide:z,useClass:nt,multi:!0,deps:[s,r.A,r.C]},{provide:z,useClass:at,multi:!0,deps:[s]},[],{provide:X,useClass:X,deps:[B,W,r.c]},{provide:r.F,useExisting:X},{provide:$,useExisting:W},{provide:W,useClass:W,deps:[s]},{provide:r.M,useClass:r.M,deps:[r.A]},{provide:B,useClass:B,deps:[z,r.A]},[]];let ht=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:r.c,useValue:e.appId},{provide:F,useExisting:r.c},H]}}}return t.\u0275mod=r.Eb({type:t}),t.\u0275inj=r.Db({factory:function(e){return new(e||t)(r.Mb(t,12))},providers:lt,imports:[R,r.f]}),t})();"undefined"!=typeof window&&window;var ft=n("Cfvw"),dt=n("LRne"),pt=n("XNiG"),gt=n("9ppp");class vt extends pt.a{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new gt.a;return this._value}next(t){super.next(this._value=t)}}var bt=n("z+Ro"),yt=n("DH7j"),mt=n("7o/Q");class wt extends mt.a{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class _t extends mt.a{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var Ot=n("SeVD"),Et=n("HDdC");function It(t,e,n,r,i=new _t(t,n,r)){if(!i.closed)return e instanceof Et.a?e.subscribe(i):Object(Ot.a)(e)(i)}var xt=n("yCtX");const St={};class Tt{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new Ct(t,this.resultSelector))}}class Ct extends wt{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(St),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++)this.add(It(this,t[n],void 0,n))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n){const r=this.values,i=this.toRespond?r[n]===St?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}const jt=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();var At=n("bHdf");function kt(...t){return Object(At.a)(1)(Object(dt.a)(...t))}var Rt=n("EY2u");function Nt(t){return new Et.a(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(ft.a)(n):Object(Rt.b)()).subscribe(e)})}var Pt=n("EQ5u"),Dt=n("lJxs"),Mt=n("zx2A");function Lt(t,e){return"function"==typeof e?n=>n.pipe(Lt((n,r)=>Object(ft.a)(t(n,r)).pipe(Object(Dt.a)((t,i)=>e(n,t,r,i))))):e=>e.lift(new Ut(t))}class Ut{constructor(t){this.project=t}call(t,e){return e.subscribe(new Vt(t,this.project))}}class Vt extends Mt.b{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new Mt.a(this),r=this.destination;r.add(n),this.innerSubscription=Object(Mt.c)(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}const Ft=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function Ht(t){return e=>0===t?Object(Rt.b)():e.lift(new qt(t))}class qt{constructor(t){if(this.total=t,this.total<0)throw new Ft}call(t,e){return e.subscribe(new zt(t,this.total))}}class zt extends mt.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function Bt(...t){const e=t[t.length-1];return Object(bt.a)(e)?(t.pop(),n=>kt(t,n,e)):e=>kt(t,e)}function Gt(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new $t(t,e,n))}}class $t{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new Wt(t,this.accumulator,this.seed,this.hasSeed))}}class Wt extends mt.a{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function Qt(t,e){return function(n){return n.lift(new Jt(t,e))}}class Jt{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new Zt(t,this.predicate,this.thisArg))}}class Zt extends mt.a{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}function Yt(t){return function(e){const n=new Xt(t),r=e.lift(n);return n.caught=r}}class Xt{constructor(t){this.selector=t}call(t,e){return e.subscribe(new Kt(t,this.selector,this.caught))}}class Kt extends Mt.b{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new Mt.a(this);this.add(r);const i=Object(Mt.c)(n,r);i!==r&&this.add(i)}}}var te=n("5+tZ");function ee(t,e){return Object(te.a)(t,e,1)}function ne(t){return function(e){return 0===t?Object(Rt.b)():e.lift(new re(t))}}class re{constructor(t){if(this.total=t,this.total<0)throw new Ft}call(t,e){return e.subscribe(new ie(t,this.total))}}class ie extends mt.a{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}function oe(t=ue){return e=>e.lift(new se(t))}class se{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new ae(t,this.errorFactory))}}class ae extends mt.a{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch($y){t=$y}this.destination.error(t)}}}function ue(){return new jt}function ce(t=null){return e=>e.lift(new le(t))}class le{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new he(t,this.defaultValue))}}class he extends mt.a{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var fe=n("SpAZ");function de(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Qt((e,n)=>t(e,n,r)):fe.a,Ht(1),n?ce(e):oe(()=>new jt))}var pe=n("vkgz"),ge=n("x+ZX"),ve=n("quSY");class be{constructor(t){this.callback=t}call(t,e){return e.subscribe(new ye(t,this.callback))}}class ye extends mt.a{constructor(t,e){super(t),this.add(new ve.a(e))}}class me{constructor(t,e){this.id=t,this.url=e}}class we extends me{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class _e extends me{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Oe extends me{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ee extends me{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Ie extends me{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xe extends me{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Se extends me{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Te extends me{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ce extends me{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class je{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ae{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ke{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Re{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ne{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Pe{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class De{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Me="primary";class Le{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Ue(t){return new Le(t)}function Ve(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function Fe(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const e=r[o],n=t[o];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function He(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!qe(t[i],e[i]))return!1;return!0}function qe(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((t,e)=>r[e]===t)}return t===e}function ze(t){return Array.prototype.concat.apply([],t)}function Be(t){return t.length>0?t[t.length-1]:null}function Ge(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function $e(t){return Object(r.pb)(t)?t:Object(r.qb)(t)?Object(ft.a)(Promise.resolve(t)):Object(dt.a)(t)}function We(t,e,n){return n?function(t,e){return He(t,e)}(t.queryParams,e.queryParams)&&Qe(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>qe(t[n],e[n]))}(t.queryParams,e.queryParams)&&Je(t.root,e.root)}function Qe(t,e){if(!tn(t.segments,e.segments))return!1;if(t.numberOfChildren!==e.numberOfChildren)return!1;for(const n in e.children){if(!t.children[n])return!1;if(!Qe(t.children[n],e.children[n]))return!1}return!0}function Je(t,e){return Ze(t,e,e.segments)}function Ze(t,e,n){if(t.segments.length>n.length)return!!tn(t.segments.slice(0,n.length),n)&&!e.hasChildren();if(t.segments.length===n.length){if(!tn(t.segments,n))return!1;for(const n in e.children){if(!t.children[n])return!1;if(!Je(t.children[n],e.children[n]))return!1}return!0}{const r=n.slice(0,t.segments.length),i=n.slice(t.segments.length);return!!tn(t.segments,r)&&!!t.children.primary&&Ze(t.children.primary,e,i)}}class Ye{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ue(this.queryParams)),this._queryParamMap}toString(){return rn.serialize(this)}}class Xe{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Ge(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return on(this)}}class Ke{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Ue(this.parameters)),this._parameterMap}toString(){return fn(this)}}function tn(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}class en{}class nn{parse(t){const e=new bn(t);return new Ye(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){var e;return`/${sn(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${un(e)}=${un(t)}`).join("&"):`${un(e)}=${un(n)}`});return e.length?`?${e.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${e=t.fragment,encodeURI(e)}`:""}`}}const rn=new nn;function on(t){return t.segments.map(t=>fn(t)).join("/")}function sn(t,e){if(!t.hasChildren())return on(t);if(e){const e=t.children.primary?sn(t.children.primary,!1):"",n=[];return Ge(t.children,(t,e)=>{e!==Me&&n.push(`${e}:${sn(t,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=function(t,e){let n=[];return Ge(t.children,(t,r)=>{r===Me&&(n=n.concat(e(t,r)))}),Ge(t.children,(t,r)=>{r!==Me&&(n=n.concat(e(t,r)))}),n}(t,(e,n)=>n===Me?[sn(t.children.primary,!1)]:[`${n}:${sn(e,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children.primary?`${on(t)}/${e[0]}`:`${on(t)}/(${e.join("//")})`}}function an(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function un(t){return an(t).replace(/%3B/gi,";")}function cn(t){return an(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ln(t){return decodeURIComponent(t)}function hn(t){return ln(t.replace(/\+/g,"%20"))}function fn(t){return`${cn(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${cn(t)}=${cn(e[t])}`).join("")}`;var e}const dn=/^[^\/()?;=#]+/;function pn(t){const e=t.match(dn);return e?e[0]:""}const gn=/^[^=?&#]+/,vn=/^[^?&#]+/;class bn{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Xe([],{}):new Xe([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new Xe(t,e)),n}parseSegment(){const t=pn(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new Ke(ln(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=pn(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=pn(this.remaining);t&&(n=t,this.capture(n))}t[ln(e)]=ln(n)}parseQueryParam(t){const e=function(t){const e=t.match(gn);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(vn);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=hn(e),i=hn(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=pn(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=Me);const o=this.parseChildren();e[i]=1===Object.keys(o).length?o.primary:new Xe([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class yn{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=mn(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=mn(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=wn(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return wn(t,this._root).map(t=>t.value)}}function mn(t,e){if(t===e.value)return e;for(const n of e.children){const e=mn(t,n);if(e)return e}return null}function wn(t,e){if(t===e.value)return[e];for(const n of e.children){const r=wn(t,n);if(r.length)return r.unshift(e),r}return[]}class _n{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function On(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class En extends yn{constructor(t,e){super(t),this.snapshot=e,jn(this,t)}toString(){return this.snapshot.toString()}}function In(t,e){const n=function(t,e){const n=new Tn([],{},{},"",{},Me,e,null,t.root,-1,{});return new Cn("",new _n(n,[]))}(t,e),r=new vt([new Ke("",{})]),i=new vt({}),o=new vt({}),s=new vt({}),a=new vt(""),u=new xn(r,i,s,a,o,Me,e,n.root);return u.snapshot=n.root,new En(new _n(u,[]),n)}class xn{constructor(t,e,n,r,i,o,s,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Object(Dt.a)(t=>Ue(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(Dt.a)(t=>Ue(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Sn(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Tn{constructor(t,e,n,r,i,o,s,a,u,c,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this.routeConfig=a,this._urlSegment=u,this._lastPathIndex=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ue(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ue(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Cn extends yn{constructor(t,e){super(e),this.url=t,jn(this,e)}toString(){return An(this._root)}}function jn(t,e){e.value._routerState=t,e.children.forEach(e=>jn(t,e))}function An(t){const e=t.children.length>0?` { ${t.children.map(An).join(", ")} } `:"";return`${t.value}${e}`}function kn(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,He(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),He(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!He(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),He(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Rn(t,e){return He(t.params,e.params)&&function(t,e){return tn(t,e)&&t.every((t,n)=>He(t.parameters,e[n].parameters))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||Rn(t.parent,e.parent))}function Nn(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function(t,e,n){return e.children.map(e=>{for(const r of n.children)if(t.shouldReuseRoute(e.value,r.value.snapshot))return Nn(t,e,r);return Nn(t,e)})}(t,e,n);return new _n(r,i)}{const n=t.retrieve(e.value);if(n){const t=n.route;return Pn(e,t),t}{const n=new xn(new vt((r=e.value).url),new vt(r.params),new vt(r.queryParams),new vt(r.fragment),new vt(r.data),r.outlet,r.component,r),i=e.children.map(e=>Nn(t,e));return new _n(n,i)}}var r}function Pn(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(let n=0;n<t.children.length;++n)Pn(t.children[n],e.children[n])}function Dn(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Mn(t){return"object"==typeof t&&null!=t&&t.outlets}function Ln(t,e,n,r,i){let o={};return r&&Ge(r,(t,e)=>{o[e]=Array.isArray(t)?t.map(t=>`${t}`):`${t}`}),new Ye(n.root===t?e:Un(n.root,t,e),o,i)}function Un(t,e,n){const r={};return Ge(t.children,(t,i)=>{r[i]=t===e?n:Un(t,e,n)}),new Xe(t.segments,r)}class Vn{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&Dn(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(Mn);if(r&&r!==Be(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Fn{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function Hn(t,e,n){if(t||(t=new Xe([],{})),0===t.segments.length&&t.hasChildren())return qn(t,e,n);const r=function(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const e=t.segments[i],s=n[r];if(Mn(s))break;const a=`${s}`,u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===a)break;if(a&&u&&"object"==typeof u&&void 0===u.outlets){if(!$n(a,u,e))return o;r+=2}else{if(!$n(a,{},e))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new Xe(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new Xe(t.segments.slice(r.pathIndex),t.children),qn(e,0,i)}return r.match&&0===i.length?new Xe(t.segments,{}):r.match&&!t.hasChildren()?zn(t,e,n):r.match?qn(t,0,i):zn(t,e,n)}function qn(t,e,n){if(0===n.length)return new Xe(t.segments,{});{const r=function(t){return Mn(t[0])?t[0].outlets:{[Me]:t}}(n),i={};return Ge(r,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(i[r]=Hn(t.children[r],e,n))}),Ge(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new Xe(t.segments,i)}}function zn(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const o=n[i];if(Mn(o)){const t=Bn(o.outlets);return new Xe(r,t)}if(0===i&&Dn(n[0])){r.push(new Ke(t.segments[e].path,Gn(n[0]))),i++;continue}const s=Mn(o)?o.outlets.primary:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&Dn(a)?(r.push(new Ke(s,Gn(a))),i+=2):(r.push(new Ke(s,{})),i++)}return new Xe(r,{})}function Bn(t){const e={};return Ge(t,(t,n)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[n]=zn(new Xe([],{}),0,t))}),e}function Gn(t){const e={};return Ge(t,(t,n)=>e[n]=`${t}`),e}function $n(t,e,n){return t==n.path&&He(e,n.parameters)}class Wn{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),kn(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=On(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),Ge(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,i=On(t);for(const o of Object.keys(i))this.deactivateRouteAndItsChildren(i[o],r);n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}activateChildRoutes(t,e,n){const r=On(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new Pe(t.value.snapshot))}),t.children.length&&this.forwardEvent(new Re(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(kn(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),Qn(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function Qn(t){kn(t.value),t.children.forEach(Qn)}class Jn{constructor(t,e){this.routes=t,this.module=e}}function Zn(t){return"function"==typeof t}function Yn(t){return t instanceof Ye}const Xn=Symbol("INITIAL_VALUE");function Kn(){return Lt(t=>function(...t){let e,n;return Object(bt.a)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&Object(yt.a)(t[0])&&(t=t[0]),Object(xt.a)(t,n).lift(new Tt(e))}(t.map(t=>t.pipe(Ht(1),Bt(Xn)))).pipe(Gt((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==Xn)return t;if(r===Xn&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||Yn(r))return r}return t},t)},Xn),Qt(t=>t!==Xn),Object(Dt.a)(t=>Yn(t)?t:!0===t),Ht(1)))}let tr=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Ab({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&r.Hb(0,"router-outlet")},directives:function(){return[Gr]},encapsulation:2}),t})();function er(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];nr(r,rr(e,r))}}function nr(t,e){t.children&&er(t.children,e)}function rr(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function ir(t){const e=t.children&&t.children.map(ir),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Me&&(n.component=tr),n}function or(t){return t.outlet||Me}function sr(t,e){const n=t.filter(t=>or(t)===e);return n.push(...t.filter(t=>or(t)!==e)),n}const ar={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function ur(t,e,n){var r;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},ar):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const i=(e.matcher||Fe)(n,t,e);if(!i)return Object.assign({},ar);const o={};Ge(i.posParams,(t,e)=>{o[e]=t.path});const s=i.consumed.length>0?Object.assign(Object.assign({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:s,positionalParamSegments:null!==(r=i.posParams)&&void 0!==r?r:{}}}function cr(t,e,n,r,i="corrected"){if(n.length>0&&function(t,e,n){return n.some(n=>lr(t,e,n)&&or(n)!==Me)}(t,n,r)){const i=new Xe(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const o of n)if(""===o.path&&or(o)!==Me){const n=new Xe([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[or(o)]=n}return i}(t,e,r,new Xe(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>lr(t,e,n))}(t,n,r)){const o=new Xe(t.segments,function(t,e,n,r,i,o){const s={};for(const a of r)if(lr(t,n,a)&&!i[or(a)]){const n=new Xe([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===o?t.segments.length:e.length,s[or(a)]=n}return Object.assign(Object.assign({},i),s)}(t,e,n,r,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const o=new Xe(t.segments,t.children);return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}function lr(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function hr(t,e,n,r){return!!(or(t)===r||r!==Me&&lr(e,n,t))&&("**"===t.path||ur(e,t,n).matched)}function fr(t,e,n){return 0===e.length&&!t.children[n]}class dr{constructor(t){this.segmentGroup=t||null}}class pr{constructor(t){this.urlTree=t}}function gr(t){return new Et.a(e=>e.error(new dr(t)))}function vr(t){return new Et.a(e=>e.error(new pr(t)))}function br(t){return new Et.a(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class yr{constructor(t,e,n,i,o){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(r.y)}apply(){const t=cr(this.urlTree.root,[],[],this.config).segmentGroup,e=new Xe(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,Me).pipe(Object(Dt.a)(t=>this.createUrlTree(mr(t),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Yt(t=>{if(t instanceof pr)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof dr)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,Me).pipe(Object(Dt.a)(e=>this.createUrlTree(mr(e),t.queryParams,t.fragment))).pipe(Yt(t=>{if(t instanceof dr)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new Xe([],{[Me]:t}):t;return new Ye(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(Dt.a)(t=>new Xe([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){const r=[];for(const i of Object.keys(n.children))"primary"===i?r.unshift(i):r.push(i);return Object(ft.a)(r).pipe(ee(r=>{const i=n.children[r],o=sr(e,r);return this.expandSegmentGroup(t,o,i,r).pipe(Object(Dt.a)(t=>({segment:t,outlet:r})))}),Gt((t,e)=>(t[e.outlet]=e.segment,t),{}),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Qt((e,n)=>t(e,n,r)):fe.a,ne(1),n?ce(e):oe(()=>new jt))}())}expandSegment(t,e,n,r,i,o){return Object(ft.a)(n).pipe(ee(s=>this.expandSegmentAgainstRoute(t,e,n,s,r,i,o).pipe(Yt(t=>{if(t instanceof dr)return Object(dt.a)(null);throw t}))),de(t=>!!t),Yt((t,n)=>{if(t instanceof jt||"EmptyError"===t.name){if(fr(e,r,i))return Object(dt.a)(new Xe([],{}));throw new dr(e)}throw t}))}expandSegmentAgainstRoute(t,e,n,r,i,o,s){return hr(r,e,i,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i,o):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):gr(e):gr(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?vr(i):this.lineralizeSegments(n,i).pipe(Object(te.a)(n=>{const i=new Xe(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){const{matched:s,consumedSegments:a,lastChild:u,positionalParamSegments:c}=ur(e,r,i);if(!s)return gr(e);const l=this.applyRedirectCommands(a,r.redirectTo,c);return r.redirectTo.startsWith("/")?vr(l):this.lineralizeSegments(r,l).pipe(Object(te.a)(r=>this.expandSegment(t,e,n,r.concat(i.slice(u)),o,!1)))}matchSegmentAgainstRoute(t,e,n,r,i){if("**"===n.path)return n.loadChildren?(n._loadedConfig?Object(dt.a)(n._loadedConfig):this.configLoader.load(t.injector,n)).pipe(Object(Dt.a)(t=>(n._loadedConfig=t,new Xe(r,{})))):Object(dt.a)(new Xe(r,{}));const{matched:o,consumedSegments:s,lastChild:a}=ur(e,n,r);if(!o)return gr(e);const u=r.slice(a);return this.getChildConfig(t,n,r).pipe(Object(te.a)(t=>{const r=t.module,o=t.routes,{segmentGroup:a,slicedSegments:c}=cr(e,s,u,o),l=new Xe(a.segments,a.children);if(0===c.length&&l.hasChildren())return this.expandChildren(r,o,l).pipe(Object(Dt.a)(t=>new Xe(s,t)));if(0===o.length&&0===c.length)return Object(dt.a)(new Xe(s,{}));const h=or(n)===i;return this.expandSegment(r,l,o,c,h?Me:i,!0).pipe(Object(Dt.a)(t=>new Xe(s.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Object(dt.a)(new Jn(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(dt.a)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(Object(te.a)(n=>n?this.configLoader.load(t.injector,e).pipe(Object(Dt.a)(t=>(e._loadedConfig=t,t))):function(t){return new Et.a(e=>e.error(Ve(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Object(dt.a)(new Jn([],t))}runCanLoadGuards(t,e,n){const r=e.canLoad;if(!r||0===r.length)return Object(dt.a)(!0);const i=r.map(r=>{const i=t.get(r);let o;if(function(t){return t&&Zn(t.canLoad)}(i))o=i.canLoad(e,n);else{if(!Zn(i))throw new Error("Invalid CanLoad guard");o=i(e,n)}return $e(o)});return Object(dt.a)(i).pipe(Kn(),Object(pe.a)(t=>{if(!Yn(t))return;const e=Ve(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),Object(Dt.a)(t=>!0===t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(dt.a)(n);if(r.numberOfChildren>1||!r.children.primary)return br(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new Ye(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return Ge(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let o={};return Ge(e.children,(e,i)=>{o[i]=this.createSegmentGroup(t,e,n,r)}),new Xe(i,o)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function mr(t){const e={};for(const n of Object.keys(t.children)){const r=mr(t.children[n]);(r.segments.length>0||r.hasChildren())&&(e[n]=r)}return function(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new Xe(t.segments.concat(e.segments),e.children)}return t}(new Xe(t.segments,e))}class wr{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class _r{constructor(t,e){this.component=t,this.route=e}}function Or(t,e,n){const r=t._root;return Ir(r,e?e._root:null,n,[r.value])}function Er(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function Ir(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=On(e);return t.children.forEach(t=>{!function(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const u=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!tn(t.url,e.url);case"pathParamsOrQueryParamsChange":return!tn(t.url,e.url)||!He(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Rn(t,e)||!He(t.queryParams,e.queryParams);case"paramsChange":default:return!Rn(t,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new wr(r)):(o.data=s.data,o._resolvedData=s._resolvedData),Ir(t,e,o.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new _r(a.outlet.component,s))}else s&&xr(e,a,i),i.canActivateChecks.push(new wr(r)),Ir(t,null,o.component?a?a.children:null:n,r,i)}(t,o[t.value.outlet],n,r.concat([t.value]),i),delete o[t.value.outlet]}),Ge(o,(t,e)=>xr(t,n.getContext(e),i)),i}function xr(t,e,n){const r=On(t),i=t.value;Ge(r,(t,r)=>{xr(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new _r(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class Sr{}function Tr(t){return new Et.a(e=>e.error(t))}class Cr{constructor(t,e,n,r,i,o){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=o}recognize(){const t=cr(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,Me);if(null===e)return null;const n=new Tn([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Me,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new _n(n,e),i=new Cn(this.url,r);return this.inheritParamsAndData(i._root),i}inheritParamsAndData(t){const e=t.value,n=Sn(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=[];for(const i of Object.keys(e.children)){const r=e.children[i],o=sr(t,i),s=this.processSegmentGroup(o,r,i);if(null===s)return null;n.push(...s)}const r=function(t){const e=[];for(const n of t){if(!jr(n)){e.push(n);continue}const t=e.find(t=>n.value.routeConfig===t.value.routeConfig);void 0!==t?t.children.push(...n.children):e.push(n)}return e}(n);return r.sort((t,e)=>t.value.outlet===Me?-1:e.value.outlet===Me?1:t.value.outlet.localeCompare(e.value.outlet)),r}processSegment(t,e,n,r){for(const i of t){const t=this.processSegmentAgainstRoute(i,e,n,r);if(null!==t)return t}return fr(e,n,r)?[]:null}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo||!hr(t,e,n,r))return null;let i,o=[],s=[];if("**"===t.path){const r=n.length>0?Be(n).parameters:{};i=new Tn(n,r,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Rr(t),or(t),t.component,t,Ar(e),kr(e)+n.length,Nr(t))}else{const r=ur(e,t,n);if(!r.matched)return null;o=r.consumedSegments,s=n.slice(r.lastChild),i=new Tn(o,r.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Rr(t),or(t),t.component,t,Ar(e),kr(e)+o.length,Nr(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:u,slicedSegments:c}=cr(e,o,s,a.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution);if(0===c.length&&u.hasChildren()){const t=this.processChildren(a,u);return null===t?null:[new _n(i,t)]}if(0===a.length&&0===c.length)return[new _n(i,[])];const l=or(t)===r,h=this.processSegment(a,u,c,l?Me:r);return null===h?null:[new _n(i,h)]}}function jr(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Ar(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function kr(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function Rr(t){return t.data||{}}function Nr(t){return t.resolve||{}}function Pr(t){return Lt(e=>{const n=t(e);return n?Object(ft.a)(n).pipe(Object(Dt.a)(()=>e)):Object(dt.a)(e)})}class Dr extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const Mr=new r.r("ROUTES");class Lr{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const n=this.loadModuleFactory(e.loadChildren).pipe(Object(Dt.a)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const i=n.create(t);return new Jn(ze(i.injector.get(Mr,void 0,r.q.Self|r.q.Optional)).map(ir),i)}),Yt(t=>{throw e._loader$=void 0,t}));return e._loader$=new Pt.a(n,()=>new pt.a).pipe(Object(ge.a)()),e._loader$}loadModuleFactory(t){return"string"==typeof t?Object(ft.a)(this.loader.load(t)):$e(t()).pipe(Object(te.a)(t=>t instanceof r.w?Object(dt.a)(t):Object(ft.a)(this.compiler.compileModuleAsync(t))))}}class Ur{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Vr,this.attachRef=null}}class Vr{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new Ur,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class Fr{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function Hr(t){throw t}function qr(t,e,n){return e.parse("/")}function zr(t,e){return Object(dt.a)(null)}let Br=(()=>{class t{constructor(t,e,n,i,o,s,a,u){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new pt.a,this.errorHandler=Hr,this.malformedUriErrorHandler=qr,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:zr,afterPreactivation:zr},this.urlHandlingStrategy=new Fr,this.routeReuseStrategy=new Dr,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.ngModule=o.get(r.y),this.console=o.get(r.X);const c=o.get(r.A);this.isNgZoneEnabled=c instanceof r.A&&r.A.isInAngularZone(),this.resetConfig(u),this.currentUrlTree=new Ye(new Xe([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Lr(s,a,t=>this.triggerEvent(new je(t)),t=>this.triggerEvent(new Ae(t))),this.routerState=In(this.currentUrlTree,this.rootComponentType),this.transitions=new vt({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(Qt(t=>0!==t.id),Object(Dt.a)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),Lt(t=>{let n=!1,r=!1;return Object(dt.a)(t).pipe(Object(pe.a)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Lt(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(dt.a)(t).pipe(Lt(t=>{const n=this.transitions.getValue();return e.next(new we(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?Rt.a:Promise.resolve(t)}),(r=this.ngModule.injector,i=this.configLoader,o=this.urlSerializer,s=this.config,Lt(t=>function(t,e,n,r,i){return new yr(t,e,n,r,i).apply()}(r,i,o,t.extractedUrl,s).pipe(Object(Dt.a)(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e}))))),Object(pe.a)(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return Object(te.a)(o=>function(t,e,n,r,i="emptyOnly",o="legacy"){try{const s=new Cr(t,e,n,r,i,o).recognize();return null===s?Tr(new Sr):Object(dt.a)(s)}catch($y){return Tr($y)}}(t,e,o.urlAfterRedirects,n(o.urlAfterRedirects),r,i).pipe(Object(Dt.a)(t=>Object.assign(Object.assign({},o),{targetSnapshot:t}))))}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Object(pe.a)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects);const n=new Ie(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,o,s;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:o,extras:s}=t,a=new we(n,this.serializeUrl(r),i,o);e.next(a);const u=In(r,this.rootComponentType).snapshot;return Object(dt.a)(Object.assign(Object.assign({},t),{targetSnapshot:u,urlAfterRedirects:r,extras:Object.assign(Object.assign({},s),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),Rt.a}),Pr(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Object(pe.a)(t=>{const e=new xe(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Object(Dt.a)(t=>Object.assign(Object.assign({},t),{guards:Or(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return Object(te.a)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?Object(dt.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return Object(ft.a)(t).pipe(Object(te.a)(t=>function(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||0===o.length)return Object(dt.a)(!0);const s=o.map(o=>{const s=Er(o,e,i);let a;if(function(t){return t&&Zn(t.canDeactivate)}(s))a=$e(s.canDeactivate(t,e,n,r));else{if(!Zn(s))throw new Error("Invalid CanDeactivate guard");a=$e(s(t,e,n,r))}return a.pipe(de())});return Object(dt.a)(s).pipe(Kn())}(t.component,t.route,n,e,r)),de(t=>!0!==t,!0))}(s,r,i,t).pipe(Object(te.a)(n=>n&&"boolean"==typeof n?function(t,e,n,r){return Object(ft.a)(e).pipe(ee(e=>kt(function(t,e){return null!==t&&e&&e(new ke(t)),Object(dt.a)(!0)}(e.route.parent,r),function(t,e){return null!==t&&e&&e(new Ne(t)),Object(dt.a)(!0)}(e.route,r),function(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>Nt(()=>{const i=e.guards.map(i=>{const o=Er(i,e.node,n);let s;if(function(t){return t&&Zn(t.canActivateChild)}(o))s=$e(o.canActivateChild(r,t));else{if(!Zn(o))throw new Error("Invalid CanActivateChild guard");s=$e(o(r,t))}return s.pipe(de())});return Object(dt.a)(i).pipe(Kn())}));return Object(dt.a)(i).pipe(Kn())}(t,e.path,n),function(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(dt.a)(!0);const i=r.map(r=>Nt(()=>{const i=Er(r,e,n);let o;if(function(t){return t&&Zn(t.canActivate)}(i))o=$e(i.canActivate(e,t));else{if(!Zn(i))throw new Error("Invalid CanActivate guard");o=$e(i(e,t))}return o.pipe(de())}));return Object(dt.a)(i).pipe(Kn())}(t,e.route,n))),de(t=>!0!==t,!0))}(r,o,t,e):Object(dt.a)(n)),Object(Dt.a)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))})}(this.ngModule.injector,t=>this.triggerEvent(t)),Object(pe.a)(t=>{if(Yn(t.guardsResult)){const e=Ve(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}const e=new Se(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),Qt(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new Oe(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),Pr(t=>{if(t.guards.canActivateChecks.length)return Object(dt.a)(t).pipe(Object(pe.a)(t=>{const e=new Te(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Lt(t=>{let n=!1;return Object(dt.a)(t).pipe((r=this.paramsInheritanceStrategy,i=this.ngModule.injector,Object(te.a)(t=>{const{targetSnapshot:e,guards:{canActivateChecks:n}}=t;if(!n.length)return Object(dt.a)(t);let o=0;return Object(ft.a)(n).pipe(ee(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return Object(dt.a)({});const o={};return Object(ft.a)(i).pipe(Object(te.a)(i=>function(t,e,n,r){const i=Er(t,e,r);return $e(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe(Object(pe.a)(t=>{o[i]=t}))),ne(1),Object(te.a)(()=>Object.keys(o).length===i.length?Object(dt.a)(o):Rt.a))}(t._resolve,t,e,r).pipe(Object(Dt.a)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),Sn(t,n).resolve),null)))}(t.route,e,r,i)),Object(pe.a)(()=>o++),ne(1),Object(te.a)(e=>o===n.length?Object(dt.a)(t):Rt.a))})),Object(pe.a)({next:()=>n=!0,complete:()=>{if(!n){const n=new Oe(t.id,this.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");e.next(n),t.resolve(!1)}}}));var r,i}),Object(pe.a)(t=>{const e=new Ce(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),Pr(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Object(Dt.a)(t=>{const e=function(t,e,n){const r=Nn(t,e._root,n?n._root:void 0);return new En(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),Object(pe.a)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(o=this.rootContexts,s=this.routeReuseStrategy,a=t=>this.triggerEvent(t),Object(Dt.a)(t=>(new Wn(s,t.targetRouterState,t.currentRouterState,a).activate(o),t))),Object(pe.a)({next(){n=!0},complete(){n=!0}}),(i=()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new Oe(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null},t=>t.lift(new be(i))),Yt(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=Yn(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new Oe(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new Ee(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(pl){t.reject(pl)}}var i;return Rt.a}));var i,o,s,a}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:r}=e,i={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,0!==Object.keys(t).length&&(i.state=t)}this.scheduleNavigation(r,t,n,i)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){er(t),this.config=t.map(ir),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:i,queryParamsHandling:o,preserveFragment:s}=e,a=n||this.routerState.root,u=s?this.currentUrlTree.fragment:i;let c=null;switch(o){case"merge":c=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=r||null}return null!==c&&(c=this.removeEmptyProps(c)),function(t,e,n,r,i){if(0===n.length)return Ln(e.root,e.root,e,r,i);const o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new Vn(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return Ge(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new Vn(n,e,r)}(n);if(o.toRoot())return Ln(e.root,new Xe([],{}),e,r,i);const s=function(t,e,n){if(t.isAbsolute)return new Fn(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new Fn(t,t===e.root,0)}const r=Dn(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new Fn(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(o,e,t),a=s.processChildren?qn(s.segmentGroup,s.index,o.commands):Hn(s.segmentGroup,s.index,o.commands);return Ln(s.segmentGroup,a,e,r,i)}(a,this.currentUrlTree,t,c,u)}navigateByUrl(t,e={skipLocationChange:!1}){const n=Yn(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch($y){e=this.malformedUriErrorHandler($y,this.urlSerializer,t)}return e}isActive(t,e){if(Yn(t))return We(this.currentUrlTree,t,e);const n=this.parseUrl(t);return We(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new _e(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){if(this.disposed)return Promise.resolve(!1);const o=this.getTransition(),s="imperative"!==e&&"imperative"===(null==o?void 0:o.source),a=(this.lastSuccessfulId===o.id||this.currentNavigation?o.rawUrl:o.urlAfterRedirects).toString()===t.toString();if(s&&a)return Promise.resolve(!0);let u,c,l;i?(u=i.resolve,c=i.reject,l=i.promise):l=new Promise((t,e)=>{u=t,c=e});const h=++this.navigationId;return this.setTransition({id:h,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:u,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.N),r.Mb(en),r.Mb(Vr),r.Mb(_),r.Mb(r.s),r.Mb(r.x),r.Mb(r.i),r.Mb(void 0))},t.\u0275prov=r.Cb({token:t,factory:t.\u0275fac}),t})(),Gr=(()=>{class t{constructor(t,e,n,i,o){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.n,this.deactivateEvents=new r.n,this.name=i||Me,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new $r(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(r.Gb(Vr),r.Gb(r.Q),r.Gb(r.j),r.Nb("name"),r.Gb(r.h))},t.\u0275dir=r.Bb({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class $r{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===xn?this.route:t===Vr?this.childContexts:this.parent.get(t,e)}}class Wr{}class Qr{preload(t,e){return Object(dt.a)(null)}}let Jr=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new Lr(e,n,e=>t.triggerEvent(new je(e)),e=>t.triggerEvent(new Ae(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(Qt(t=>t instanceof _e),ee(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(r.y);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return Object(ft.a)(n).pipe(Object(At.a)(),Object(Dt.a)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>(e._loadedConfig?Object(dt.a)(e._loadedConfig):this.loader.load(t.injector,e)).pipe(Object(te.a)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(Br),r.Mb(r.x),r.Mb(r.i),r.Mb(r.s),r.Mb(Wr))},t.\u0275prov=r.Cb({token:t,factory:t.\u0275fac}),t})(),Zr=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof we?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof _e&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof De&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new De(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(Br),r.Mb(P),r.Mb(void 0))},t.\u0275prov=r.Cb({token:t,factory:t.\u0275fac}),t})();const Yr=new r.r("ROUTER_CONFIGURATION"),Xr=new r.r("ROUTER_FORROOT_GUARD"),Kr=[_,{provide:en,useClass:nn},{provide:Br,useFactory:function(t,e,n,r,i,s,a,u={},c,l){const h=new Br(null,t,e,n,r,i,s,ze(a));if(c&&(h.urlHandlingStrategy=c),l&&(h.routeReuseStrategy=l),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(u,h),u.enableTracing){const t=o();h.events.subscribe(e=>{t.logGroup(`Router Event: ${e.constructor.name}`),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return h},deps:[en,Vr,_,r.s,r.x,r.i,Mr,Yr,[class{},new r.B],[class{},new r.B]]},Vr,{provide:xn,useFactory:function(t){return t.routerState.root},deps:[Br]},{provide:r.x,useClass:r.K},Jr,Qr,class{preload(t,e){return e().pipe(Yt(()=>Object(dt.a)(null)))}},{provide:Yr,useValue:{enableTracing:!1}}];function ti(){return new r.z("Router",Br)}let ei=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[Kr,oi(e),{provide:Xr,useFactory:ii,deps:[[Br,new r.B,new r.J]]},{provide:Yr,useValue:n||{}},{provide:v,useFactory:ri,deps:[a,[new r.p(y),new r.B],Yr]},{provide:Zr,useFactory:ni,deps:[Br,P,Yr]},{provide:Wr,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:Qr},{provide:r.z,multi:!0,useFactory:ti},[si,{provide:r.d,multi:!0,useFactory:ai,deps:[si]},{provide:ci,useFactory:ui,deps:[si]},{provide:r.b,multi:!0,useExisting:ci}]]}}static forChild(e){return{ngModule:t,providers:[oi(e)]}}}return t.\u0275mod=r.Eb({type:t}),t.\u0275inj=r.Db({factory:function(e){return new(e||t)(r.Mb(Xr,8),r.Mb(Br,8))}}),t})();function ni(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new Zr(t,e,n)}function ri(t,e,n={}){return n.useHash?new w(t,e):new m(t,e)}function ii(t){return"guarded"}function oi(t){return[{provide:r.a,multi:!0,useValue:t},{provide:Mr,multi:!0,useValue:t}]}let si=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new pt.a}appInitializer(){return this.injector.get(c,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(Br),r=this.injector.get(Yr);return"disabled"===r.initialNavigation?(n.setUpLocationChangeListener(),t(!0)):"enabled"===r.initialNavigation||"enabledBlocking"===r.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?Object(dt.a)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()):t(!0),e})}bootstrapListener(t){const e=this.injector.get(Yr),n=this.injector.get(Jr),i=this.injector.get(Zr),o=this.injector.get(Br),s=this.injector.get(r.g);t===s.components[0]&&("enabledNonBlocking"!==e.initialNavigation&&void 0!==e.initialNavigation||o.initialNavigation(),n.setUpPreloading(),i.init(),o.resetRootComponentType(s.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.s))},t.\u0275prov=r.Cb({token:t,factory:t.\u0275fac}),t})();function ai(t){return t.appInitializer.bind(t)}function ui(t){return t.bootstrapListener.bind(t)}const ci=new r.r("Router Initializer"),li=[];let hi=(()=>{class t{}return t.\u0275mod=r.Eb({type:t}),t.\u0275inj=r.Db({factory:function(e){return new(e||t)},imports:[[ei.forRoot(li)],ei]}),t})();function fi(t,e){1&t&&(r.Jb(0,"pre"),r.ac(1,"ng generate component xyz"),r.Ib())}function di(t,e){1&t&&(r.Jb(0,"pre"),r.ac(1,"ng add @angular/material"),r.Ib())}function pi(t,e){1&t&&(r.Jb(0,"pre"),r.ac(1,"ng add @angular/pwa"),r.Ib())}function gi(t,e){1&t&&(r.Jb(0,"pre"),r.ac(1,"ng add _____"),r.Ib())}function vi(t,e){1&t&&(r.Jb(0,"pre"),r.ac(1,"ng test"),r.Ib())}function bi(t,e){1&t&&(r.Jb(0,"pre"),r.ac(1,"ng build --prod"),r.Ib())}let yi=(()=>{class t{constructor(){this.title="my-app"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Ab({type:t,selectors:[["app-root"]],decls:155,vars:7,consts:[["role","banner",1,"toolbar"],["width","40","alt","Angular Logo","src","data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNTAgMjUwIj4KICAgIDxwYXRoIGZpbGw9IiNERDAwMzEiIGQ9Ik0xMjUgMzBMMzEuOSA2My4ybDE0LjIgMTIzLjFMMTI1IDIzMGw3OC45LTQzLjcgMTQuMi0xMjMuMXoiIC8+CiAgICA8cGF0aCBmaWxsPSIjQzMwMDJGIiBkPSJNMTI1IDMwdjIyLjItLjFWMjMwbDc4LjktNDMuNyAxNC4yLTEyMy4xTDEyNSAzMHoiIC8+CiAgICA8cGF0aCAgZmlsbD0iI0ZGRkZGRiIgZD0iTTEyNSA1Mi4xTDY2LjggMTgyLjZoMjEuN2wxMS43LTI5LjJoNDkuNGwxMS43IDI5LjJIMTgzTDEyNSA1Mi4xem0xNyA4My4zaC0zNGwxNy00MC45IDE3IDQwLjl6IiAvPgogIDwvc3ZnPg=="],[1,"spacer"],["aria-label","Angular on twitter","target","_blank","rel","noopener","href","https://twitter.com/angular","title","Twitter"],["id","twitter-logo","height","24","data-name","Logo","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 400 400"],["width","400","height","400","fill","none"],["d","M153.62,301.59c94.34,0,145.94-78.16,145.94-145.94,0-2.22,0-4.43-.15-6.63A104.36,104.36,0,0,0,325,122.47a102.38,102.38,0,0,1-29.46,8.07,51.47,51.47,0,0,0,22.55-28.37,102.79,102.79,0,0,1-32.57,12.45,51.34,51.34,0,0,0-87.41,46.78A145.62,145.62,0,0,1,92.4,107.81a51.33,51.33,0,0,0,15.88,68.47A50.91,50.91,0,0,1,85,169.86c0,.21,0,.43,0,.65a51.31,51.31,0,0,0,41.15,50.28,51.21,51.21,0,0,1-23.16.88,51.35,51.35,0,0,0,47.92,35.62,102.92,102.92,0,0,1-63.7,22A104.41,104.41,0,0,1,75,278.55a145.21,145.21,0,0,0,78.62,23","fill","#fff"],["role","main",1,"content"],[1,"card","highlight-card","card-small"],["id","rocket","alt","Rocket Ship","xmlns","http://www.w3.org/2000/svg","width","101.678","height","101.678","viewBox","0 0 101.678 101.678"],["id","Group_83","data-name","Group 83","transform","translate(-141 -696)"],["id","Ellipse_8","data-name","Ellipse 8","cx","50.839","cy","50.839","r","50.839","transform","translate(141 696)","fill","#dd0031"],["id","Group_47","data-name","Group 47","transform","translate(165.185 720.185)"],["id","Path_33","data-name","Path 33","d","M3.4,42.615a3.084,3.084,0,0,0,3.553,3.553,21.419,21.419,0,0,0,12.215-6.107L9.511,30.4A21.419,21.419,0,0,0,3.4,42.615Z","transform","translate(0.371 3.363)","fill","#fff"],["id","Path_34","data-name","Path 34","d","M53.3,3.221A3.09,3.09,0,0,0,50.081,0,48.227,48.227,0,0,0,18.322,13.437c-6-1.666-14.991-1.221-18.322,7.218A33.892,33.892,0,0,1,9.439,25.1l-.333.666a3.013,3.013,0,0,0,.555,3.553L23.985,43.641a2.9,2.9,0,0,0,3.553.555l.666-.333A33.892,33.892,0,0,1,32.647,53.3c8.55-3.664,8.884-12.326,7.218-18.322A48.227,48.227,0,0,0,53.3,3.221ZM34.424,9.772a6.439,6.439,0,1,1,9.106,9.106,6.368,6.368,0,0,1-9.106,0A6.467,6.467,0,0,1,34.424,9.772Z","transform","translate(0 0.005)","fill","#fff"],["id","rocket-smoke","alt","Rocket Ship Smoke","xmlns","http://www.w3.org/2000/svg","width","516.119","height","1083.632","viewBox","0 0 516.119 1083.632"],["id","Path_40","data-name","Path 40","d","M644.6,141S143.02,215.537,147.049,870.207s342.774,201.755,342.774,201.755S404.659,847.213,388.815,762.2c-27.116-145.51-11.551-384.124,271.9-609.1C671.15,139.365,644.6,141,644.6,141Z","transform","translate(-147.025 -140.939)","fill","#f5f5f5"],[1,"card-container"],["target","_blank","rel","noopener","href","https://angular.io/tutorial",1,"card"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24",1,"material-icons"],["d","M5 13.18v4L12 21l7-3.82v-4L12 17l-7-3.82zM12 3L1 9l11 6 9-4.91V17h2V9L12 3z"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"],["target","_blank","rel","noopener","href","https://angular.io/cli",1,"card"],["d","M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"],["target","_blank","rel","noopener","href","https://blog.angular.io/",1,"card"],["d","M13.5.67s.74 2.65.74 4.8c0 2.06-1.35 3.73-3.41 3.73-2.07 0-3.63-1.67-3.63-3.73l.03-.36C5.21 7.51 4 10.62 4 14c0 4.42 3.58 8 8 8s8-3.58 8-8C20 8.61 17.41 3.8 13.5.67zM11.71 19c-1.78 0-3.22-1.4-3.22-3.14 0-1.62 1.05-2.76 2.81-3.12 1.77-.36 3.6-1.21 4.62-2.58.39 1.29.59 2.65.59 4.04 0 2.65-2.15 4.8-4.8 4.8z"],["type","hidden"],["selection",""],["tabindex","0",1,"card","card-small",3,"click"],["d","M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"],[1,"terminal",3,"ngSwitch"],[4,"ngSwitchDefault"],[4,"ngSwitchCase"],["title","Animations","href","https://angular.io/guide/animations","target","_blank","rel","noopener",1,"circle-link"],["id","Group_20","data-name","Group 20","xmlns","http://www.w3.org/2000/svg","width","21.813","height","23.453","viewBox","0 0 21.813 23.453"],["id","Path_15","data-name","Path 15","d","M4099.584,972.736h0l-10.882,3.9,1.637,14.4,9.245,5.153,9.245-5.153,1.686-14.4Z","transform","translate(-4088.702 -972.736)","fill","#ffa726"],["id","Path_16","data-name","Path 16","d","M4181.516,972.736v23.453l9.245-5.153,1.686-14.4Z","transform","translate(-4170.633 -972.736)","fill","#fb8c00"],["id","Path_17","data-name","Path 17","d","M4137.529,1076.127l-7.7-3.723,4.417-2.721,7.753,3.723Z","transform","translate(-4125.003 -1058.315)","fill","#ffe0b2"],["id","Path_18","data-name","Path 18","d","M4137.529,1051.705l-7.7-3.723,4.417-2.721,7.753,3.723Z","transform","translate(-4125.003 -1036.757)","fill","#fff3e0"],["id","Path_19","data-name","Path 19","d","M4137.529,1027.283l-7.7-3.723,4.417-2.721,7.753,3.723Z","transform","translate(-4125.003 -1015.199)","fill","#fff"],["title","CLI","href","https://cli.angular.io/","target","_blank","rel","noopener",1,"circle-link"],["alt","Angular CLI Logo","xmlns","http://www.w3.org/2000/svg","width","21.762","height","23.447","viewBox","0 0 21.762 23.447"],["id","Group_21","data-name","Group 21","transform","translate(0)"],["id","Path_20","data-name","Path 20","d","M2660.313,313.618h0l-10.833,3.9,1.637,14.4,9.2,5.152,9.244-5.152,1.685-14.4Z","transform","translate(-2649.48 -313.618)","fill","#37474f"],["id","Path_21","data-name","Path 21","d","M2741.883,313.618v23.447l9.244-5.152,1.685-14.4Z","transform","translate(-2731.05 -313.618)","fill","#263238"],["id","Path_22","data-name","Path 22","d","M2692.293,379.169h11.724V368.618h-11.724Zm11.159-.6h-10.608v-9.345h10.621v9.345Z","transform","translate(-2687.274 -362.17)","fill","#fff"],["id","Path_23","data-name","Path 23","d","M2709.331,393.688l.4.416,2.265-2.28-2.294-2.294-.4.4,1.893,1.893Z","transform","translate(-2702.289 -380.631)","fill","#fff"],["id","Rectangle_12","data-name","Rectangle 12","width","3.517","height","0.469","transform","translate(9.709 13.744)","fill","#fff"],["title","Augury","href","https://augury.rangle.io/","target","_blank","rel","noopener",1,"circle-link"],["alt","Angular Augury Logo","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","width","21.81","height","23.447","viewBox","0 0 21.81 23.447"],["id","clip-path"],["id","Rectangle_13","data-name","Rectangle 13","width","10.338","height","10.27","fill","none"],["id","Group_25","data-name","Group 25","transform","translate(0)"],["id","Path_24","data-name","Path 24","d","M3780.155,311.417h0l-10.881,3.9,1.637,14.4,9.244,5.152,9.244-5.152,1.685-14.4Z","transform","translate(-3769.274 -311.417)","fill","#4a3493"],["id","Path_25","data-name","Path 25","d","M3862.088,311.417v23.447l9.244-5.152,1.685-14.4Z","transform","translate(-3851.207 -311.417)","fill","#311b92"],["id","Group_24","data-name","Group 24","transform","translate(6.194 6.73)","opacity","0.5"],["id","Group_23","data-name","Group 23","transform","translate(0 0)"],["id","Group_22","data-name","Group 22","clip-path","url(#clip-path)"],["id","Path_26","data-name","Path 26","d","M3832.4,373.252a5.168,5.168,0,1,1-5.828-4.383,5.216,5.216,0,0,1,2.574.3,3.017,3.017,0,1,0,3.252,4.086Z","transform","translate(-3822.107 -368.821)","fill","#fff"],["id","Path_27","data-name","Path 27","d","M3830.582,370.848a5.162,5.162,0,1,1-3.254-4.086,3.017,3.017,0,1,0,3.252,4.086Z","transform","translate(-3814.311 -359.969)","fill","#fff"],["title","Protractor","href","https://www.protractortest.org/","target","_blank","rel","noopener",1,"circle-link"],["alt","Angular Protractor Logo","xmlns","http://www.w3.org/2000/svg","width","21.81","height","23.447","viewBox","0 0 21.81 23.447"],["id","Group_26","data-name","Group 26","transform","translate(0)"],["id","Path_28","data-name","Path 28","d","M4620.155,311.417h0l-10.881,3.9,1.637,14.4,9.244,5.152,9.244-5.152,1.685-14.4Z","transform","translate(-4609.274 -311.417)","fill","#e13439"],["id","Path_29","data-name","Path 29","d","M4702.088,311.417v23.447l9.244-5.152,1.685-14.4Z","transform","translate(-4691.207 -311.417)","fill","#b52f32"],["id","Path_30","data-name","Path 30","d","M4651.044,369.58v-.421h1.483a7.6,7.6,0,0,0-2.106-5.052l-1.123,1.123-.3-.3,1.122-1.121a7.588,7.588,0,0,0-4.946-2.055v1.482h-.421v-1.485a7.589,7.589,0,0,0-5.051,2.058l1.122,1.121-.3.3-1.123-1.123a7.591,7.591,0,0,0-2.106,5.052h1.482v.421h-1.489v1.734h15.241V369.58Zm-10.966-.263a4.835,4.835,0,0,1,9.67,0Z","transform","translate(-4634.008 -355.852)","fill","#fff"],["title","Find a Local Meetup","href","https://www.meetup.com/find/?keywords=angular","target","_blank","rel","noopener",1,"circle-link"],["alt","Meetup Logo","xmlns","http://www.w3.org/2000/svg","width","24.607","height","23.447","viewBox","0 0 24.607 23.447"],["id","logo--mSwarm","d","M21.221,14.95A4.393,4.393,0,0,1,17.6,19.281a4.452,4.452,0,0,1-.8.069c-.09,0-.125.035-.154.117a2.939,2.939,0,0,1-2.506,2.091,2.868,2.868,0,0,1-2.248-.624.168.168,0,0,0-.245-.005,3.926,3.926,0,0,1-2.589.741,4.015,4.015,0,0,1-3.7-3.347,2.7,2.7,0,0,1-.043-.38c0-.106-.042-.146-.143-.166a3.524,3.524,0,0,1-1.516-.69A3.623,3.623,0,0,1,2.23,14.557a3.66,3.66,0,0,1,1.077-3.085.138.138,0,0,0,.026-.2,3.348,3.348,0,0,1-.451-1.821,3.46,3.46,0,0,1,2.749-3.28.44.44,0,0,0,.355-.281,5.072,5.072,0,0,1,3.863-3,5.028,5.028,0,0,1,3.555.666.31.31,0,0,0,.271.03A4.5,4.5,0,0,1,18.3,4.7a4.4,4.4,0,0,1,1.334,2.751,3.658,3.658,0,0,1,.022.706.131.131,0,0,0,.1.157,2.432,2.432,0,0,1,1.574,1.645,2.464,2.464,0,0,1-.7,2.616c-.065.064-.051.1-.014.166A4.321,4.321,0,0,1,21.221,14.95ZM13.4,14.607a2.09,2.09,0,0,0,1.409,1.982,4.7,4.7,0,0,0,1.275.221,1.807,1.807,0,0,0,.9-.151.542.542,0,0,0,.321-.545.558.558,0,0,0-.359-.534,1.2,1.2,0,0,0-.254-.078c-.262-.047-.526-.086-.787-.138a.674.674,0,0,1-.617-.75,3.394,3.394,0,0,1,.218-1.109c.217-.658.509-1.286.79-1.918a15.609,15.609,0,0,0,.745-1.86,1.95,1.95,0,0,0,.06-1.073,1.286,1.286,0,0,0-1.051-1.033,1.977,1.977,0,0,0-1.521.2.339.339,0,0,1-.446-.042c-.1-.092-.2-.189-.307-.284a1.214,1.214,0,0,0-1.643-.061,7.563,7.563,0,0,1-.614.512A.588.588,0,0,1,10.883,8c-.215-.115-.437-.215-.659-.316a2.153,2.153,0,0,0-.695-.248A2.091,2.091,0,0,0,7.541,8.562a9.915,9.915,0,0,0-.405.986c-.559,1.545-1.015,3.123-1.487,4.7a1.528,1.528,0,0,0,.634,1.777,1.755,1.755,0,0,0,1.5.211,1.35,1.35,0,0,0,.824-.858c.543-1.281,1.032-2.584,1.55-3.875.142-.355.28-.712.432-1.064a.548.548,0,0,1,.851-.24.622.622,0,0,1,.185.539,2.161,2.161,0,0,1-.181.621c-.337.852-.68,1.7-1.018,2.552a2.564,2.564,0,0,0-.173.528.624.624,0,0,0,.333.71,1.073,1.073,0,0,0,.814.034,1.22,1.22,0,0,0,.657-.655q.758-1.488,1.511-2.978.35-.687.709-1.37a1.073,1.073,0,0,1,.357-.434.43.43,0,0,1,.463-.016.373.373,0,0,1,.153.387.7.7,0,0,1-.057.236c-.065.157-.127.316-.2.469-.42.883-.846,1.763-1.262,2.648A2.463,2.463,0,0,0,13.4,14.607Zm5.888,6.508a1.09,1.09,0,0,0-2.179.006,1.09,1.09,0,0,0,2.179-.006ZM1.028,12.139a1.038,1.038,0,1,0,.01-2.075,1.038,1.038,0,0,0-.01,2.075ZM13.782.528a1.027,1.027,0,1,0-.011,2.055A1.027,1.027,0,0,0,13.782.528ZM22.21,6.95a.882.882,0,0,0-1.763.011A.882.882,0,0,0,22.21,6.95ZM4.153,4.439a.785.785,0,1,0,.787-.78A.766.766,0,0,0,4.153,4.439Zm8.221,18.22a.676.676,0,1,0-.677.666A.671.671,0,0,0,12.374,22.658ZM22.872,12.2a.674.674,0,0,0-.665.665.656.656,0,0,0,.655.643.634.634,0,0,0,.655-.644A.654.654,0,0,0,22.872,12.2ZM7.171-.123A.546.546,0,0,0,6.613.43a.553.553,0,1,0,1.106,0A.539.539,0,0,0,7.171-.123ZM24.119,9.234a.507.507,0,0,0-.493.488.494.494,0,0,0,.494.494.48.48,0,0,0,.487-.483A.491.491,0,0,0,24.119,9.234Zm-19.454,9.7a.5.5,0,0,0-.488-.488.491.491,0,0,0-.487.5.483.483,0,0,0,.491.479A.49.49,0,0,0,4.665,18.936Z","transform","translate(0 0.123)","fill","#f64060"],["title","Join the Conversation on Gitter","href","https://gitter.im/angular/angular","target","_blank","rel","noopener",1,"circle-link"],["alt","Gitter Logo","xmlns","http://www.w3.org/2000/svg","width","19.447","height","19.447","viewBox","0 0 19.447 19.447"],["id","Group_40","data-name","Group 40","transform","translate(-1612 -405)"],["id","Rectangle_19","data-name","Rectangle 19","width","19.447","height","19.447","transform","translate(1612 405)","fill","#e60257"],["id","gitter","transform","translate(1617.795 408.636)"],["id","Group_33","data-name","Group 33","transform","translate(0 0)"],["id","Rectangle_15","data-name","Rectangle 15","width","1.04","height","9.601","transform","translate(2.304 2.324)","fill","#fff"],["id","Rectangle_16","data-name","Rectangle 16","width","1.04","height","9.601","transform","translate(4.607 2.324)","fill","#fff"],["id","Rectangle_17","data-name","Rectangle 17","width","1.04","height","4.648","transform","translate(6.91 2.324)","fill","#fff"],["id","Rectangle_18","data-name","Rectangle 18","width","1.04","height","6.971","transform","translate(0 0)","fill","#fff"],["href","https://github.com/angular/angular","target","_blank","rel","noopener"],[1,"github-star-badge"],["d","M0 0h24v24H0z","fill","none"],["d","M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z","fill","#1976d2"],["id","clouds","alt","Gray Clouds Background","xmlns","http://www.w3.org/2000/svg","width","2611.084","height","485.677","viewBox","0 0 2611.084 485.677"],["id","Path_39","data-name","Path 39","d","M2379.709,863.793c10-93-77-171-168-149-52-114-225-105-264,15-75,3-140,59-152,133-30,2.83-66.725,9.829-93.5,26.25-26.771-16.421-63.5-23.42-93.5-26.25-12-74-77-130-152-133-39-120-212-129-264-15-54.084-13.075-106.753,9.173-138.488,48.9-31.734-39.726-84.4-61.974-138.487-48.9-52-114-225-105-264,15a162.027,162.027,0,0,0-103.147,43.044c-30.633-45.365-87.1-72.091-145.206-58.044-52-114-225-105-264,15-75,3-140,59-152,133-53,5-127,23-130,83-2,42,35,72,70,86,49,20,106,18,157,5a165.625,165.625,0,0,0,120,0c47,94,178,113,251,33,61.112,8.015,113.854-5.72,150.492-29.764a165.62,165.62,0,0,0,110.861-3.236c47,94,178,113,251,33,31.385,4.116,60.563,2.495,86.487-3.311,25.924,5.806,55.1,7.427,86.488,3.311,73,80,204,61,251-33a165.625,165.625,0,0,0,120,0c51,13,108,15,157-5a147.188,147.188,0,0,0,33.5-18.694,147.217,147.217,0,0,0,33.5,18.694c49,20,106,18,157,5a165.625,165.625,0,0,0,120,0c47,94,178,113,251,33C2446.709,1093.793,2554.709,922.793,2379.709,863.793Z","transform","translate(142.69 -634.312)","fill","#eee"]],template:function(t,e){if(1&t){const t=r.Kb();r.Jb(0,"div",0),r.Hb(1,"img",1),r.Jb(2,"span"),r.ac(3,"Welcome"),r.Ib(),r.Hb(4,"div",2),r.Jb(5,"a",3),r.Sb(),r.Jb(6,"svg",4),r.Hb(7,"rect",5),r.Hb(8,"path",6),r.Ib(),r.Ib(),r.Ib(),r.Rb(),r.Jb(9,"div",7),r.Jb(10,"div",8),r.Sb(),r.Jb(11,"svg",9),r.Jb(12,"g",10),r.Hb(13,"circle",11),r.Jb(14,"g",12),r.Hb(15,"path",13),r.Hb(16,"path",14),r.Ib(),r.Ib(),r.Ib(),r.Rb(),r.Jb(17,"span"),r.ac(18),r.Ib(),r.Sb(),r.Jb(19,"svg",15),r.Hb(20,"path",16),r.Ib(),r.Ib(),r.Rb(),r.Jb(21,"h2"),r.ac(22,"Resources"),r.Ib(),r.Jb(23,"p"),r.ac(24,"Here are some links to help you get started:"),r.Ib(),r.Jb(25,"div",17),r.Jb(26,"a",18),r.Sb(),r.Jb(27,"svg",19),r.Hb(28,"path",20),r.Ib(),r.Rb(),r.Jb(29,"span"),r.ac(30,"Learn Angular"),r.Ib(),r.Sb(),r.Jb(31,"svg",19),r.Hb(32,"path",21),r.Ib(),r.Ib(),r.Rb(),r.Jb(33,"a",22),r.Sb(),r.Jb(34,"svg",19),r.Hb(35,"path",23),r.Ib(),r.Rb(),r.Jb(36,"span"),r.ac(37,"CLI Documentation"),r.Ib(),r.Sb(),r.Jb(38,"svg",19),r.Hb(39,"path",21),r.Ib(),r.Ib(),r.Rb(),r.Jb(40,"a",24),r.Sb(),r.Jb(41,"svg",19),r.Hb(42,"path",25),r.Ib(),r.Rb(),r.Jb(43,"span"),r.ac(44,"Angular Blog"),r.Ib(),r.Sb(),r.Jb(45,"svg",19),r.Hb(46,"path",21),r.Ib(),r.Ib(),r.Ib(),r.Rb(),r.Jb(47,"h2"),r.ac(48,"Next Steps"),r.Ib(),r.Jb(49,"p"),r.ac(50,"What do you want to do next with your app?"),r.Ib(),r.Hb(51,"input",26,27),r.Jb(53,"div",17),r.Jb(54,"div",28),r.Pb("click",function(){return r.Wb(t),r.Vb(52).value="component"}),r.Sb(),r.Jb(55,"svg",19),r.Hb(56,"path",29),r.Ib(),r.Rb(),r.Jb(57,"span"),r.ac(58,"New Component"),r.Ib(),r.Ib(),r.Jb(59,"div",28),r.Pb("click",function(){return r.Wb(t),r.Vb(52).value="material"}),r.Sb(),r.Jb(60,"svg",19),r.Hb(61,"path",29),r.Ib(),r.Rb(),r.Jb(62,"span"),r.ac(63,"Angular Material"),r.Ib(),r.Ib(),r.Jb(64,"div",28),r.Pb("click",function(){return r.Wb(t),r.Vb(52).value="pwa"}),r.Sb(),r.Jb(65,"svg",19),r.Hb(66,"path",29),r.Ib(),r.Rb(),r.Jb(67,"span"),r.ac(68,"Add PWA Support"),r.Ib(),r.Ib(),r.Jb(69,"div",28),r.Pb("click",function(){return r.Wb(t),r.Vb(52).value="dependency"}),r.Sb(),r.Jb(70,"svg",19),r.Hb(71,"path",29),r.Ib(),r.Rb(),r.Jb(72,"span"),r.ac(73,"Add Dependency"),r.Ib(),r.Ib(),r.Jb(74,"div",28),r.Pb("click",function(){return r.Wb(t),r.Vb(52).value="test"}),r.Sb(),r.Jb(75,"svg",19),r.Hb(76,"path",29),r.Ib(),r.Rb(),r.Jb(77,"span"),r.ac(78,"Run and Watch Tests"),r.Ib(),r.Ib(),r.Jb(79,"div",28),r.Pb("click",function(){return r.Wb(t),r.Vb(52).value="build"}),r.Sb(),r.Jb(80,"svg",19),r.Hb(81,"path",29),r.Ib(),r.Rb(),r.Jb(82,"span"),r.ac(83,"Build for Production"),r.Ib(),r.Ib(),r.Ib(),r.Jb(84,"div",30),r.Zb(85,fi,2,0,"pre",31),r.Zb(86,di,2,0,"pre",32),r.Zb(87,pi,2,0,"pre",32),r.Zb(88,gi,2,0,"pre",32),r.Zb(89,vi,2,0,"pre",32),r.Zb(90,bi,2,0,"pre",32),r.Ib(),r.Jb(91,"div",17),r.Jb(92,"a",33),r.Sb(),r.Jb(93,"svg",34),r.Hb(94,"path",35),r.Hb(95,"path",36),r.Hb(96,"path",37),r.Hb(97,"path",38),r.Hb(98,"path",39),r.Ib(),r.Ib(),r.Rb(),r.Jb(99,"a",40),r.Sb(),r.Jb(100,"svg",41),r.Jb(101,"g",42),r.Hb(102,"path",43),r.Hb(103,"path",44),r.Hb(104,"path",45),r.Hb(105,"path",46),r.Hb(106,"rect",47),r.Ib(),r.Ib(),r.Ib(),r.Rb(),r.Jb(107,"a",48),r.Sb(),r.Jb(108,"svg",49),r.Jb(109,"defs"),r.Jb(110,"clipPath",50),r.Hb(111,"rect",51),r.Ib(),r.Ib(),r.Jb(112,"g",52),r.Hb(113,"path",53),r.Hb(114,"path",54),r.Jb(115,"g",55),r.Jb(116,"g",56),r.Jb(117,"g",57),r.Hb(118,"path",58),r.Ib(),r.Ib(),r.Ib(),r.Hb(119,"path",59),r.Ib(),r.Ib(),r.Ib(),r.Rb(),r.Jb(120,"a",60),r.Sb(),r.Jb(121,"svg",61),r.Jb(122,"g",62),r.Hb(123,"path",63),r.Hb(124,"path",64),r.Hb(125,"path",65),r.Ib(),r.Ib(),r.Ib(),r.Rb(),r.Jb(126,"a",66),r.Sb(),r.Jb(127,"svg",67),r.Hb(128,"path",68),r.Ib(),r.Ib(),r.Rb(),r.Jb(129,"a",69),r.Sb(),r.Jb(130,"svg",70),r.Jb(131,"g",71),r.Hb(132,"rect",72),r.Jb(133,"g",73),r.Jb(134,"g",74),r.Hb(135,"rect",75),r.Hb(136,"rect",76),r.Hb(137,"rect",77),r.Hb(138,"rect",78),r.Ib(),r.Ib(),r.Ib(),r.Ib(),r.Ib(),r.Ib(),r.Rb(),r.Jb(139,"footer"),r.ac(140," Love Angular?\xa0 "),r.Jb(141,"a",79),r.ac(142," Give our repo a star. "),r.Jb(143,"div",80),r.Sb(),r.Jb(144,"svg",19),r.Hb(145,"path",81),r.Hb(146,"path",82),r.Ib(),r.ac(147," Star "),r.Ib(),r.Ib(),r.Rb(),r.Jb(148,"a",79),r.Sb(),r.Jb(149,"svg",19),r.Hb(150,"path",83),r.Hb(151,"path",81),r.Ib(),r.Ib(),r.Ib(),r.Jb(152,"svg",84),r.Hb(153,"path",85),r.Ib(),r.Ib(),r.Rb(),r.Hb(154,"router-outlet")}if(2&t){const t=r.Vb(52);r.xb(18),r.bc("",e.title," app is running!"),r.xb(66),r.Tb("ngSwitch",t.value),r.xb(2),r.Tb("ngSwitchCase","material"),r.xb(1),r.Tb("ngSwitchCase","pwa"),r.xb(1),r.Tb("ngSwitchCase","dependency"),r.xb(1),r.Tb("ngSwitchCase","test"),r.xb(1),r.Tb("ngSwitchCase","build")}},directives:[j,k,A,Gr],styles:["",'[_nghost-%COMP%] {\n        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";\n        font-size: 14px;\n        color: #333;\n        box-sizing: border-box;\n        -webkit-font-smoothing: antialiased;\n        -moz-osx-font-smoothing: grayscale;\n    }\n    \n    h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%] {\n        margin: 8px 0;\n    }\n    \n    p[_ngcontent-%COMP%] {\n        margin: 0;\n    }\n    \n    .spacer[_ngcontent-%COMP%] {\n        flex: 1;\n    }\n    \n    .toolbar[_ngcontent-%COMP%] {\n        position: absolute;\n        top: 0;\n        left: 0;\n        right: 0;\n        height: 60px;\n        display: flex;\n        align-items: center;\n        background-color: #1976d2;\n        color: white;\n        font-weight: 600;\n    }\n    \n    .toolbar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%] {\n        margin: 0 16px;\n    }\n    \n    .toolbar[_ngcontent-%COMP%]   #twitter-logo[_ngcontent-%COMP%] {\n        height: 40px;\n        margin: 0 16px;\n    }\n    \n    .toolbar[_ngcontent-%COMP%]   #twitter-logo[_ngcontent-%COMP%]:hover {\n        opacity: 0.8;\n    }\n    \n    .content[_ngcontent-%COMP%] {\n        display: flex;\n        margin: 82px auto 32px;\n        padding: 0 16px;\n        max-width: 960px;\n        flex-direction: column;\n        align-items: center;\n    }\n    \n    svg.material-icons[_ngcontent-%COMP%] {\n        height: 24px;\n        width: auto;\n    }\n    \n    svg.material-icons[_ngcontent-%COMP%]:not(:last-child) {\n        margin-right: 8px;\n    }\n    \n    .card[_ngcontent-%COMP%]   svg.material-icons[_ngcontent-%COMP%]   path[_ngcontent-%COMP%] {\n        fill: #888;\n    }\n    \n    .card-container[_ngcontent-%COMP%] {\n        display: flex;\n        flex-wrap: wrap;\n        justify-content: center;\n        margin-top: 16px;\n    }\n    \n    .card[_ngcontent-%COMP%] {\n        border-radius: 4px;\n        border: 1px solid #eee;\n        background-color: #fafafa;\n        height: 40px;\n        width: 200px;\n        margin: 0 8px 16px;\n        padding: 16px;\n        display: flex;\n        flex-direction: row;\n        justify-content: center;\n        align-items: center;\n        transition: all 0.2s ease-in-out;\n        line-height: 24px;\n    }\n    \n    .card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(:last-child) {\n        margin-right: 0;\n    }\n    \n    .card.card-small[_ngcontent-%COMP%] {\n        height: 16px;\n        width: 168px;\n    }\n    \n    .card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(.highlight-card) {\n        cursor: pointer;\n    }\n    \n    .card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(.highlight-card):hover {\n        transform: translateY(-3px);\n        box-shadow: 0 4px 17px rgba(0, 0, 0, 0.35);\n    }\n    \n    .card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(.highlight-card):hover   .material-icons[_ngcontent-%COMP%]   path[_ngcontent-%COMP%] {\n        fill: rgb(105, 103, 103);\n    }\n    \n    .card.highlight-card[_ngcontent-%COMP%] {\n        background-color: #1976d2;\n        color: white;\n        font-weight: 600;\n        border: none;\n        width: auto;\n        min-width: 30%;\n        position: relative;\n    }\n    \n    .card.card.highlight-card[_ngcontent-%COMP%]   span[_ngcontent-%COMP%] {\n        margin-left: 60px;\n    }\n    \n    svg#rocket[_ngcontent-%COMP%] {\n        width: 80px;\n        position: absolute;\n        left: -10px;\n        top: -24px;\n    }\n    \n    svg#rocket-smoke[_ngcontent-%COMP%] {\n        height: calc(100vh - 95px);\n        position: absolute;\n        top: 10px;\n        right: 180px;\n        z-index: -10;\n    }\n    \n    a[_ngcontent-%COMP%], a[_ngcontent-%COMP%]:visited, a[_ngcontent-%COMP%]:hover {\n        color: #1976d2;\n        text-decoration: none;\n    }\n    \n    a[_ngcontent-%COMP%]:hover {\n        color: #125699;\n    }\n    \n    .terminal[_ngcontent-%COMP%] {\n        position: relative;\n        width: 80%;\n        max-width: 600px;\n        border-radius: 6px;\n        padding-top: 45px;\n        margin-top: 8px;\n        overflow: hidden;\n        background-color: rgb(15, 15, 16);\n    }\n    \n    .terminal[_ngcontent-%COMP%]::before {\n        content: "\\2022 \\2022 \\2022";\n        position: absolute;\n        top: 0;\n        left: 0;\n        height: 4px;\n        background: rgb(58, 58, 58);\n        color: #c2c3c4;\n        width: 100%;\n        font-size: 2rem;\n        line-height: 0;\n        padding: 14px 0;\n        text-indent: 4px;\n    }\n    \n    .terminal[_ngcontent-%COMP%]   pre[_ngcontent-%COMP%] {\n        font-family: SFMono-Regular, Consolas, Liberation Mono, Menlo, monospace;\n        color: white;\n        padding: 0 1rem 1rem;\n        margin: 0;\n    }\n    \n    .circle-link[_ngcontent-%COMP%] {\n        height: 40px;\n        width: 40px;\n        border-radius: 40px;\n        margin: 8px;\n        background-color: white;\n        border: 1px solid #eeeeee;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        cursor: pointer;\n        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);\n        transition: 1s ease-out;\n    }\n    \n    .circle-link[_ngcontent-%COMP%]:hover {\n        transform: translateY(-0.25rem);\n        box-shadow: 0px 3px 15px rgba(0, 0, 0, 0.2);\n    }\n    \n    footer[_ngcontent-%COMP%] {\n        margin-top: 8px;\n        display: flex;\n        align-items: center;\n        line-height: 20px;\n    }\n    \n    footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] {\n        display: flex;\n        align-items: center;\n    }\n    \n    .github-star-badge[_ngcontent-%COMP%] {\n        color: #24292e;\n        display: flex;\n        align-items: center;\n        font-size: 12px;\n        padding: 3px 10px;\n        border: 1px solid rgba(27, 31, 35, .2);\n        border-radius: 3px;\n        background-image: linear-gradient(-180deg, #fafbfc, #eff3f6 90%);\n        margin-left: 4px;\n        font-weight: 600;\n        font-family: -apple-system, BlinkMacSystemFont, Segoe UI, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol;\n    }\n    \n    .github-star-badge[_ngcontent-%COMP%]:hover {\n        background-image: linear-gradient(-180deg, #f0f3f6, #e6ebf1 90%);\n        border-color: rgba(27, 31, 35, .35);\n        background-position: -.5em;\n    }\n    \n    .github-star-badge[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%] {\n        height: 16px;\n        width: 16px;\n        margin-right: 4px;\n    }\n    \n    svg#clouds[_ngcontent-%COMP%] {\n        position: fixed;\n        bottom: -160px;\n        left: -230px;\n        z-index: -10;\n        width: 1920px;\n    }\n    \n    \n    @media screen and (max-width: 767px) {\n        .card-container[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:not(.circle-link), .terminal[_ngcontent-%COMP%] {\n            width: 100%;\n        }\n        .card[_ngcontent-%COMP%]:not(.highlight-card) {\n            height: 16px;\n            margin: 8px 0;\n        }\n        .card.highlight-card[_ngcontent-%COMP%]   span[_ngcontent-%COMP%] {\n            margin-left: 72px;\n        }\n        svg#rocket-smoke[_ngcontent-%COMP%] {\n            right: 120px;\n            transform: rotate(-5deg);\n        }\n    }\n    \n    @media screen and (max-width: 575px) {\n        svg#rocket-smoke[_ngcontent-%COMP%] {\n            display: none;\n            visibility: hidden;\n        }\n    }']}),t})();var mi=n("spgP"),wi=n("D0XW");function _i(){return t=>t.lift(new Oi)}class Oi{call(t,e){return e.subscribe(new Ei(t))}}class Ei extends mt.a{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}class Ii{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new xi(t,this.compare,this.keySelector))}}class xi extends mt.a{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}var Si=n("pxpQ"),Ti=n("Jgta"),Ci=n("zIRd"),ji=n("q/0M"),Ai=n("qOnz"),ki=function(t,e){return(ki=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function Ri(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var Ni,Pi="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Di=Di||{},Mi=Pi||self;function Li(){}function Ui(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Vi(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var Fi="closure_uid_"+(1e9*Math.random()>>>0),Hi=0;function qi(t,e,n){return t.call.apply(t.bind,arguments)}function zi(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function Bi(t,e,n){return(Bi=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?qi:zi).apply(null,arguments)}function Gi(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function $i(){return Date.now()}function Wi(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function Qi(){this.j=this.j,this.i=this.i}Qi.prototype.j=!1,Qi.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,Fi)&&t[Fi]||(t[Fi]=++Hi)}(this)},Qi.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var Ji=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},Zi=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function Yi(t){return Array.prototype.concat.apply([],arguments)}function Xi(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function Ki(t){return/^[\s\xa0]*$/.test(t)}var to,eo=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function no(t,e){return-1!=t.indexOf(e)}function ro(t,e){return t<e?-1:t>e?1:0}t:{var io=Mi.navigator;if(io){var oo=io.userAgent;if(oo){to=oo;break t}}to=""}function so(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function ao(t){var e={};for(var n in t)e[n]=t[n];return e}var uo="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function co(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<uo.length;o++)n=uo[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function lo(t){return lo[" "](t),t}lo[" "]=Li;var ho,fo,po=no(to,"Opera"),go=no(to,"Trident")||no(to,"MSIE"),vo=no(to,"Edge"),bo=vo||go,yo=no(to,"Gecko")&&!(no(to.toLowerCase(),"webkit")&&!no(to,"Edge"))&&!(no(to,"Trident")||no(to,"MSIE"))&&!no(to,"Edge"),mo=no(to.toLowerCase(),"webkit")&&!no(to,"Edge");function wo(){var t=Mi.document;return t?t.documentMode:void 0}t:{var _o="",Oo=(fo=to,yo?/rv:([^\);]+)(\)|;)/.exec(fo):vo?/Edge\/([\d\.]+)/.exec(fo):go?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(fo):mo?/WebKit\/(\S+)/.exec(fo):po?/(?:Version)[ \/]?(\S+)/.exec(fo):void 0);if(Oo&&(_o=Oo?Oo[1]:""),go){var Eo=wo();if(null!=Eo&&Eo>parseFloat(_o)){ho=String(Eo);break t}}ho=_o}var Io={};function xo(t){return function(t,e){var n=Io;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=eo(String(ho)).split("."),r=eo(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=ro(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||ro(0==s[2].length,0==a[2].length)||ro(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e})}var So=Mi.document&&go&&(wo()||parseInt(ho,10))||void 0,To=!go||9<=Number(So),Co=go&&!xo("9"),jo=function(){if(!Mi.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Mi.addEventListener("test",Li,e),Mi.removeEventListener("test",Li,e)}catch(n){}return t}();function Ao(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function ko(t,e){if(Ao.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(yo){t:{try{lo(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Ro[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}Ao.prototype.b=function(){this.defaultPrevented=!0},Wi(ko,Ao);var Ro={2:"touch",3:"pen",4:"mouse"};ko.prototype.b=function(){ko.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Co)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var No="closure_listenable_"+(1e6*Math.random()|0),Po=0;function Do(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++Po,this.Y=this.Z=!1}function Mo(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function Lo(t){this.src=t,this.a={},this.b=0}function Uo(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=Ji(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(Mo(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function Vo(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==r)return i}return-1}Lo.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=Vo(t,e,r,i);return-1<s?(e=t[s],n||(e.Z=!1)):((e=new Do(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var Fo="closure_lm_"+(1e6*Math.random()|0),Ho={};function qo(t,e,n,r,i){if(r&&r.once)return Bo(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)qo(t,e[o],n,r,i);return null}return n=Xo(n),t&&t[No]?t.va(e,n,Vi(r)?!!r.capture:!!r,i):zo(t,e,n,!1,r,i)}function zo(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=Vi(i)?!!i.capture:!!i;if(s&&!To)return null;var a=Zo(t);if(a||(t[Fo]=a=new Lo(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function(){var t=Jo,e=To?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)jo||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Wo(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function Bo(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)Bo(t,e[o],n,r,i);return null}return n=Xo(n),t&&t[No]?t.wa(e,n,Vi(r)?!!r.capture:!!r,i):zo(t,e,n,!0,r,i)}function Go(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)Go(t,e[o],n,r,i);else r=Vi(r)?!!r.capture:!!r,n=Xo(n),t&&t[No]?(t=t.c,(e=String(e).toString())in t.a&&-1<(n=Vo(o=t.a[e],n,r,i))&&(Mo(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):t&&(t=Zo(t))&&(e=t.a[e.toString()],t=-1,e&&(t=Vo(e,n,r,i)),(n=-1<t?e[t]:null)&&$o(n))}function $o(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[No])Uo(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Wo(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Zo(e))?(Uo(n,t),0==n.b&&(n.src=null,e[Fo]=null)):Mo(t)}}}function Wo(t){return t in Ho?Ho[t]:Ho[t]="on"+t}function Qo(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&$o(t),n.call(r,e)}function Jo(t,e){if(t.Y)return!0;if(!To){if(!e)t:{e=["window","event"];for(var n=Mi,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return Qo(t,e=new ko(e,this))}return Qo(t,new ko(e,this))}function Zo(t){return(t=t[Fo])instanceof Lo?t:null}var Yo="__closure_events_fn_"+(1e9*Math.random()>>>0);function Xo(t){return"function"==typeof t?t:(t[Yo]||(t[Yo]=function(e){return t.handleEvent(e)}),t[Yo])}function Ko(){Qi.call(this),this.c=new Lo(this),this.J=this,this.C=null}function ts(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new Ao(e,t);else if(e instanceof Ao)e.target=e.target||t;else{var i=e;co(e=new Ao(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.a=n[o];i=es(s,r,!0,e)&&i}if(i=es(s=e.a=t,r,!0,e)&&i,i=es(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=es(s=e.a=n[o],r,!1,e)&&i}function es(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.Y&&s.capture==n){var a=s.listener,u=s.ca||s.src;s.Z&&Uo(t.c,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}Wi(Ko,Qi),Ko.prototype[No]=!0,(Ni=Ko.prototype).addEventListener=function(t,e,n,r){qo(this,t,e,n,r)},Ni.removeEventListener=function(t,e,n,r){Go(this,t,e,n,r)},Ni.G=function(){if(Ko.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)Mo(n[r]);delete e.a[t],e.b--}}this.C=null},Ni.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},Ni.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var ns=Mi.JSON.stringify;function rs(){this.b=this.a=null}var is,os=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())(function(){return new as},function(t){t.reset()});function ss(){var t=hs,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function as(){this.next=this.b=this.a=null}function us(t){Mi.setTimeout(function(){throw t},0)}function cs(t,e){is||function(){var t=Mi.Promise.resolve(void 0);is=function(){t.then(fs)}}(),ls||(is(),ls=!0),hs.add(t,e)}rs.prototype.add=function(t,e){var n=os.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},as.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},as.prototype.reset=function(){this.next=this.b=this.a=null};var ls=!1,hs=new rs;function fs(){for(var t;t=ss();){try{t.a.call(t.b)}catch(n){us(n)}var e=os;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}ls=!1}function ds(t,e){Ko.call(this),this.b=t||1,this.a=e||Mi,this.f=Bi(this.Za,this),this.g=$i()}function ps(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function gs(t,e,n){if("function"==typeof t)n&&(t=Bi(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Bi(t.handleEvent,t)}return 2147483647<Number(e)?-1:Mi.setTimeout(t,e||0)}function vs(t){t.a=gs(function(){t.a=null,t.c&&(t.c=!1,vs(t))},t.h);var e=t.b;t.b=null,t.g.apply(null,e)}Wi(ds,Ko),(Ni=ds.prototype).aa=!1,Ni.M=null,Ni.Za=function(){if(this.aa){var t=$i()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),ts(this,"tick"),this.aa&&(ps(this),this.start()))}},Ni.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=$i())},Ni.G=function(){ds.X.G.call(this),ps(this),delete this.a};var bs=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}ki(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:vs(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(Mi.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(Qi);function ys(t){Qi.call(this),this.b=t,this.a={}}Wi(ys,Qi);var ms=[];function ws(t,e,n,r){Array.isArray(n)||(n&&(ms[0]=n.toString()),n=ms);for(var i=0;i<n.length;i++){var o=qo(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function _s(t){so(t.a,function(t,e){this.a.hasOwnProperty(e)&&$o(t)},t),t.a={}}function Os(){this.a=!0}function Es(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return ns(n)}catch(a){return e}}(t,n)+(r?" "+r:"")})}ys.prototype.G=function(){ys.X.G.call(this),_s(this)},ys.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Os.prototype.info=function(){};var Is={},xs=null;function Ss(){return xs=xs||new Ko}function Ts(t){Ao.call(this,Is.Fa,t)}function Cs(t){var e=Ss();ts(e,new Ts(e,t))}function js(t,e){Ao.call(this,Is.STAT_EVENT,t),this.stat=e}function As(t){var e=Ss();ts(e,new js(e,t))}function ks(t){Ao.call(this,Is.Ga,t)}function Rs(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Mi.setTimeout(function(){t()},e)}Is.Fa="serverreachability",Wi(Ts,Ao),Is.STAT_EVENT="statevent",Wi(js,Ao),Is.Ga="timingevent",Wi(ks,Ao);var Ns={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},Ps={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function Ds(){}function Ms(){}Ds.prototype.a=null;var Ls,Us={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function Vs(){Ao.call(this,"d")}function Fs(){Ao.call(this,"c")}function Hs(){}function qs(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new ys(this),this.P=zs,this.R=new ds(t=bo?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}Wi(Vs,Ao),Wi(Fs,Ao),Wi(Hs,Ds),Ls=new Hs;var zs=45e3,Bs={},Gs={};function $s(t,e,n){t.H=1,t.i=pa(ua(e)),t.j=n,t.I=!0,Ws(t,null)}function Ws(t,e){t.u=$i(),Zs(t),t.l=ua(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),Ta(n.b,"t",r),t.D=0,t.a=_u(t.g,t.g.C?e:null),0<t.O&&(t.F=new bs(Bi(t.Ca,t,t.a),t.O)),ws(t.J,t.a,"readystatechange",t.Xa),e=t.B?ao(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),Cs(1),function(t,e,n,r,i,o){t.info(function(){if(t.a)if(o)for(var s="",a=o.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");s=2<=h.length&&"type"==h[1]?s+(l+"=")+c+"&":s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s})}(t.c,t.m,t.l,t.f,t.S,t.j)}function Qs(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=Js(t,n);if(i==Gs){4==e&&(t.h=4,As(14),r=!1),Es(t.c,t.f,null,"[Incomplete Response]");break}if(i==Bs){t.h=4,As(15),Es(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}Es(t.c,t.f,i,null),ea(t,i)}4==e&&0==n.length&&(t.h=1,As(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),du(e),e.F=!0,As(11))):(Es(t.c,t.f,n,"[Invalid Chunked Response]"),ta(t),Ks(t))}function Js(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?Gs:(n=Number(e.substring(n,r)),isNaN(n)?Bs:(r+=1)+n>e.length?Gs:(e=e.substr(r,n),t.D=r+n,e))}function Zs(t){t.T=$i()+t.P,Ys(t,t.P)}function Ys(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=Rs(Bi(t.Va,t),e)}function Xs(t){t.o&&(Mi.clearTimeout(t.o),t.o=null)}function Ks(t){0==t.g.v||t.A||vu(t.g,t)}function ta(t){Xs(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,ps(t.R),_s(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function ea(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||Pa(n.b,t)))if(n.I=t.N,!t.C&&Pa(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(oy){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;gu(n),iu(n)}fu(n),As(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=Rs(Bi(n.Sa,n),6e3));if(1>=Na(n.b)&&n.ea){try{n.ea()}catch(oy){}n.ea=void 0}}else yu(n,11)}else if((t.C||n.a==t)&&gu(n),!Ki(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var s=i[4];null!=s&&(n.pa=s,n.c.info("SVER="+n.pa));var a=i[5];if(null!=a&&"number"==typeof a&&0<a){var u=1.5*a;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=u.b;!h.a&&(no(l,"spdy")||no(l,"quic")||no(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(Da(h,h.b),h.b=null))}if(u.A){var f=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(u.na=f,da(u.B,u.A,f))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=$i()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=t;if((u=n).la=wu(u,u.C?u.ga:null,u.fa),d.C){Ma(u.b,d);var p=d,g=u.D;g&&p.setTimeout(g),p.o&&(Xs(p),Zs(p)),u.a=d}else hu(u);0<n.g.length&&au(n)}else"stop"!=i[0]&&"close"!=i[0]||yu(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?yu(n,7):ru(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);Cs(4)}catch(oy){}}function na(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Ui(t)||"string"==typeof t)Zi(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(Ui(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(Ui(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function ra(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof ra)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function ia(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];oa(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)oa(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function oa(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(Ni=qs.prototype).setTimeout=function(t){this.P=t},Ni.Xa=function(t){t=t.target;var e=this.F;e&&3==Ka(t)?e.f():this.Ca(t)},Ni.Ca=function(t){try{if(t==this.a)t:{var e=Ka(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!bo&&!this.a.$())){this.A||4!=e||7==n||Cs(8==n||0>=r?3:2),Xs(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,function(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s})}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var s,a=this.a;if((s=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ki(s)){var u=s;break e}}u=null}if(!u){this.b=!1,this.h=3,As(12),ta(this),Ks(this);break t}Es(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,ea(this,u)}this.I?(Qs(this,e,o),bo&&this.b&&3==e&&(ws(this.J,this.R,"tick",this.Wa),this.R.start())):(Es(this.c,this.f,o,null),ea(this,o)),4==e&&ta(this),this.b&&!this.A&&(4==e?vu(this.g,this):(this.b=!1,Zs(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,As(12)):(this.h=0,As(13)),ta(this),Ks(this)}}}catch(c){}},Ni.Wa=function(){if(this.a){var t=Ka(this.a),e=this.a.$();this.D<e.length&&(Xs(this),Qs(this,t,e),this.b&&4!=t&&Zs(this))}},Ni.cancel=function(){this.A=!0,ta(this)},Ni.Va=function(){this.o=null;var t=$i();0<=t-this.T?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.c,this.l),2!=this.H&&(Cs(3),As(17)),ta(this),this.h=2,Ks(this)):Ys(this,this.T-t)},(Ni=ra.prototype).K=function(){ia(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},Ni.L=function(){return ia(this),this.a.concat()},Ni.get=function(t,e){return oa(this.b,t)?this.b[t]:e},Ni.set=function(t,e){oa(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},Ni.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var sa=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function aa(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof aa){this.a=void 0!==e?e:t.a,ca(this,t.f),this.j=t.j,la(this,t.c),ha(this,t.h),this.g=t.g,e=t.b;var n=new Ea;n.c=e.c,e.a&&(n.a=new ra(e.a),n.b=e.b),fa(this,n),this.i=t.i}else t&&(n=String(t).match(sa))?(this.a=!!e,ca(this,n[1]||"",!0),this.j=ga(n[2]||""),la(this,n[3]||"",!0),ha(this,n[4]),this.g=ga(n[5]||"",!0),fa(this,n[6]||"",!0),this.i=ga(n[7]||"")):(this.a=!!e,this.b=new Ea(null,this.a))}function ua(t){return new aa(t)}function ca(t,e,n){t.f=n?ga(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function la(t,e,n){t.c=n?ga(e,!0):e}function ha(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function fa(t,e,n){e instanceof Ea?(t.b=e,function(t,e){e&&!t.f&&(Ia(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(xa(this,e),Ta(this,n,t))},t)),t.f=e}(t.b,t.a)):(n||(e=va(e,_a)),t.b=new Ea(e,t.a))}function da(t,e,n){t.b.set(e,n)}function pa(t){return da(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^$i()).toString(36)),t}function ga(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function va(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,ba),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function ba(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}aa.prototype.toString=function(){var t=[],e=this.f;e&&t.push(va(e,ya,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(va(e,ya,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(va(n,"/"==n.charAt(0)?wa:ma,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",va(n,Oa)),t.join("")};var ya=/[#\/\?@]/g,ma=/[#\?:]/g,wa=/[#\?]/g,_a=/[#\?@]/g,Oa=/#/g;function Ea(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Ia(t){t.a||(t.a=new ra,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function xa(t,e){Ia(t),e=Ca(t,e),oa(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,oa((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&ia(t)))}function Sa(t,e){return Ia(t),e=Ca(t,e),oa(t.a.b,e)}function Ta(t,e,n){xa(t,e),0<n.length&&(t.c=null,t.a.set(Ca(t,e),Xi(n)),t.b+=n.length)}function Ca(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(Ni=Ea.prototype).add=function(t,e){Ia(this),this.c=null,t=Ca(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},Ni.forEach=function(t,e){Ia(this),this.a.forEach(function(n,r){Zi(n,function(n){t.call(e,n,r,this)},this)},this)},Ni.L=function(){Ia(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},Ni.K=function(t){Ia(this);var e=[];if("string"==typeof t)Sa(this,t)&&(e=Yi(e,this.a.get(Ca(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=Yi(e,t[n])}return e},Ni.set=function(t,e){return Ia(this),this.c=null,Sa(this,t=Ca(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},Ni.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},Ni.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var ja=function(){return function(t,e){this.b=t,this.a=e}}();function Aa(t){this.g=t||ka,t=Mi.PerformanceNavigationTiming?0<(t=Mi.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(Mi.ia&&Mi.ia.ya&&Mi.ia.ya()&&Mi.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var ka=10;function Ra(t){return!!t.b||!!t.a&&t.a.size>=t.f}function Na(t){return t.b?1:t.a?t.a.size:0}function Pa(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function Da(t,e){t.a?t.a.add(e):t.b=e}function Ma(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function La(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=Ri(t.a.values()),o=i.next();!o.done;o=i.next())r=r.concat(o.value.s)}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return Xi(t.c)}function Ua(){}function Va(){this.a=new Ua}function Fa(t,e,n){var r=n||"";try{na(t,function(t,n){var i=t;Vi(t)&&(i=ns(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch($y){throw e.push(r+"type="+encodeURIComponent("_badmap")),$y}}function Ha(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}Aa.prototype.cancel=function(){var t,e;if(this.c=La(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=Ri(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},Ua.prototype.stringify=function(t){return Mi.JSON.stringify(t,void 0)},Ua.prototype.parse=function(t){return Mi.JSON.parse(t,void 0)};var qa=Mi.JSON.parse;function za(t){Ko.call(this),this.headers=new ra,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=Ba,this.D=this.F=!1}Wi(za,Ko);var Ba="",Ga=/^https?$/i,$a=["POST","PUT"];function Wa(t){return"content-type"==t.toLowerCase()}function Qa(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,Ja(t),Ya(t)}function Ja(t){t.u||(t.u=!0,ts(t,"complete"),ts(t,"error"))}function Za(t){if(t.b&&void 0!==Di&&(!t.s[1]||4!=Ka(t)||2!=t.W()))if(t.l&&4==Ka(t))gs(t.za,0,t);else if(ts(t,"readystatechange"),4==Ka(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.B).match(sa)[1]||null;if(!o&&Mi.self&&Mi.self.location){var s=Mi.self.location.protocol;o=s.substr(0,s.length-1)}i=!Ga.test(o?o.toLowerCase():"")}e=i}if(e)ts(t,"complete"),ts(t,"success");else{t.h=6;try{var a=2<Ka(t)?t.a.statusText:""}catch(n){a=""}t.f=a+" ["+t.W()+"]",Ja(t)}}finally{Ya(t)}}}function Ya(t,e){if(t.a){Xa(t);var n=t.a,r=t.s[0]?Li:null;t.a=null,t.s=null,e||ts(t,"ready");try{n.onreadystatechange=r}catch($y){}}}function Xa(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(Mi.clearTimeout(t.m),t.m=null)}function Ka(t){return t.a?t.a.readyState:0}function tu(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return so(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):da(t,e,n))}function eu(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function nu(t){this.pa=0,this.g=[],this.c=new Os,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=eu("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=eu("baseRetryDelayMs",5e3,t),this.Ra=eu("retryDelaySeedMs",1e4,t),this.Ma=eu("forwardChannelMaxRetries",2,t),this.ma=eu("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new Aa(t&&t.concurrentRequestLimit),this.ka=new Va,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function ru(t){if(ou(t),3==t.v){var e=t.R++,n=ua(t.B);da(n,"SID",t.J),da(n,"RID",e),da(n,"TYPE","terminate"),cu(t,n),(e=new qs(t,t.c,e,void 0)).H=2,e.i=pa(ua(n)),n=!1,Mi.navigator&&Mi.navigator.sendBeacon&&(n=Mi.navigator.sendBeacon(e.i.toString(),"")),!n&&Mi.Image&&((new Image).src=e.i,n=!0),n||(e.a=_u(e.g,null),e.a.ba(e.i)),e.u=$i(),Zs(e)}mu(t)}function iu(t){t.a&&(du(t),t.a.cancel(),t.a=null)}function ou(t){iu(t),t.j&&(Mi.clearTimeout(t.j),t.j=null),gu(t),t.b.cancel(),t.h&&("number"==typeof t.h&&Mi.clearTimeout(t.h),t.h=null)}function su(t,e){t.g.push(new ja(t.Oa++,e)),3==t.v&&au(t)}function au(t){Ra(t.b)||t.h||(t.h=!0,cs(t.Ba,t),t.u=0)}function uu(t,e){var n;n=e?e.f:t.R++;var r=ua(t.B);da(r,"SID",t.J),da(r,"RID",n),da(r,"AID",t.P),cu(t,r),t.i&&t.l&&tu(r,t.i,t.l),n=new qs(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=lu(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),Da(t.b,n),$s(n,r,e)}function cu(t,e){t.f&&na({},function(t,n){da(e,n,t)})}function lu(t,e,n){n=Math.min(t.g.length,n);var r=t.f?Bi(t.f.Ja,t.f,t):null;t:for(var i=t.g,o=-1;;){var s=["count="+n];-1==o?0<n?s.push("ofs="+(o=i[0].b)):o=0:s.push("ofs="+o);for(var a=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),a=!1;else try{Fa(l,s,"req"+c+"_")}catch(rc){r&&r(l)}}if(a){r=s.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function hu(t){t.a||t.j||(t.T=1,cs(t.Aa,t),t.o=0)}function fu(t){return!(t.a||t.j||3<=t.o||(t.T++,t.j=Rs(Bi(t.Aa,t),bu(t,t.o)),t.o++,0))}function du(t){null!=t.s&&(Mi.clearTimeout(t.s),t.s=null)}function pu(t){t.a=new qs(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=ua(t.la);da(e,"RID","rpc"),da(e,"SID",t.J),da(e,"CI",t.H?"0":"1"),da(e,"AID",t.P),cu(t,e),da(e,"TYPE","xmlhttp"),t.i&&t.l&&tu(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=pa(ua(e)),n.j=null,n.I=!0,Ws(n,t)}function gu(t){null!=t.m&&(Mi.clearTimeout(t.m),t.m=null)}function vu(t,e){var n=null;if(t.a==e){gu(t),du(t),t.a=null;var r=2}else{if(!Pa(t.b,e))return;n=e.s,Ma(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=$i()-e.u;var i=t.u;ts(r=Ss(),new ks(r,n,e,i)),au(t)}else hu(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(Na(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=Rs(Bi(t.Ba,t,e),bu(t,t.u)),t.u++,0)))}(t,e)||2==r&&fu(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:yu(t,5);break;case 4:yu(t,10);break;case 3:yu(t,6);break;default:yu(t,2)}}function bu(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function yu(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=Bi(t.Ya,t);n||(n=new aa("//www.google.com/images/cleardot.gif"),Mi.location&&"http"==Mi.location.protocol||ca(n,"https"),pa(n)),function(t,e){var n=new Os;if(Mi.Image){var r=new Image;r.onload=Gi(Ha,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Gi(Ha,n,r,"TestLoadImage: error",!1,e),r.onabort=Gi(Ha,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Gi(Ha,n,r,"TestLoadImage: timeout",!1,e),Mi.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else As(2);t.v=0,t.f&&t.f.ra(e),mu(t),ou(t)}function mu(t){t.v=0,t.I=-1,t.f&&(0==La(t.b).length&&0==t.g.length||(t.b.c.length=0,Xi(t.g),t.g.length=0),t.f.qa())}function wu(t,e,n){var r=function(t){return t instanceof aa?ua(t):new aa(t,void 0)}(n);if(""!=r.c)e&&la(r,e+"."+r.c),ha(r,r.h);else{var i=Mi.location;r=function(t,e,n,r){var i=new aa(null,void 0);return t&&ca(i,t),e&&la(i,e),n&&ha(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&so(t.V,function(t,e){da(r,e,t)}),n=t.na,(e=t.A)&&n&&da(r,e,n),da(r,"VER",t.ha),cu(t,r),r}function _u(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new za(t.Na)).F=t.C,e}function Ou(){}function Eu(){if(go&&!(10<=Number(So)))throw Error("Environmental error: no available transport.")}function Iu(t,e){Ko.call(this),this.a=new nu(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!Ki(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ki(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new Tu(this)}function xu(t){Vs.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function Su(){Fs.call(this),this.status=1}function Tu(t){this.a=t}(Ni=za.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:Ls),this.a.onreadystatechange=Bi(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(o){return void Qa(this,o)}t=n||"";var i=new ra(this.headers);r&&na(r,function(t,e){i.set(e,t)}),r=function(t){t:{for(var e=Wa,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=Mi.FormData&&t instanceof Mi.FormData,!(0<=Ji($a,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Xa(this),0<this.o&&((this.D=function(t){return go&&xo(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=Bi(this.xa,this)):this.m=gs(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(o){Qa(this,o)}},Ni.xa=function(){void 0!==Di&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,ts(this,"timeout"),this.abort(8))},Ni.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,ts(this,"complete"),ts(this,"abort"),Ya(this))},Ni.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Ya(this,!0)),za.X.G.call(this)},Ni.za=function(){this.j||(this.A||this.l||this.g?Za(this):this.Ua())},Ni.Ua=function(){Za(this)},Ni.W=function(){try{return 2<Ka(this)?this.a.status:-1}catch(fo){return-1}},Ni.$=function(){try{return this.a?this.a.responseText:""}catch(fo){return""}},Ni.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),qa(e)}},Ni.ua=function(){return this.h},Ni.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(Ni=nu.prototype).ha=8,Ni.v=1,Ni.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new qs(this,this.c,t,void 0),r=this.l;if(this.O&&(r?co(r=ao(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=lu(this,n,e),da(i=ua(this.B),"RID",t),da(i,"CVER",22),this.A&&da(i,"X-HTTP-Session-Id",this.A),cu(this,i),this.i&&r&&tu(i,this.i,r),Da(this.b,n),this.Ia&&da(i,"TYPE","init"),this.da?(da(i,"$req",e),da(i,"SID","null"),n.U=!0,$s(n,i,null)):$s(n,i,e),this.v=2}}else 3==this.v&&(t?uu(this,t):0==this.g.length||Ra(this.b)||uu(this))},Ni.Aa=function(){if(this.j=null,pu(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=Rs(Bi(this.Ta,this),t)}},Ni.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,As(10),iu(this),pu(this))},Ni.Sa=function(){null!=this.m&&(this.m=null,iu(this),fu(this),As(19))},Ni.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),As(2)):(this.c.info("Failed to ping google.com"),As(1))},(Ni=Ou.prototype).ta=function(){},Ni.sa=function(){},Ni.ra=function(){},Ni.qa=function(){},Ni.Ja=function(){},Eu.prototype.a=function(t,e){return new Iu(t,e)},Wi(Iu,Ko),Iu.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;As(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=wu(t,null,t.fa),au(t)},Iu.prototype.close=function(){ru(this.a)},Iu.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,su(this.a,e)}else this.l?((e={}).__data__=ns(t),su(this.a,e)):su(this.a,t)},Iu.prototype.G=function(){this.a.f=null,delete this.f,ru(this.a),delete this.a,Iu.X.G.call(this)},Wi(xu,Vs),Wi(Su,Fs),Wi(Tu,Ou),Tu.prototype.ta=function(){ts(this.a,"a")},Tu.prototype.sa=function(t){ts(this.a,new xu(t))},Tu.prototype.ra=function(t){ts(this.a,new Su(t))},Tu.prototype.qa=function(){ts(this.a,"b")},Eu.prototype.createWebChannel=Eu.prototype.a,Iu.prototype.send=Iu.prototype.h,Iu.prototype.open=Iu.prototype.g,Iu.prototype.close=Iu.prototype.close,Ns.NO_ERROR=0,Ns.TIMEOUT=8,Ns.HTTP_ERROR=6,Ps.COMPLETE="complete",Ms.EventType=Us,Us.OPEN="a",Us.CLOSE="b",Us.ERROR="c",Us.MESSAGE="d",Ko.prototype.listen=Ko.prototype.va,za.prototype.listenOnce=za.prototype.wa,za.prototype.getLastError=za.prototype.Qa,za.prototype.getLastErrorCode=za.prototype.ua,za.prototype.getStatus=za.prototype.W,za.prototype.getResponseJson=za.prototype.Pa,za.prototype.getResponseText=za.prototype.$,za.prototype.send=za.prototype.ba;var Cu=Ns,ju=Ps,Au=Is,ku=Ms,Ru=za,Nu=n("30Go"),Pu=function(t,e,n,r,i,o){this.t=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i,this.i=o},Du=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"o",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),Mu=new ji.b("@firebase/firestore");function Lu(){return Mu.logLevel}function Uu(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Mu.logLevel<=ji.a.DEBUG){var r=e.map(Hu);Mu.debug.apply(Mu,Object(Nu.g)(["Firestore (8.2.9): "+t],r))}}function Vu(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Mu.logLevel<=ji.a.ERROR){var r=e.map(Hu);Mu.error.apply(Mu,Object(Nu.g)(["Firestore (8.2.9): "+t],r))}}function Fu(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Mu.logLevel<=ji.a.WARN){var r=e.map(Hu);Mu.warn.apply(Mu,Object(Nu.g)(["Firestore (8.2.9): "+t],r))}}function Hu(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch($y){return t}}function qu(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.2.9) INTERNAL ASSERTION FAILED: "+t;throw Vu(e),new Error(e)}function zu(t,e){t||qu()}function Bu(t,e){return t}function Gu(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var $u=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=Gu(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function Wu(t,e){return t<e?-1:t>e?1:0}function Qu(t,e,n){return t.length===e.length&&t.every(function(t,r){return n(t,e[r])})}function Ju(t){return t+"\0"}var Zu=function(){function t(t){this.h=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.h)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.h)},t.prototype.l=function(){return 2*this.h.length},t.prototype._=function(t){return Wu(this.h,t.h)},t.prototype.isEqual=function(t){return this.h===t.h},t}();Zu.T=new Zu("");var Yu={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Xu=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(Nu.c)(e,t),e}(Error),Ku=function(){function t(t){this.I=t}return t.fromBase64String=function(e){try{return new t(Zu.fromBase64String(e))}catch(e){throw new Xu(Yu.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(Zu.fromUint8Array(e))},t.prototype.toBase64=function(){return this.I.toBase64()},t.prototype.toUint8Array=function(){return this.I.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.I.isEqual(t.I)},t}(),tc=function(){function t(t){this.uid=t}return t.prototype.m=function(){return null!=this.uid},t.prototype.A=function(){return this.m()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();tc.UNAUTHENTICATED=new tc(null),tc.R=new tc("google-credentials-uid"),tc.P=new tc("first-party-uid");var ec=function(t,e){this.user=e,this.type="OAuth",this.g={},this.g.Authorization="Bearer "+t},nc=function(){function t(){this.V=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.p=function(){},t.prototype.v=function(t){this.V=t,t(tc.UNAUTHENTICATED)},t.prototype.S=function(){this.V=null},t}(),rc=function(){function t(t){var e=this;this.D=null,this.currentUser=tc.UNAUTHENTICATED,this.C=!1,this.N=0,this.V=null,this.forceRefresh=!1,this.D=function(){e.N++,e.currentUser=e.$(),e.C=!0,e.V&&e.V(e.currentUser)},this.N=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.D):(this.D(null),t.get().then(function(t){e.auth=t,e.D&&e.auth.addAuthTokenListener(e.D)},function(){}))}return t.prototype.getToken=function(){var t=this,e=this.N,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return t.N!==e?(Uu("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(zu("string"==typeof n.accessToken),new ec(n.accessToken,t.currentUser)):null}):Promise.resolve(null)},t.prototype.p=function(){this.forceRefresh=!0},t.prototype.v=function(t){this.V=t,this.C&&t(this.currentUser)},t.prototype.S=function(){this.auth&&this.auth.removeAuthTokenListener(this.D),this.D=null,this.V=null},t.prototype.$=function(){var t=this.auth&&this.auth.getUid();return zu(null===t||"string"==typeof t),new tc(t)},t}(),ic=function(){function t(t,e){this.F=t,this.O=e,this.type="FirstParty",this.user=tc.P}return Object.defineProperty(t.prototype,"g",{get:function(){var t={"X-Goog-AuthUser":this.O},e=this.F.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),oc=function(){function t(t,e){this.F=t,this.O=e}return t.prototype.getToken=function(){return Promise.resolve(new ic(this.F,this.O))},t.prototype.v=function(t){t(tc.P)},t.prototype.S=function(){},t.prototype.p=function(){},t}(),sc=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.k=function(t){return n.M(t)},this.L=function(t){return e.B(t)})}return t.prototype.M=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.L&&this.L(t),t},t}();sc.q=-1;var ac=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Xu(Yu.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Xu(Yu.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Xu(Yu.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Xu(Yu.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.U=function(t){return this.seconds===t.seconds?Wu(this.nanoseconds,t.nanoseconds):Wu(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),uc=function(){function t(t){this.timestamp=t}return t.K=function(e){return new t(e)},t.min=function(){return new t(new ac(0,0))},t.prototype._=function(t){return this.timestamp.U(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.W=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.j=function(){return this.timestamp},t}(),cc=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&qu(),void 0===n?n=t.length-e:n>t.length-e&&qu(),this.segments=t,this.offset=e,this.G=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.G},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.H(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):n.push(e),this.J(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.Y=function(t){return this.J(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.X=function(){return this.J(this.segments,this.offset,this.length-1)},t.prototype.Z=function(){return this.segments[this.offset]},t.prototype.tt=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.et=function(){return 0===this.length},t.prototype.nt=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.st=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.it=function(){return this.segments.slice(this.offset,this.limit())},t.H=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),lc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Nu.c)(e,t),e.prototype.J=function(t,n,r){return new e(t,n,r)},e.prototype.rt=function(){return this.it().join("/")},e.prototype.toString=function(){return this.rt()},e.ot=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i];if(s.indexOf("//")>=0)throw new Xu(Yu.INVALID_ARGUMENT,"Invalid segment ("+s+"). Paths must not contain // in them.");r.push.apply(r,s.split("/").filter(function(t){return t.length>0}))}return new e(r)},e.ct=function(){return new e([])},e}(cc),hc=/^[_a-zA-Z][_a-zA-Z0-9]*$/,fc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Nu.c)(e,t),e.prototype.J=function(t,n,r){return new e(t,n,r)},e.at=function(t){return hc.test(t)},e.prototype.rt=function(){return this.it().map(function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.at(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.rt()},e.prototype.ut=function(){return 1===this.length&&"__name__"===this.get(0)},e.ht=function(){return new e(["__name__"])},e.lt=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new Xu(Yu.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new Xu(Yu.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Xu(Yu.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new Xu(Yu.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.ct=function(){return new e([])},e}(cc),dc=function(){function t(t){this.path=t}return t._t=function(e){return new t(lc.ot(e))},t.ft=function(e){return new t(lc.ot(e).Y(5))},t.prototype.dt=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===lc.H(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.H=function(t,e){return lc.H(t.path,e.path)},t.wt=function(t){return t.length%2==0},t.Et=function(e){return new t(new lc(e.slice()))},t}();function pc(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function gc(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function vc(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var bc=function(){function t(t){this.fields=t,t.sort(fc.H)}return t.prototype.Tt=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].nt(t))return!0;return!1},t.prototype.isEqual=function(t){return Qu(this.fields,t.fields,function(t,e){return t.isEqual(e)})},t}(),yc=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function mc(t){if(zu(!!t),"string"==typeof t){var e=0,n=yc.exec(t);if(zu(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:wc(t.seconds),nanos:wc(t.nanos)}}function wc(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function _c(t){return"string"==typeof t?Zu.fromBase64String(t):Zu.fromUint8Array(t)}function Oc(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Ec(t){var e=t.mapValue.fields.__previous_value__;return Oc(e)?Ec(e):e}function Ic(t){var e=mc(t.mapValue.fields.__local_write_time__.timestampValue);return new ac(e.seconds,e.nanos)}function xc(t){return null==t}function Sc(t){return 0===t&&1/t==-1/0}function Tc(t){return"number"==typeof t&&Number.isInteger(t)&&!Sc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function Cc(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Oc(t)?4:10:qu()}function jc(t,e){var n=Cc(t);if(n!==Cc(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ic(t).isEqual(Ic(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=mc(t.timestampValue),r=mc(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return _c(t.bytesValue).isEqual(_c(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return wc(t.geoPointValue.latitude)===wc(e.geoPointValue.latitude)&&wc(t.geoPointValue.longitude)===wc(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return wc(t.integerValue)===wc(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=wc(t.doubleValue),r=wc(e.doubleValue);return n===r?Sc(n)===Sc(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return Qu(t.arrayValue.values||[],e.arrayValue.values||[],jc);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(pc(n)!==pc(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!jc(n[i],r[i])))return!1;return!0}(t,e);default:return qu()}}function Ac(t,e){return void 0!==(t.values||[]).find(function(t){return jc(t,e)})}function kc(t,e){var n=Cc(t),r=Cc(e);if(n!==r)return Wu(n,r);switch(n){case 0:return 0;case 1:return Wu(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=wc(t.integerValue||t.doubleValue),r=wc(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return Rc(t.timestampValue,e.timestampValue);case 4:return Rc(Ic(t),Ic(e));case 5:return Wu(t.stringValue,e.stringValue);case 6:return function(t,e){var n=_c(t),r=_c(e);return n._(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=Wu(n[i],r[i]);if(0!==o)return o}return Wu(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=Wu(wc(t.latitude),wc(e.latitude));return 0!==n?n:Wu(wc(t.longitude),wc(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=kc(n[i],r[i]);if(o)return o}return Wu(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var a=Wu(r[s],o[s]);if(0!==a)return a;var u=kc(n[r[s]],i[o[s]]);if(0!==u)return u}return Wu(r.length,o.length)}(t.mapValue,e.mapValue);default:throw qu()}}function Rc(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Wu(t,e);var n=mc(t),r=mc(e),i=Wu(n.seconds,r.seconds);return 0!==i?i:Wu(n.nanos,r.nanos)}function Nc(t){return Pc(t)}function Pc(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=mc(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?_c(t.bytesValue).toBase64():"referenceValue"in t?dc.ft(t.referenceValue).toString():"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=Pc(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:e+=",",e+=o+":"+Pc(t.fields[o])}return e+"}"}(t.mapValue):qu();var e}function Dc(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.rt()}}function Mc(t){return!!t&&"integerValue"in t}function Lc(t){return!!t&&"arrayValue"in t}function Uc(t){return!!t&&"nullValue"in t}function Vc(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Fc(t){return!!t&&"mapValue"in t}var Hc=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.et())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!Fc(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.tt()])||null},t.prototype.isEqual=function(t){return jc(this.proto,t.proto)},t}(),qc=function(){function t(t){void 0===t&&(t=Hc.empty()),this.It=t,this.At=new Map}return t.prototype.set=function(t,e){return this.Rt(t,e),this},t.prototype.delete=function(t){return this.Rt(t,null),this},t.prototype.Rt=function(t,e){for(var n=this.At,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===Cc(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(t.tt(),e)},t.prototype.Pt=function(){var t=this.yt(fc.ct(),this.At);return null!=t?new Hc(t):this.It},t.prototype.yt=function(t,e){var n=this,r=!1,i=this.It.field(t),o=Fc(i)?Object.assign({},i.mapValue.fields):{};return e.forEach(function(e,i){if(e instanceof Map){var s=n.yt(t.child(i),e);null!=s&&(o[i]=s,r=!0)}else null!==e?(o[i]=e,r=!0):o.hasOwnProperty(i)&&(delete o[i],r=!0)}),r?{mapValue:{fields:o}}:null},t}();function zc(t){var e=[];return gc(t.fields||{},function(t,n){var r=new fc([t]);if(Fc(n)){var i=zc(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,s=i;o<s.length;o++)e.push(r.child(s[o]))}else e.push(r)}),new bc(e)}var Bc=function(t,e){this.key=t,this.version=e},Gc=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this,e,n)||this).gt=r,o.Vt=!!i.Vt,o.hasCommittedMutations=!!i.hasCommittedMutations,o}return Object(Nu.c)(e,t),e.prototype.field=function(t){return this.gt.field(t)},e.prototype.data=function(){return this.gt},e.prototype.bt=function(){return this.gt.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.Vt===t.Vt&&this.hasCommittedMutations===t.hasCommittedMutations&&this.gt.isEqual(t.gt)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.gt.toString()+", {hasLocalMutations: "+this.Vt+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.Vt||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(Bc),$c=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return Object(Nu.c)(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(Bc),Wc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Nu.c)(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(Bc),Qc=function(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.vt=null};function Jc(t,e,n,r,i,o,s){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),new Qc(t,e,n,r,i,o,s)}function Zc(t){var e=Bu(t);if(null===e.vt){var n=e.path.rt();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(t){return function(t){return t.field.rt()+t.op.toString()+Nc(t.value)}(t)}).join(","),n+="|ob:",n+=e.orderBy.map(function(t){return function(t){return t.field.rt()+t.dir}(t)}).join(","),xc(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=cl(e.startAt)),e.endAt&&(n+="|ub:",n+=cl(e.endAt)),e.vt=n}return e.vt}function Yc(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!hl(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(o=e.filters[r]).op||!i.field.isEqual(o.field)||!jc(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!dl(t.startAt,e.startAt)&&dl(t.endAt,e.endAt)}function Xc(t){return dc.wt(t.path)&&null===t.collectionGroup&&0===t.filters.length}var Kc=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Object(Nu.c)(e,t),e.create=function(t,n,r){return t.ut()?"in"===n||"not-in"===n?this.St(t,n,r):new tl(t,n,r):"array-contains"===n?new il(t,r):"in"===n?new ol(t,r):"not-in"===n?new sl(t,r):"array-contains-any"===n?new al(t,r):new e(t,n,r)},e.St=function(t,e,n){return"in"===e?new el(t,n):new nl(t,n)},e.prototype.matches=function(t){var e=t.field(this.field);return"!="===this.op?null!==e&&this.Dt(kc(e,this.value)):null!==e&&Cc(this.value)===Cc(e)&&this.Dt(kc(e,this.value))},e.prototype.Dt=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return qu()}},e.prototype.Ct=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),tl=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=dc.ft(r.referenceValue),i}return Object(Nu.c)(e,t),e.prototype.matches=function(t){var e=dc.H(t.key,this.key);return this.Dt(e)},e}(Kc),el=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=rl(0,n),r}return Object(Nu.c)(e,t),e.prototype.matches=function(t){return this.keys.some(function(e){return e.isEqual(t.key)})},e}(Kc),nl=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=rl(0,n),r}return Object(Nu.c)(e,t),e.prototype.matches=function(t){return!this.keys.some(function(e){return e.isEqual(t.key)})},e}(Kc);function rl(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(t){return dc.ft(t.referenceValue)})}var il=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(Nu.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return Lc(e)&&Ac(e.arrayValue,this.value)},e}(Kc),ol=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(Nu.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&Ac(this.value.arrayValue,e)},e}(Kc),sl=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(Nu.c)(e,t),e.prototype.matches=function(t){if(Ac(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.field(this.field);return null!==e&&!Ac(this.value.arrayValue,e)},e}(Kc),al=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(Nu.c)(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!Lc(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(t){return Ac(e.value.arrayValue,t)})},e}(Kc),ul=function(t,e){this.position=t,this.before=e};function cl(t){return(t.before?"b":"a")+":"+t.position.map(function(t){return Nc(t)}).join(",")}var ll=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function hl(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function fl(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],s=t.position[i];if(r=o.field.ut()?dc.H(dc.ft(s.referenceValue),n.key):kc(s,n.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function dl(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!jc(t.position[n],e.position[n]))return!1;return!0}var pl=function(t,e,n,r,i,o,s,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.xt=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.Nt=null,this.$t=null};function gl(t,e,n,r,i,o,s,a){return new pl(t,e,n,r,i,o,s,a)}function vl(t){return new pl(t)}function bl(t){return!xc(t.limit)&&"F"===t.limitType}function yl(t){return!xc(t.limit)&&"L"===t.limitType}function ml(t){return t.xt.length>0?t.xt[0].field:null}function wl(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.Ct())return r.field}return null}function _l(t){return null!==t.collectionGroup}function Ol(t){var e=Bu(t);if(null===e.Nt){e.Nt=[];var n=wl(e),r=ml(e);if(null!==n&&null===r)n.ut()||e.Nt.push(new ll(n)),e.Nt.push(new ll(fc.ht(),"asc"));else{for(var i=!1,o=0,s=e.xt;o<s.length;o++){var a=s[o];e.Nt.push(a),a.field.ut()&&(i=!0)}if(!i){var u=e.xt.length>0?e.xt[e.xt.length-1].dir:"asc";e.Nt.push(new ll(fc.ht(),u))}}}return e.Nt}function El(t){var e=Bu(t);if(!e.$t)if("F"===e.limitType)e.$t=Jc(e.path,e.collectionGroup,Ol(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=Ol(e);r<i.length;r++){var o=i[r];n.push(new ll(o.field,"desc"===o.dir?"asc":"desc"))}var s=e.endAt?new ul(e.endAt.position,!e.endAt.before):null,a=e.startAt?new ul(e.startAt.position,!e.startAt.before):null;e.$t=Jc(e.path,e.collectionGroup,n,e.filters,e.limit,s,a)}return e.$t}function Il(t,e,n){return new pl(t.path,t.collectionGroup,t.xt.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function xl(t,e){return Yc(El(t),El(e))&&t.limitType===e.limitType}function Sl(t){return Zc(El(t))+"|lt:"+t.limitType}function Tl(t){return"Query(target="+function(t){var e=t.path.rt();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map(function(t){return(e=t).field.rt()+" "+e.op+" "+Nc(e.value);var e}).join(", ")+"]"),xc(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map(function(t){return function(t){return t.field.rt()+" ("+t.dir+")"}(t)}).join(", ")+"]"),t.startAt&&(e+=", startAt: "+cl(t.startAt)),t.endAt&&(e+=", endAt: "+cl(t.endAt)),"Target("+e+")"}(El(t))+"; limitType="+t.limitType+")"}function Cl(t,e){return function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.dt(t.collectionGroup)&&t.path.nt(n):dc.wt(t.path)?t.path.isEqual(n):t.path.st(n)}(t,e)&&function(t,e){for(var n=0,r=t.xt;n<r.length;n++){var i=r[n];if(!i.field.ut()&&null===e.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!fl(t.startAt,Ol(t),e)||t.endAt&&fl(t.endAt,Ol(t),e))}(t,e)}function jl(t){return function(e,n){for(var r=!1,i=0,o=Ol(t);i<o.length;i++){var s=o[i],a=Al(s,e,n);if(0!==a)return a;r=r||s.field.ut()}return 0}}function Al(t,e,n){var r=t.field.ut()?dc.H(e.key,n.key):function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?kc(r,i):qu()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return qu()}}var kl=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=uc.min()),void 0===o&&(o=uc.min()),void 0===s&&(s=Zu.T),this.target=t,this.targetId=e,this.Ft=n,this.sequenceNumber=r,this.Ot=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.kt=function(e){return new t(this.target,this.targetId,this.Ft,e,this.Ot,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.Mt=function(e,n){return new t(this.target,this.targetId,this.Ft,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.Lt=function(e){return new t(this.target,this.targetId,this.Ft,this.sequenceNumber,this.Ot,e,this.resumeToken)},t}();function Rl(t,e){if(t.Bt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Sc(e)?"-0":e}}function Nl(t){return{integerValue:""+t}}function Pl(t,e){return Tc(e)?Nl(e):Rl(t,e)}var Dl=function(){this.qt=void 0};function Ml(t,e,n){return t instanceof Vl?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof Fl?Hl(t,e):t instanceof ql?zl(t,e):function(t,e){var n=Ul(t,e),r=Gl(n)+Gl(t.Ut);return Mc(n)&&Mc(t.Ut)?Nl(r):Rl(t.Qt,r)}(t,e)}function Ll(t,e,n){return t instanceof Fl?Hl(t,e):t instanceof ql?zl(t,e):n}function Ul(t,e){return t instanceof Bl?Mc(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var Vl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Nu.c)(e,t),e}(Dl),Fl=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(Nu.c)(e,t),e}(Dl);function Hl(t,e){for(var n=$l(e),r=function(t){n.some(function(e){return jc(e,t)})||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var ql=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(Nu.c)(e,t),e}(Dl);function zl(t,e){for(var n=$l(e),r=function(t){n=n.filter(function(e){return!jc(e,t)})},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Bl=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Qt=e,r.Ut=n,r}return Object(Nu.c)(e,t),e}(Dl);function Gl(t){return wc(t.integerValue||t.doubleValue)}function $l(t){return Lc(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var Wl=function(t,e){this.field=t,this.transform=e},Ql=function(t,e){this.version=t,this.transformResults=e},Jl=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.Kt=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"Wt",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function Zl(t,e){return void 0!==t.updateTime?e instanceof Gc&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof Gc}var Yl=function(){};function Xl(t,e,n){return t instanceof rh?function(t,e,n){var r=t.value;if(n.transformResults){var i=sh(t.fieldTransforms,e,n.transformResults);r=uh(t.fieldTransforms,r,i)}return new Gc(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):t instanceof ih?function(t,e,n){if(!Zl(t.jt,e))return new Wc(t.key,n.version);var r=oh(t,e,n.transformResults?sh(t.fieldTransforms,e,n.transformResults):[]);return new Gc(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new $c(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n)}function Kl(t,e,n){return t instanceof rh?function(t,e,n){if(!Zl(t.jt,e))return e;var r=t.value,i=ah(t.fieldTransforms,n,e);r=uh(t.fieldTransforms,r,i);var o=nh(e);return new Gc(t.key,o,r,{Vt:!0})}(t,e,n):t instanceof ih?function(t,e,n){if(!Zl(t.jt,e))return e;var r=nh(e),i=oh(t,e,ah(t.fieldTransforms,n,e));return new Gc(t.key,r,i,{Vt:!0})}(t,e,n):function(t,e){return Zl(t.jt,e)?new $c(t.key,uc.min()):e}(t,e)}function th(t,e){return function(t,e){for(var n=null,r=0,i=t;r<i.length;r++){var o=i[r],s=e instanceof Gc?e.field(o.field):void 0,a=Ul(o.transform,s||null);null!=a&&(n=null==n?(new qc).set(o.field,a):n.set(o.field,a))}return n?n.Pt():null}(t.fieldTransforms,e)}function eh(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.jt.isEqual(e.jt)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&Qu(t,e,function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof Fl&&e instanceof Fl||t instanceof ql&&e instanceof ql?Qu(t.elements,e.elements,jc):t instanceof Bl&&e instanceof Bl?jc(t.Ut,e.Ut):t instanceof Vl&&e instanceof Vl}(t.transform,e.transform)}(t,e)})}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.Gt.isEqual(e.Gt))}function nh(t){return t instanceof Gc?t.version:uc.min()}var rh=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.jt=r,o.fieldTransforms=i,o.type=0,o}return Object(Nu.c)(e,t),e}(Yl),ih=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var s=this;return(s=t.call(this)||this).key=e,s.data=n,s.Gt=r,s.jt=i,s.fieldTransforms=o,s.type=1,s}return Object(Nu.c)(e,t),e}(Yl);function oh(t,e,n){var r;return r=function(t,e){var n=new qc(e);return t.Gt.fields.forEach(function(e){if(!e.et()){var r=t.data.field(e);null!==r?n.set(e,r):n.delete(e)}}),n.Pt()}(t,r=e instanceof Gc?e.data():Hc.empty()),uh(t.fieldTransforms,r,n)}function sh(t,e,n){var r=[];zu(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],s=o.transform,a=null;e instanceof Gc&&(a=e.field(o.field)),r.push(Ll(s,a,n[i]))}return r}function ah(t,e,n){for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i],a=s.transform,u=null;n instanceof Gc&&(u=n.field(s.field)),r.push(Ml(a,u,e))}return r}function uh(t,e,n){for(var r=new qc(e),i=0;i<t.length;i++)r.set(t[i].field,n[i]);return r.Pt()}var ch,lh,hh=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.jt=n,r.type=2,r.fieldTransforms=[],r}return Object(Nu.c)(e,t),e}(Yl),fh=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.jt=n,r.type=3,r.fieldTransforms=[],r}return Object(Nu.c)(e,t),e}(Yl),dh=function(t){this.count=t};function ph(t){switch(t){case Yu.OK:return qu();case Yu.CANCELLED:case Yu.UNKNOWN:case Yu.DEADLINE_EXCEEDED:case Yu.RESOURCE_EXHAUSTED:case Yu.INTERNAL:case Yu.UNAVAILABLE:case Yu.UNAUTHENTICATED:return!1;case Yu.INVALID_ARGUMENT:case Yu.NOT_FOUND:case Yu.ALREADY_EXISTS:case Yu.PERMISSION_DENIED:case Yu.FAILED_PRECONDITION:case Yu.ABORTED:case Yu.OUT_OF_RANGE:case Yu.UNIMPLEMENTED:case Yu.DATA_LOSS:return!0;default:return qu()}}function gh(t){if(void 0===t)return Vu("GRPC error has no .code"),Yu.UNKNOWN;switch(t){case ch.OK:return Yu.OK;case ch.CANCELLED:return Yu.CANCELLED;case ch.UNKNOWN:return Yu.UNKNOWN;case ch.DEADLINE_EXCEEDED:return Yu.DEADLINE_EXCEEDED;case ch.RESOURCE_EXHAUSTED:return Yu.RESOURCE_EXHAUSTED;case ch.INTERNAL:return Yu.INTERNAL;case ch.UNAVAILABLE:return Yu.UNAVAILABLE;case ch.UNAUTHENTICATED:return Yu.UNAUTHENTICATED;case ch.INVALID_ARGUMENT:return Yu.INVALID_ARGUMENT;case ch.NOT_FOUND:return Yu.NOT_FOUND;case ch.ALREADY_EXISTS:return Yu.ALREADY_EXISTS;case ch.PERMISSION_DENIED:return Yu.PERMISSION_DENIED;case ch.FAILED_PRECONDITION:return Yu.FAILED_PRECONDITION;case ch.ABORTED:return Yu.ABORTED;case ch.OUT_OF_RANGE:return Yu.OUT_OF_RANGE;case ch.UNIMPLEMENTED:return Yu.UNIMPLEMENTED;case ch.DATA_LOSS:return Yu.DATA_LOSS;default:return qu()}}(lh=ch||(ch={}))[lh.OK=0]="OK",lh[lh.CANCELLED=1]="CANCELLED",lh[lh.UNKNOWN=2]="UNKNOWN",lh[lh.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",lh[lh.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",lh[lh.NOT_FOUND=5]="NOT_FOUND",lh[lh.ALREADY_EXISTS=6]="ALREADY_EXISTS",lh[lh.PERMISSION_DENIED=7]="PERMISSION_DENIED",lh[lh.UNAUTHENTICATED=16]="UNAUTHENTICATED",lh[lh.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",lh[lh.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",lh[lh.ABORTED=10]="ABORTED",lh[lh.OUT_OF_RANGE=11]="OUT_OF_RANGE",lh[lh.UNIMPLEMENTED=12]="UNIMPLEMENTED",lh[lh.INTERNAL=13]="INTERNAL",lh[lh.UNAVAILABLE=14]="UNAVAILABLE",lh[lh.DATA_LOSS=15]="DATA_LOSS";var vh=function(){function t(t,e){this.H=t,this.root=e||yh.EMPTY}return t.prototype.zt=function(e,n){return new t(this.H,this.root.zt(e,n,this.H).copy(null,null,yh.Ht,null,null))},t.prototype.remove=function(e){return new t(this.H,this.root.remove(e,this.H).copy(null,null,yh.Ht,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.et();){var n=this.H(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.et();){var r=this.H(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.et=function(){return this.root.et()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.Jt=function(){return this.root.Jt()},t.prototype.Yt=function(){return this.root.Yt()},t.prototype.Xt=function(t){return this.root.Xt(t)},t.prototype.forEach=function(t){this.Xt(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.Xt(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.Zt=function(t){return this.root.Zt(t)},t.prototype.te=function(){return new bh(this.root,null,this.H,!1)},t.prototype.ee=function(t){return new bh(this.root,t,this.H,!1)},t.prototype.ne=function(){return new bh(this.root,null,this.H,!0)},t.prototype.se=function(t){return new bh(this.root,t,this.H,!0)},t}(),bh=function(){function t(t,e,n,r){this.ie=r,this.re=[];for(var i=1;!t.et();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.ie?t.left:t.right;else{if(0===i){this.re.push(t);break}this.re.push(t),t=this.ie?t.right:t.left}}return t.prototype.oe=function(){var t=this.re.pop(),e={key:t.key,value:t.value};if(this.ie)for(t=t.left;!t.et();)this.re.push(t),t=t.right;else for(t=t.right;!t.et();)this.re.push(t),t=t.left;return e},t.prototype.ce=function(){return this.re.length>0},t.prototype.ae=function(){if(0===this.re.length)return null;var t=this.re[this.re.length-1];return{key:t.key,value:t.value}},t}(),yh=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.et=function(){return!1},t.prototype.Xt=function(t){return this.left.Xt(t)||t(this.key,this.value)||this.right.Xt(t)},t.prototype.Zt=function(t){return this.right.Zt(t)||t(this.key,this.value)||this.left.Zt(t)},t.prototype.min=function(){return this.left.et()?this:this.left.min()},t.prototype.Jt=function(){return this.min().key},t.prototype.Yt=function(){return this.right.et()?this.key:this.right.Yt()},t.prototype.zt=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.zt(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.zt(t,e,n))).ue()},t.prototype.he=function(){if(this.left.et())return t.EMPTY;var e=this;return e.left.le()||e.left.left.le()||(e=e._e()),(e=e.copy(null,null,null,e.left.he(),null)).ue()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.et()||i.left.le()||i.left.left.le()||(i=i._e()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.le()&&(i=i.fe()),i.right.et()||i.right.le()||i.right.left.le()||(i=i.de()),0===n(e,i.key)){if(i.right.et())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.he())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.ue()},t.prototype.le=function(){return this.color},t.prototype.ue=function(){var t=this;return t.right.le()&&!t.left.le()&&(t=t.we()),t.left.le()&&t.left.left.le()&&(t=t.fe()),t.left.le()&&t.right.le()&&(t=t.Ee()),t},t.prototype._e=function(){var t=this.Ee();return t.right.left.le()&&(t=(t=(t=t.copy(null,null,null,null,t.right.fe())).we()).Ee()),t},t.prototype.de=function(){var t=this.Ee();return t.left.left.le()&&(t=(t=t.fe()).Ee()),t},t.prototype.we=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.fe=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.Ee=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.Te=function(){var t=this.Ie();return Math.pow(2,t)<=this.size+1},t.prototype.Ie=function(){if(this.le()&&this.left.le())throw qu();if(this.right.le())throw qu();var t=this.left.Ie();if(t!==this.right.Ie())throw qu();return t+(this.le()?0:1)},t}();yh.EMPTY=null,yh.RED=!0,yh.Ht=!1,yh.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw qu()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw qu()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw qu()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw qu()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw qu()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.zt=function(t,e,n){return new yh(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.et=function(){return!0},t.prototype.Xt=function(t){return!1},t.prototype.Zt=function(t){return!1},t.prototype.Jt=function(){return null},t.prototype.Yt=function(){return null},t.prototype.le=function(){return!1},t.prototype.Te=function(){return!0},t.prototype.Ie=function(){return 0},t}());var mh=function(){function t(t){this.H=t,this.data=new vh(this.H)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.Jt()},t.prototype.last=function(){return this.data.Yt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.Xt(function(e,n){return t(e),!1})},t.prototype.me=function(t,e){for(var n=this.data.ee(t[0]);n.ce();){var r=n.oe();if(this.H(r.key,t[1])>=0)return;e(r.key)}},t.prototype.Ae=function(t,e){var n;for(n=void 0!==e?this.data.ee(e):this.data.te();n.ce();)if(!t(n.oe().key))return},t.prototype.Re=function(t){var e=this.data.ee(t);return e.ce()?e.oe().key:null},t.prototype.te=function(){return new wh(this.data.te())},t.prototype.ee=function(t){return new wh(this.data.ee(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).zt(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.et=function(){return this.data.et()},t.prototype.Pe=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.te(),r=e.data.te();n.ce();){var i=n.oe().key,o=r.oe().key;if(0!==this.H(i,o))return!1}return!0},t.prototype.it=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.H);return n.data=e,n},t}(),wh=function(){function t(t){this.ye=t}return t.prototype.oe=function(){return this.ye.oe().key},t.prototype.ce=function(){return this.ye.ce()},t}(),_h=new vh(dc.H);function Oh(){return _h}function Eh(){return Oh()}var Ih=new vh(dc.H);function xh(){return Ih}var Sh=new vh(dc.H);function Th(){return Sh}var Ch=new mh(dc.H);function jh(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Ch,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var Ah=new mh(Wu);function kh(){return Ah}var Rh=function(){function t(t){this.H=t?function(e,n){return t(e,n)||dc.H(e.key,n.key)}:function(t,e){return dc.H(t.key,e.key)},this.ge=xh(),this.Ve=new vh(this.H)}return t.pe=function(e){return new t(e.H)},t.prototype.has=function(t){return null!=this.ge.get(t)},t.prototype.get=function(t){return this.ge.get(t)},t.prototype.first=function(){return this.Ve.Jt()},t.prototype.last=function(){return this.Ve.Yt()},t.prototype.et=function(){return this.Ve.et()},t.prototype.indexOf=function(t){var e=this.ge.get(t);return e?this.Ve.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.Ve.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.Ve.Xt(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.ge.zt(t.key,t),e.Ve.zt(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.ge.remove(t),this.Ve.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.Ve.te(),r=e.Ve.te();n.ce();){var i=n.oe().key,o=r.oe().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.H=this.H,r.ge=e,r.Ve=n,r},t}(),Nh=function(){function t(){this.be=new vh(dc.H)}return t.prototype.track=function(t){var e=t.doc.key,n=this.be.get(e);n?0!==t.type&&3===n.type?this.be=this.be.zt(e,t):3===t.type&&1!==n.type?this.be=this.be.zt(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.be=this.be.zt(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.be=this.be.zt(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.be=this.be.remove(e):1===t.type&&2===n.type?this.be=this.be.zt(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.be=this.be.zt(e,{type:2,doc:t.doc}):qu():this.be=this.be.zt(e,t)},t.prototype.ve=function(){var t=[];return this.be.Xt(function(e,n){t.push(n)}),t},t}(),Ph=function(){function t(t,e,n,r,i,o,s,a){this.query=t,this.docs=e,this.Se=n,this.docChanges=r,this.De=i,this.fromCache=o,this.Ce=s,this.xe=a}return t.Ne=function(e,n,r,i){var o=[];return n.forEach(function(t){o.push({type:0,doc:t})}),new t(e,n,Rh.pe(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.De.et()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.Ce===t.Ce&&this.De.isEqual(t.De)&&xl(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.Se.isEqual(t.Se)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),Dh=function(){function t(t,e,n,r,i){this.Ot=t,this.$e=e,this.Fe=n,this.Oe=r,this.ke=i}return t.Me=function(e,n){var r=new Map;return r.set(e,Mh.Le(e,n)),new t(uc.min(),r,kh(),Oh(),jh())},t}(),Mh=function(){function t(t,e,n,r,i){this.resumeToken=t,this.Be=e,this.qe=n,this.Ue=r,this.Qe=i}return t.Le=function(e,n){return new t(Zu.T,n,jh(),jh(),jh())},t}(),Lh=function(t,e,n,r){this.Ke=t,this.removedTargetIds=e,this.key=n,this.We=r},Uh=function(t,e){this.targetId=t,this.je=e},Vh=function(t,e,n,r){void 0===n&&(n=Zu.T),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},Fh=function(){function t(){this.Ge=0,this.ze=zh(),this.He=Zu.T,this.Je=!1,this.Ye=!0}return Object.defineProperty(t.prototype,"Be",{get:function(){return this.Je},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.He},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Xe",{get:function(){return 0!==this.Ge},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Ze",{get:function(){return this.Ye},enumerable:!1,configurable:!0}),t.prototype.tn=function(t){t.l()>0&&(this.Ye=!0,this.He=t)},t.prototype.en=function(){var t=jh(),e=jh(),n=jh();return this.ze.forEach(function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:qu()}}),new Mh(this.He,this.Je,t,e,n)},t.prototype.nn=function(){this.Ye=!1,this.ze=zh()},t.prototype.sn=function(t,e){this.Ye=!0,this.ze=this.ze.zt(t,e)},t.prototype.rn=function(t){this.Ye=!0,this.ze=this.ze.remove(t)},t.prototype.on=function(){this.Ge+=1},t.prototype.cn=function(){this.Ge-=1},t.prototype.an=function(){this.Ye=!0,this.Je=!0},t}(),Hh=function(){function t(t){this.un=t,this.hn=new Map,this.ln=Oh(),this._n=qh(),this.fn=new mh(Wu)}return t.prototype.dn=function(t){for(var e=0,n=t.Ke;e<n.length;e++){var r=n[e];t.We instanceof Gc?this.wn(r,t.We):t.We instanceof $c&&this.En(r,t.key,t.We)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)this.En(r=o[i],t.key,t.We)},t.prototype.Tn=function(t){var e=this;this.In(t,function(n){var r=e.mn(n);switch(t.state){case 0:e.An(n)&&r.tn(t.resumeToken);break;case 1:r.cn(),r.Xe||r.nn(),r.tn(t.resumeToken);break;case 2:r.cn(),r.Xe||e.removeTarget(n);break;case 3:e.An(n)&&(r.an(),r.tn(t.resumeToken));break;case 4:e.An(n)&&(e.Rn(n),r.tn(t.resumeToken));break;default:qu()}})},t.prototype.In=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.hn.forEach(function(t,r){n.An(r)&&e(r)})},t.prototype.Pn=function(t){var e=t.targetId,n=t.je.count,r=this.yn(e);if(r){var i=r.target;if(Xc(i))if(0===n){var o=new dc(i.path);this.En(e,o,new $c(o,uc.min()))}else zu(1===n);else this.gn(e)!==n&&(this.Rn(e),this.fn=this.fn.add(e))}},t.prototype.Vn=function(t){var e=this,n=new Map;this.hn.forEach(function(r,i){var o=e.yn(i);if(o){if(r.Be&&Xc(o.target)){var s=new dc(o.target.path);null!==e.ln.get(s)||e.pn(i,s)||e.En(i,s,new $c(s,t))}r.Ze&&(n.set(i,r.en()),r.nn())}});var r=jh();this._n.forEach(function(t,n){var i=!0;n.Ae(function(t){var n=e.yn(t);return!n||2===n.Ft||(i=!1,!1)}),i&&(r=r.add(t))});var i=new Dh(t,n,this.fn,this.ln,r);return this.ln=Oh(),this._n=qh(),this.fn=new mh(Wu),i},t.prototype.wn=function(t,e){if(this.An(t)){var n=this.pn(t,e.key)?2:0;this.mn(t).sn(e.key,n),this.ln=this.ln.zt(e.key,e),this._n=this._n.zt(e.key,this.bn(e.key).add(t))}},t.prototype.En=function(t,e,n){if(this.An(t)){var r=this.mn(t);this.pn(t,e)?r.sn(e,1):r.rn(e),this._n=this._n.zt(e,this.bn(e).delete(t)),n&&(this.ln=this.ln.zt(e,n))}},t.prototype.removeTarget=function(t){this.hn.delete(t)},t.prototype.gn=function(t){var e=this.mn(t).en();return this.un.vn(t).size+e.qe.size-e.Qe.size},t.prototype.on=function(t){this.mn(t).on()},t.prototype.mn=function(t){var e=this.hn.get(t);return e||(e=new Fh,this.hn.set(t,e)),e},t.prototype.bn=function(t){var e=this._n.get(t);return e||(e=new mh(Wu),this._n=this._n.zt(t,e)),e},t.prototype.An=function(t){var e=null!==this.yn(t);return e||Uu("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.yn=function(t){var e=this.hn.get(t);return e&&e.Xe?null:this.un.Sn(t)},t.prototype.Rn=function(t){var e=this;this.hn.set(t,new Fh),this.un.vn(t).forEach(function(n){e.En(t,n,null)})},t.prototype.pn=function(t,e){return this.un.vn(t).has(e)},t}();function qh(){return new vh(dc.H)}function zh(){return new vh(dc.H)}var Bh={asc:"ASCENDING",desc:"DESCENDING"},Gh={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},$h=function(t,e){this.t=t,this.Bt=e};function Wh(t,e){return t.Bt?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function Qh(t,e){return t.Bt?e.toBase64():e.toUint8Array()}function Jh(t,e){return Wh(t,e.j())}function Zh(t){return zu(!!t),uc.K(function(t){var e=mc(t);return new ac(e.seconds,e.nanos)}(t))}function Yh(t,e){return function(t){return new lc(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).rt()}function Xh(t){var e=lc.ot(t);return zu(Ef(e)),e}function Kh(t,e){return Yh(t.t,e.path)}function tf(t,e){var n=Xh(e);if(n.get(1)!==t.t.projectId)throw new Xu(Yu.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.t.projectId);if(n.get(3)!==t.t.database)throw new Xu(Yu.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.t.database);return new dc(of(n))}function ef(t,e){return Yh(t.t,e)}function nf(t){var e=Xh(t);return 4===e.length?lc.ct():of(e)}function rf(t){return new lc(["projects",t.t.projectId,"databases",t.t.database]).rt()}function of(t){return zu(t.length>4&&"documents"===t.get(4)),t.Y(5)}function sf(t,e,n){return{name:Kh(t,e),fields:n.proto.mapValue.fields}}function af(t,e,n){var r=tf(t,e.name),i=Zh(e.updateTime),o=new Hc({mapValue:{fields:e.fields}});return new Gc(r,i,o,{hasCommittedMutations:!!n})}function uf(t,e){var n;if(e instanceof rh)n={update:sf(t,e.key,e.value)};else if(e instanceof hh)n={delete:Kh(t,e.key)};else if(e instanceof ih)n={update:sf(t,e.key,e.data),updateMask:Of(e.Gt)};else{if(!(e instanceof fh))return qu();n={verify:Kh(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(function(t){return function(t,e){var n=e.transform;if(n instanceof Vl)return{fieldPath:e.field.rt(),setToServerValue:"REQUEST_TIME"};if(n instanceof Fl)return{fieldPath:e.field.rt(),appendMissingElements:{values:n.elements}};if(n instanceof ql)return{fieldPath:e.field.rt(),removeAllFromArray:{values:n.elements}};if(n instanceof Bl)return{fieldPath:e.field.rt(),increment:n.Ut};throw qu()}(0,t)})),e.jt.Wt||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:Jh(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:qu()}(t,e.jt)),n}function cf(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?Jl.updateTime(Zh(t.updateTime)):void 0!==t.exists?Jl.exists(t.exists):Jl.Kt()}(e.currentDocument):Jl.Kt(),r=e.updateTransforms?e.updateTransforms.map(function(e){return function(t,e){var n=null;"setToServerValue"in e?(zu("REQUEST_TIME"===e.setToServerValue),n=new Vl):"appendMissingElements"in e?n=new Fl(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new ql(e.removeAllFromArray.values||[]):"increment"in e?n=new Bl(t,e.increment):qu();var r=fc.lt(e.fieldPath);return new Wl(r,n)}(t,e)}):[];if(e.update){var i=tf(t,e.update.name),o=new Hc({mapValue:{fields:e.update.fields}});if(e.updateMask){var s=function(t){return new bc((t.fieldPaths||[]).map(function(t){return fc.lt(t)}))}(e.updateMask);return new ih(i,o,s,n,r)}return new rh(i,o,n,r)}if(e.delete){var a=tf(t,e.delete);return new hh(a,n)}if(e.verify){var u=tf(t,e.verify);return new fh(u,n)}return qu()}function lf(t,e){return{documents:[ef(t,e.path)]}}function hf(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=ef(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=ef(t,r.X()),n.structuredQuery.from=[{collectionId:r.tt()}]);var i=function(t){if(0!==t.length){var e=t.map(function(t){return function(t){if("=="===t.op){if(Vc(t.value))return{unaryFilter:{field:yf(t.field),op:"IS_NAN"}};if(Uc(t.value))return{unaryFilter:{field:yf(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Vc(t.value))return{unaryFilter:{field:yf(t.field),op:"IS_NOT_NAN"}};if(Uc(t.value))return{unaryFilter:{field:yf(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:yf(t.field),op:bf(t.op),value:t.value}}}(t)});return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map(function(t){return function(t){return{field:yf(t.field),direction:vf(t.dir)}}(t)})}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var s=function(t,e){return t.Bt||xc(e)?e:{value:e}}(t,e.limit);return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=pf(e.startAt)),e.endAt&&(n.structuredQuery.endAt=pf(e.endAt)),n}function ff(t){var e=nf(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){zu(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=df(n.where));var a=[];n.orderBy&&(a=n.orderBy.map(function(t){return function(t){return new ll(mf(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)}));var u=null;n.limit&&(u=function(t){var e;return xc(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=gf(n.startAt));var l=null;return n.endAt&&(l=gf(n.endAt)),gl(e,i,a,s,u,"F",c,l)}function df(t){return t?void 0!==t.unaryFilter?[_f(t)]:void 0!==t.fieldFilter?[wf(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return df(t)}).reduce(function(t,e){return t.concat(e)}):qu():[]}function pf(t){return{before:t.before,values:t.position}}function gf(t){return new ul(t.values||[],!!t.before)}function vf(t){return Bh[t]}function bf(t){return Gh[t]}function yf(t){return{fieldPath:t.rt()}}function mf(t){return fc.lt(t.fieldPath)}function wf(t){return Kc.create(mf(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return qu()}}(t.fieldFilter.op),t.fieldFilter.value)}function _f(t){switch(t.unaryFilter.op){case"IS_NAN":var e=mf(t.unaryFilter.field);return Kc.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=mf(t.unaryFilter.field);return Kc.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=mf(t.unaryFilter.field);return Kc.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=mf(t.unaryFilter.field);return Kc.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return qu()}}function Of(t){var e=[];return t.fields.forEach(function(t){return e.push(t.rt())}),{fieldPaths:e}}function Ef(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}var If=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},xf=function(){function t(t){var e=this;this.Dn=null,this.Cn=null,this.result=void 0,this.error=void 0,this.xn=!1,this.Nn=!1,t(function(t){e.xn=!0,e.result=t,e.Dn&&e.Dn(t)},function(t){e.xn=!0,e.error=t,e.Cn&&e.Cn(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.Nn&&qu(),this.Nn=!0,this.xn?this.error?this.$n(n,this.error):this.Fn(e,this.result):new t(function(t,i){r.Dn=function(n){r.Fn(e,n).next(t,i)},r.Cn=function(e){r.$n(n,e).next(t,i)}})},t.prototype.On=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.kn=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.Fn=function(e,n){return e?this.kn(function(){return e(n)}):t.resolve(n)},t.prototype.$n=function(e,n){return e?this.kn(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.Mn=function(e){return new t(function(t,n){var r=0,i=0,o=!1;e.forEach(function(e){++r,e.next(function(){++i,o&&i===r&&t()},function(t){return n(t)})}),o=!0,i===r&&t()})},t.Ln=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,i){r.push(e.call(n,t,i))}),this.Mn(r)},t}(),Sf=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.Bn=new If,this.transaction.oncomplete=function(){n.Bn.resolve()},this.transaction.onabort=function(){e.error?n.Bn.reject(new jf(t,e.error)):n.Bn.resolve()},this.transaction.onerror=function(e){var r=Pf(e.target.error);n.Bn.reject(new jf(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new jf(n,e)}},Object.defineProperty(t.prototype,"qn",{get:function(){return this.Bn.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.Bn.reject(t),this.aborted||(Uu("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new kf(e)},t}(),Tf=function(){function t(e,n,r){this.name=e,this.version=n,this.Un=r,12.2===t.Qn(Object(Ai.h)())&&Vu("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return Uu("SimpleDb","Removing database:",t),Rf(window.indexedDB.deleteDatabase(t)).On()},t.Kn=function(){if("undefined"==typeof indexedDB)return!1;if(t.Wn())return!0;var e=Object(Ai.h)(),n=t.Qn(e),r=0<n&&n<10,i=t.jn(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.Wn=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Gn)},t.zn=function(t,e){return t.store(e)},t.Qn=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.jn=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.Hn=function(t){return Object(Nu.b)(this,void 0,void 0,function(){var e,n=this;return Object(Nu.d)(this,function(r){switch(r.label){case 0:return this.db?[3,2]:(Uu("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new jf(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new Xu(Yu.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new jf(t,n))},i.onupgradeneeded=function(t){Uu("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.Un.Jn(t.target.result,i.transaction,t.oldVersion,n.version).next(function(){Uu("SimpleDb","Database upgrade to version "+n.version+" complete")})}})]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.Yn&&(this.db.onversionchange=function(t){return n.Yn(t)}),this.db)]}})})},t.prototype.Xn=function(t){this.Yn=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Object(Nu.b)(this,void 0,void 0,function(){var i,o,s,a,u;return Object(Nu.d)(this,function(c){switch(c.label){case 0:i="readonly"===e,o=0,s=function(){var e,s,u,c,l;return Object(Nu.d)(this,function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,a.Hn(t)];case 2:return a.db=h.sent(),e=Sf.open(a.db,t,i?"readonly":"readwrite",n),s=r(e).catch(function(t){return e.abort(t),xf.reject(t)}).On(),u={},s.catch(function(){}),[4,e.qn];case 3:return[2,(u.value=(h.sent(),s),u)];case 4:return Uu("SimpleDb","Transaction failed with error:",(c=h.sent()).message,"Retrying:",l="FirebaseError"!==c.name&&o<3),a.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}})},a=this,c.label=1;case 1:return[5,s()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),Cf=function(){function t(t){this.Zn=t,this.ts=!1,this.es=null}return Object.defineProperty(t.prototype,"xn",{get:function(){return this.ts},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ns",{get:function(){return this.es},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Zn=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.ts=!0},t.prototype.ss=function(t){this.es=t},t.prototype.delete=function(){return Rf(this.Zn.delete())},t}(),jf=function(t){function e(e,n){var r=this;return(r=t.call(this,Yu.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(Nu.c)(e,t),e}(Xu);function Af(t){return"IndexedDbTransactionError"===t.name}var kf=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(Uu("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(Uu("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Rf(n)},t.prototype.add=function(t){return Uu("SimpleDb","ADD",this.store.name,t,t),Rf(this.store.add(t))},t.prototype.get=function(t){var e=this;return Rf(this.store.get(t)).next(function(n){return void 0===n&&(n=null),Uu("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return Uu("SimpleDb","DELETE",this.store.name,t),Rf(this.store.delete(t))},t.prototype.count=function(){return Uu("SimpleDb","COUNT",this.store.name),Rf(this.store.count())},t.prototype.rs=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.os(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.cs=function(t,e){Uu("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.us=!1;var r=this.cursor(n);return this.os(r,function(t,e,n){return n.delete()})},t.prototype.hs=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.os(r,e)},t.prototype.ls=function(t){var e=this.cursor({});return new xf(function(n,r){e.onerror=function(t){var e=Pf(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},t.prototype.os=function(t,e){var n=[];return new xf(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new Cf(i),s=e(i.primaryKey,i.value,o);if(s instanceof xf){var a=s.catch(function(t){return o.done(),xf.reject(t)});n.push(a)}o.xn?r():null===o.ns?i.continue():i.continue(o.ns)}else r()}}).next(function(){return xf.Mn(n)})},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.us?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function Rf(t){return new xf(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=Pf(t.target.error);n(e)}})}var Nf=!1;function Pf(t){var e=Tf.Qn(Object(Ai.h)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new Xu("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Nf||(Nf=!0,setTimeout(function(){throw r},0)),r}}return t}var Df=function(){function t(t,e,n,r,i){this._s=t,this.fs=e,this.ds=n,this.op=r,this.ws=i,this.Es=new If,this.then=this.Es.promise.then.bind(this.Es.promise),this.Es.promise.catch(function(t){})}return t.Ts=function(e,n,r,i,o){var s=new t(e,n,Date.now()+r,i,o);return s.start(r),s},t.prototype.start=function(t){var e=this;this.Is=setTimeout(function(){return e.As()},t)},t.prototype.Rs=function(){return this.As()},t.prototype.cancel=function(t){null!==this.Is&&(this.clearTimeout(),this.Es.reject(new Xu(Yu.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.As=function(){var t=this;this._s.Ps(function(){return null!==t.Is?(t.clearTimeout(),t.op().then(function(e){return t.Es.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.Is&&(this.ws(this),clearTimeout(this.Is),this.Is=null)},t}();function Mf(t,e){if(Vu("AsyncQueue",e+": "+t),Af(t))return new Xu(Yu.UNAVAILABLE,e+": "+t);throw t}var Lf="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Uf=function(){function t(){this.ys=[]}return t.prototype.gs=function(t){this.ys.push(t)},t.prototype.Vs=function(){this.ys.forEach(function(t){return t()})},t}();function Vf(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=Hf(e)),e=Ff(t.get(n),e);return Hf(e)}function Ff(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function Hf(t){return t+"\x01\x01"}function qf(t){var e=t.length;if(zu(e>=2),2===e)return zu("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),lc.ct();for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("\x01",o);switch((s<0||s>n)&&qu(),t.charAt(s+1)){case"\x01":var a=t.substring(o,s),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"\x10":i+=t.substring(o,s),i+="\0";break;case"\x11":i+=t.substring(o,s+1);break;default:qu()}o=s+2}return new lc(r)}var zf=function(t,e){this.seconds=t,this.nanoseconds=e},Bf=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};Bf.store="owner",Bf.key="owner";var Gf=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};Gf.store="mutationQueues",Gf.keyPath="userId";var $f=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};$f.store="mutations",$f.keyPath="batchId",$f.userMutationsIndex="userMutationsIndex",$f.userMutationsKeyPath=["userId","batchId"];var Wf=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,Vf(e)]},t.key=function(t,e,n){return[t,Vf(e),n]},t}();Wf.store="documentMutations",Wf.PLACEHOLDER=new Wf;var Qf=function(t,e){this.path=t,this.readTime=e},Jf=function(t,e){this.path=t,this.version=e},Zf=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};Zf.store="remoteDocuments",Zf.readTimeIndex="readTimeIndex",Zf.readTimeIndexPath="readTime",Zf.collectionReadTimeIndex="collectionReadTimeIndex",Zf.collectionReadTimeIndexPath=["parentPath","readTime"];var Yf=function(t){this.byteSize=t};Yf.store="remoteDocumentGlobal",Yf.key="remoteDocumentGlobalKey";var Xf=function(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};Xf.store="targets",Xf.keyPath="targetId",Xf.queryTargetsIndexName="queryTargetsIndex",Xf.queryTargetsKeyPath=["canonicalId","targetId"];var Kf=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};Kf.store="targetDocuments",Kf.keyPath=["targetId","path"],Kf.documentTargetsIndex="documentTargetsIndex",Kf.documentTargetsKeyPath=["path","targetId"];var td=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};td.key="targetGlobalKey",td.store="targetGlobal";var ed=function(t,e){this.collectionId=t,this.parent=e};ed.store="collectionParents",ed.keyPath=["collectionId","parent"];var nd=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};nd.store="clientMetadata",nd.keyPath="clientId";var rd=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};rd.store="bundles",rd.keyPath="bundleId";var id=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};id.store="namedQueries",id.keyPath="name";var od=Object(Nu.g)(Object(Nu.g)(Object(Nu.g)(Object(Nu.g)([Gf.store,$f.store,Wf.store,Zf.store,Xf.store,Bf.store,td.store,Kf.store],[nd.store]),[Yf.store]),[ed.store]),[rd.store,id.store]),sd=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).ps=e,r.bs=n,r}return Object(Nu.c)(e,t),e}(Uf);function ad(t,e){var n=Bu(t);return Tf.zn(n.ps,e)}var ud=function(){function t(t,e,n,r){this.batchId=t,this.vs=e,this.baseMutations=n,this.mutations=r}return t.prototype.Ss=function(t,e,n){for(var r=n.Ds,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(t)&&(e=Xl(o,e,r[i]))}return e},t.prototype.Cs=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++)(s=r[n]).key.isEqual(t)&&(e=Kl(s,e,this.vs));for(var i=0,o=this.mutations;i<o.length;i++){var s;(s=o[i]).key.isEqual(t)&&(e=Kl(s,e,this.vs))}return e},t.prototype.xs=function(t){var e=this,n=t;return this.mutations.forEach(function(r){var i=e.Cs(r.key,t.get(r.key));i&&(n=n.zt(r.key,i))}),n},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},jh())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&Qu(this.mutations,t.mutations,function(t,e){return eh(t,e)})&&Qu(this.baseMutations,t.baseMutations,function(t,e){return eh(t,e)})},t}(),cd=function(){function t(t,e,n,r){this.batch=t,this.Ns=e,this.Ds=n,this.$s=r}return t.from=function(e,n,r){zu(e.mutations.length===r.length);for(var i=Th(),o=e.mutations,s=0;s<o.length;s++)i=i.zt(o[s].key,r[s].version);return new t(e,n,r,i)},t}(),ld=function(t){this.Fs=t};function hd(t,e){if(e.document)return af(t.Fs,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=dc.Et(e.noDocument.path),r=vd(e.noDocument.readTime);return new $c(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var i=dc.Et(e.unknownDocument.path);return r=vd(e.unknownDocument.version),new Wc(i,r)}return qu()}function fd(t,e,n){var r=dd(n),i=e.key.path.X().it();if(e instanceof Gc){var o=function(t,e){return{name:Kh(t,e.key),fields:e.bt().mapValue.fields,updateTime:Wh(t,e.version.j())}}(t.Fs,e),s=e.hasCommittedMutations;return new Zf(null,null,o,s,r,i)}if(e instanceof $c){var a=e.key.path.it(),u=gd(e.version);return s=e.hasCommittedMutations,new Zf(null,new Qf(a,u),null,s,r,i)}if(e instanceof Wc){var c=e.key.path.it(),l=gd(e.version);return new Zf(new Jf(c,l),null,null,!0,r,i)}return qu()}function dd(t){var e=t.j();return[e.seconds,e.nanoseconds]}function pd(t){var e=new ac(t[0],t[1]);return uc.K(e)}function gd(t){var e=t.j();return new zf(e.seconds,e.nanoseconds)}function vd(t){var e=new ac(t.seconds,t.nanoseconds);return uc.K(e)}function bd(t,e){for(var n=(e.baseMutations||[]).map(function(e){return cf(t.Fs,e)}),r=0;r<e.mutations.length-1;++r)r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform&&(e.mutations[r].updateTransforms=e.mutations[r+1].transform.fieldTransforms,e.mutations.splice(r+1,1),++r);var i=e.mutations.map(function(e){return cf(t.Fs,e)}),o=ac.fromMillis(e.localWriteTimeMs);return new ud(e.batchId,o,n,i)}function yd(t){var e,n,r=vd(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?vd(t.lastLimboFreeSnapshotVersion):uc.min();return void 0!==t.query.documents?(zu(1===(n=t.query).documents.length),e=El(vl(nf(n.documents[0])))):e=function(t){return El(ff(t))}(t.query),new kl(e,t.targetId,0,t.lastListenSequenceNumber,r,i,Zu.fromBase64String(t.resumeToken))}function md(t,e){var n,r=gd(e.Ot),i=gd(e.lastLimboFreeSnapshotVersion);n=Xc(e.target)?lf(t.Fs,e.target):hf(t.Fs,e.target);var o=e.resumeToken.toBase64();return new Xf(e.targetId,Zc(e.target),r,o,e.sequenceNumber,i,n)}function wd(t){var e=ff({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Il(e,e.limit,"L"):e}var _d=function(){function t(){}return t.prototype.Os=function(t,e){return Od(t).get(e).next(function(t){if(t)return{id:(e=t).bundleId,createTime:vd(e.createTime),version:e.version};var e})},t.prototype.ks=function(t,e){return Od(t).put({bundleId:(n=e).id,createTime:gd(Zh(n.createTime)),version:n.version});var n},t.prototype.Ms=function(t,e){return Ed(t).get(e).next(function(t){if(t)return{name:(e=t).name,query:wd(e.bundledQuery),readTime:vd(e.readTime)};var e})},t.prototype.Ls=function(t,e){return Ed(t).put(function(t){return{name:t.name,readTime:gd(Zh(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function Od(t){return ad(t,rd.store)}function Ed(t){return ad(t,id.store)}var Id=function(){function t(){this.Bs=new xd}return t.prototype.qs=function(t,e){return this.Bs.add(e),xf.resolve()},t.prototype.Us=function(t,e){return xf.resolve(this.Bs.getEntries(e))},t}(),xd=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.tt(),n=t.X(),r=this.index[e]||new mh(lc.H),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.tt(),n=t.X(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new mh(lc.H)).it()},t}(),Sd=function(){function t(){this.Qs=new xd}return t.prototype.qs=function(t,e){var n=this;if(!this.Qs.has(e)){var r=e.tt(),i=e.X();t.gs(function(){n.Qs.add(e)});var o={collectionId:r,parent:Vf(i)};return Td(t).put(o)}return xf.resolve()},t.prototype.Us=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[Ju(e),""],!1,!0);return Td(t).rs(r).next(function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(qf(o.parent))}return n})},t}();function Td(t){return ad(t,ed.store)}var Cd={Ks:!1,Ws:0,js:0,Gs:0},jd=function(){function t(t,e,n){this.zs=t,this.Hs=e,this.Js=n}return t.Ys=function(e){return new t(e,t.Xs,t.Zs)},t}();function Ad(t){return Object(Nu.b)(this,void 0,void 0,function(){return Object(Nu.d)(this,function(e){if(t.code!==Yu.FAILED_PRECONDITION||t.message!==Lf)throw t;return Uu("LocalStore","Unexpectedly lost primary lease"),[2]})})}jd.Xs=10,jd.Zs=1e3,jd.ti=new jd(41943040,jd.Xs,jd.Zs),jd.ei=new jd(-1,0,0);var kd=function(){function t(t,e){this.ni=t,this.si=e,this.ii={}}return t.prototype.get=function(t){var e=this.ni(t),n=this.ii[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[1];if(this.si(o[0],t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.ni(t),r=this.ii[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.si(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.ii[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.ni(t),n=this.ii[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.si(n[r][0],t))return 1===n.length?delete this.ii[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){gc(this.ii,function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];t(o[0],o[1])}})},t.prototype.et=function(){return vc(this.ii)},t}(),Rd=function(){function t(){this.ri=new kd(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.oi=!1}return t.prototype.ci=function(t){var e=this.ri.get(t);return e?e.readTime:uc.min()},t.prototype.ai=function(t,e){this.ui(),this.ri.set(t.key,{hi:t,readTime:e})},t.prototype.li=function(t,e){void 0===e&&(e=null),this.ui(),this.ri.set(t,{hi:null,readTime:e})},t.prototype._i=function(t,e){this.ui();var n=this.ri.get(e);return void 0!==n?xf.resolve(n.hi):this.fi(t,e)},t.prototype.getEntries=function(t,e){return this.di(t,e)},t.prototype.apply=function(t){return this.ui(),this.oi=!0,this.wi(t)},t.prototype.ui=function(){},t}();function Nd(t,e,n){var r=t.store($f.store),i=t.store(Wf.store),o=[],s=IDBKeyRange.only(n.batchId),a=0,u=r.hs({range:s},function(t,e,n){return a++,n.delete()});o.push(u.next(function(){zu(1===a)}));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=Wf.key(e,f.key.path,n.batchId);o.push(i.delete(d)),c.push(f.key)}return xf.Mn(o).next(function(){return c})}function Pd(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw qu();e=t.noDocument}return JSON.stringify(e).length}var Dd=function(){function t(t,e,n,r){this.userId=t,this.Qt=e,this.Ei=n,this.Ti=r,this.Ii={}}return t.mi=function(e,n,r,i){return zu(""!==e.uid),new t(e.m()?e.uid:"",n,r,i)},t.prototype.Ai=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ld(t).hs({index:$f.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.Ri=function(t,e,n,r){var i=this,o=Ud(t),s=Ld(t);return s.add({}).next(function(a){zu("number"==typeof a);for(var u=new ud(a,e,n,r),c=function(t,e,n){var r=n.baseMutations.map(function(e){return uf(t.Fs,e)}),i=n.mutations.map(function(e){return uf(t.Fs,e)});return new $f(e,n.batchId,n.vs.toMillis(),r,i)}(i.Qt,i.userId,u),l=[],h=new mh(function(t,e){return Wu(t.rt(),e.rt())}),f=0,d=r;f<d.length;f++){var p=d[f],g=Wf.key(i.userId,p.key.path,a);h=h.add(p.key.path.X()),l.push(s.put(c)),l.push(o.put(g,Wf.PLACEHOLDER))}return h.forEach(function(e){l.push(i.Ei.qs(t,e))}),t.gs(function(){i.Ii[a]=u.keys()}),xf.Mn(l).next(function(){return u})})},t.prototype.Pi=function(t,e){var n=this;return Ld(t).get(e).next(function(t){return t?(zu(t.userId===n.userId),bd(n.Qt,t)):null})},t.prototype.yi=function(t,e){var n=this;return this.Ii[e]?xf.resolve(this.Ii[e]):this.Pi(t,e).next(function(t){if(t){var r=t.keys();return n.Ii[e]=r,r}return null})},t.prototype.gi=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return Ld(t).hs({index:$f.userMutationsIndex,range:i},function(t,e,i){e.userId===n.userId&&(zu(e.batchId>=r),o=bd(n.Qt,e)),i.done()}).next(function(){return o})},t.prototype.Vi=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Ld(t).hs({index:$f.userMutationsIndex,range:e,reverse:!0},function(t,e,r){n=e.batchId,r.done()}).next(function(){return n})},t.prototype.pi=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ld(t).rs($f.userMutationsIndex,n).next(function(t){return t.map(function(t){return bd(e.Qt,t)})})},t.prototype.bi=function(t,e){var n=this,r=Wf.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return Ud(t).hs({range:i},function(r,i,s){var a=r[0],u=r[2],c=qf(r[1]);if(a===n.userId&&e.path.isEqual(c))return Ld(t).get(u).next(function(t){if(!t)throw qu();zu(t.userId===n.userId),o.push(bd(n.Qt,t))});s.done()}).next(function(){return o})},t.prototype.vi=function(t,e){var n=this,r=new mh(Wu),i=[];return e.forEach(function(e){var o=Wf.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),a=Ud(t).hs({range:s},function(t,i,o){var s=t[0],a=t[2],u=qf(t[1]);s===n.userId&&e.path.isEqual(u)?r=r.add(a):o.done()});i.push(a)}),xf.Mn(i).next(function(){return n.Si(t,r)})},t.prototype.Di=function(t,e){var n=this,r=e.path,i=r.length+1,o=Wf.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),a=new mh(Wu);return Ud(t).hs({range:s},function(t,e,o){var s=t[0],u=t[2],c=qf(t[1]);s===n.userId&&r.nt(c)?c.length===i&&(a=a.add(u)):o.done()}).next(function(){return n.Si(t,a)})},t.prototype.Si=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(Ld(t).get(e).next(function(t){if(null===t)throw qu();zu(t.userId===n.userId),r.push(bd(n.Qt,t))}))}),xf.Mn(i).next(function(){return r})},t.prototype.Ci=function(t,e){var n=this;return Nd(t.ps,this.userId,e).next(function(r){return t.gs(function(){n.xi(e.batchId)}),xf.forEach(r,function(e){return n.Ti.Ni(t,e)})})},t.prototype.xi=function(t){delete this.Ii[t]},t.prototype.$i=function(t){var e=this;return this.Ai(t).next(function(n){if(!n)return xf.resolve();var r=IDBKeyRange.lowerBound(Wf.prefixForUser(e.userId)),i=[];return Ud(t).hs({range:r},function(t,n,r){if(t[0]===e.userId){var o=qf(t[1]);i.push(o)}else r.done()}).next(function(){zu(0===i.length)})})},t.prototype.Fi=function(t,e){return Md(t,this.userId,e)},t.prototype.Oi=function(t){var e=this;return Vd(t).get(this.userId).next(function(t){return t||new Gf(e.userId,-1,"")})},t}();function Md(t,e,n){var r=Wf.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return Ud(t).hs({range:o,us:!0},function(t,n,r){t[0]===e&&t[1]===i&&(s=!0),r.done()}).next(function(){return s})}function Ld(t){return ad(t,$f.store)}function Ud(t){return ad(t,Wf.store)}function Vd(t){return ad(t,Gf.store)}var Fd=function(){function t(t){this.ki=t}return t.prototype.next=function(){return this.ki+=2,this.ki},t.Mi=function(){return new t(0)},t.Li=function(){return new t(-1)},t}(),Hd=function(){function t(t,e){this.Ti=t,this.Qt=e}return t.prototype.Bi=function(t){var e=this;return this.qi(t).next(function(n){var r=new Fd(n.highestTargetId);return n.highestTargetId=r.next(),e.Ui(t,n).next(function(){return n.highestTargetId})})},t.prototype.Qi=function(t){return this.qi(t).next(function(t){return uc.K(new ac(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.Ki=function(t){return this.qi(t).next(function(t){return t.highestListenSequenceNumber})},t.prototype.Wi=function(t,e,n){var r=this;return this.qi(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.j()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Ui(t,i)})},t.prototype.ji=function(t,e){var n=this;return this.Gi(t,e).next(function(){return n.qi(t).next(function(r){return r.targetCount+=1,n.zi(e,r),n.Ui(t,r)})})},t.prototype.Hi=function(t,e){return this.Gi(t,e)},t.prototype.Ji=function(t,e){var n=this;return this.Yi(t,e.targetId).next(function(){return qd(t).delete(e.targetId)}).next(function(){return n.qi(t)}).next(function(e){return zu(e.targetCount>0),e.targetCount-=1,n.Ui(t,e)})},t.prototype.Xi=function(t,e,n){var r=this,i=0,o=[];return qd(t).hs(function(s,a){var u=yd(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.Ji(t,u)))}).next(function(){return xf.Mn(o)}).next(function(){return i})},t.prototype.In=function(t,e){return qd(t).hs(function(t,n){var r=yd(n);e(r)})},t.prototype.qi=function(t){return zd(t).get(td.key).next(function(t){return zu(null!==t),t})},t.prototype.Ui=function(t,e){return zd(t).put(td.key,e)},t.prototype.Gi=function(t,e){return qd(t).put(md(this.Qt,e))},t.prototype.zi=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.Zi=function(t){return this.qi(t).next(function(t){return t.targetCount})},t.prototype.tr=function(t,e){var n=Zc(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return qd(t).hs({range:r,index:Xf.queryTargetsIndexName},function(t,n,r){var o=yd(n);Yc(e,o.target)&&(i=o,r.done())}).next(function(){return i})},t.prototype.er=function(t,e,n){var r=this,i=[],o=Bd(t);return e.forEach(function(e){var s=Vf(e.path);i.push(o.put(new Kf(n,s))),i.push(r.Ti.nr(t,n,e))}),xf.Mn(i)},t.prototype.sr=function(t,e,n){var r=this,i=Bd(t);return xf.forEach(e,function(e){var o=Vf(e.path);return xf.Mn([i.delete([n,o]),r.Ti.ir(t,n,e)])})},t.prototype.Yi=function(t,e){var n=Bd(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.rr=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=Bd(t),i=jh();return r.hs({range:n,us:!0},function(t,e,n){var r=qf(t[1]),o=new dc(r);i=i.add(o)}).next(function(){return i})},t.prototype.Fi=function(t,e){var n=Vf(e.path),r=IDBKeyRange.bound([n],[Ju(n)],!1,!0),i=0;return Bd(t).hs({index:Kf.documentTargetsIndex,us:!0,range:r},function(t,e,n){0!==t[0]&&(i++,n.done())}).next(function(){return i>0})},t.prototype.Sn=function(t,e){return qd(t).get(e).next(function(t){return t?yd(t):null})},t}();function qd(t){return ad(t,Xf.store)}function zd(t){return ad(t,td.store)}function Bd(t){return ad(t,Kf.store)}function Gd(t,e){var n=t[1],r=e[1],i=Wu(t[0],e[0]);return 0===i?Wu(n,r):i}var $d=function(){function t(t){this.cr=t,this.buffer=new mh(Gd),this.ar=0}return t.prototype.ur=function(){return++this.ar},t.prototype.hr=function(t){var e=[t,this.ur()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();Gd(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),Wd=function(){function t(t,e){this.lr=t,this._s=e,this._r=!1,this.dr=null}return t.prototype.start=function(t){-1!==this.lr.params.zs&&this.wr(t)},t.prototype.stop=function(){this.dr&&(this.dr.cancel(),this.dr=null)},Object.defineProperty(t.prototype,"Er",{get:function(){return null!==this.dr},enumerable:!1,configurable:!0}),t.prototype.wr=function(t){var e=this,n=this._r?3e5:6e4;Uu("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.dr=this._s.Tr("lru_garbage_collection",n,function(){return Object(Nu.b)(e,void 0,void 0,function(){var e;return Object(Nu.d)(this,function(n){switch(n.label){case 0:this.dr=null,this._r=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.Ir(this.lr)];case 2:return n.sent(),[3,7];case 3:return Af(e=n.sent())?(Uu("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,Ad(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.wr(t)];case 8:return n.sent(),[2]}})})})},t}(),Qd=function(){function t(t,e){this.mr=t,this.params=e}return t.prototype.Ar=function(t,e){return this.mr.Rr(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.Pr=function(t,e){var n=this;if(0===e)return xf.resolve(sc.q);var r=new $d(e);return this.mr.In(t,function(t){return r.hr(t.sequenceNumber)}).next(function(){return n.mr.yr(t,function(t){return r.hr(t)})}).next(function(){return r.maxValue})},t.prototype.Xi=function(t,e,n){return this.mr.Xi(t,e,n)},t.prototype.gr=function(t,e){return this.mr.gr(t,e)},t.prototype.Vr=function(t,e){var n=this;return-1===this.params.zs?(Uu("LruGarbageCollector","Garbage collection skipped; disabled"),xf.resolve(Cd)):this.pr(t).next(function(r){return r<n.params.zs?(Uu("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.zs),Cd):n.br(t,e)})},t.prototype.pr=function(t){return this.mr.pr(t)},t.prototype.br=function(t,e){var n,r,i,o,s,a,u,c=this,l=Date.now();return this.Ar(t,this.params.Hs).next(function(e){return e>c.params.Js?(Uu("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.Js+" from "+e),r=c.params.Js):r=e,o=Date.now(),c.Pr(t,r)}).next(function(r){return n=r,s=Date.now(),c.Xi(t,n,e)}).next(function(e){return i=e,a=Date.now(),c.gr(t,n)}).next(function(t){return u=Date.now(),Lu()<=ji.a.DEBUG&&Uu("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(s-o)+"ms\n\tRemoved "+i+" targets in "+(a-s)+"ms\n\tRemoved "+t+" documents in "+(u-a)+"ms\nTotal Duration: "+(u-l)+"ms"),xf.resolve({Ks:!0,Ws:r,js:i,Gs:t})})},t}(),Jd=function(){function t(t,e){this.db=t,this.lr=function(t,e){return new Qd(t,e)}(this,e)}return t.prototype.Rr=function(t){var e=this.vr(t);return this.db.Sr().Zi(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.vr=function(t){var e=0;return this.yr(t,function(t){e++}).next(function(){return e})},t.prototype.In=function(t,e){return this.db.Sr().In(t,e)},t.prototype.yr=function(t,e){return this.Dr(t,function(t,n){return e(n)})},t.prototype.nr=function(t,e,n){return Zd(t,n)},t.prototype.ir=function(t,e,n){return Zd(t,n)},t.prototype.Xi=function(t,e,n){return this.db.Sr().Xi(t,e,n)},t.prototype.Ni=function(t,e){return Zd(t,e)},t.prototype.Cr=function(t,e){return function(t,e){var n=!1;return Vd(t).ls(function(r){return Md(t,r,e).next(function(t){return t&&(n=!0),xf.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.gr=function(t,e){var n=this,r=this.db.$r().Nr(),i=[],o=0;return this.Dr(t,function(s,a){if(a<=e){var u=n.Cr(t,s).next(function(e){if(!e)return o++,r._i(t,s).next(function(){return r.li(s),Bd(t).delete([0,Vf(s.path)])})});i.push(u)}}).next(function(){return xf.Mn(i)}).next(function(){return r.apply(t)}).next(function(){return o})},t.prototype.removeTarget=function(t,e){var n=e.kt(t.bs);return this.db.Sr().Hi(t,n)},t.prototype.Fr=function(t,e){return Zd(t,e)},t.prototype.Dr=function(t,e){var n,r=Bd(t),i=sc.q;return r.hs({index:Kf.documentTargetsIndex},function(t,r){var o=r.path,s=r.sequenceNumber;0===t[0]?(i!==sc.q&&e(new dc(qf(n)),i),i=s,n=o):i=sc.q}).next(function(){i!==sc.q&&e(new dc(qf(n)),i)})},t.prototype.pr=function(t){return this.db.$r().Or(t)},t}();function Zd(t,e){return Bd(t).put(function(t,e){return new Kf(0,Vf(t.path),e)}(e,t.bs))}var Yd=function(){function t(t,e){this.Qt=t,this.Ei=e}return t.prototype.ai=function(t,e,n){return tp(t).put(ep(e),n)},t.prototype.li=function(t,e){var n=tp(t),r=ep(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,n.kr(t,r)})},t.prototype._i=function(t,e){var n=this;return tp(t).get(ep(e)).next(function(t){return n.Mr(t)})},t.prototype.Lr=function(t,e){var n=this;return tp(t).get(ep(e)).next(function(t){var e=n.Mr(t);return e?{hi:e,size:Pd(t)}:null})},t.prototype.getEntries=function(t,e){var n=this,r=Eh();return this.Br(t,e,function(t,e){var i=n.Mr(e);r=r.zt(t,i)}).next(function(){return r})},t.prototype.qr=function(t,e){var n=this,r=Eh(),i=new vh(dc.H);return this.Br(t,e,function(t,e){var o=n.Mr(e);o?(r=r.zt(t,o),i=i.zt(t,Pd(e))):(r=r.zt(t,null),i=i.zt(t,0))}).next(function(){return{Ur:r,Qr:i}})},t.prototype.Br=function(t,e,n){if(e.et())return xf.resolve();var r=IDBKeyRange.bound(e.first().path.it(),e.last().path.it()),i=e.te(),o=i.oe();return tp(t).hs({range:r},function(t,e,r){for(var s=dc.Et(t);o&&dc.H(o,s)<0;)n(o,null),o=i.oe();o&&o.isEqual(s)&&(n(o,e),o=i.ce()?i.oe():null),o?r.ss(o.path.it()):r.done()}).next(function(){for(;o;)n(o,null),o=i.ce()?i.oe():null})},t.prototype.Kr=function(t,e,n){var r=this,i=xh(),o=e.path.length+1,s={};if(n.isEqual(uc.min())){var a=e.path.it();s.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.it(),c=dd(n);s.range=IDBKeyRange.lowerBound([u,c],!0),s.index=Zf.collectionReadTimeIndex}return tp(t).hs(s,function(t,n,s){if(t.length===o){var a=hd(r.Qt,n);e.path.nt(a.key.path)?a instanceof Gc&&Cl(e,a)&&(i=i.zt(a.key,a)):s.done()}}).next(function(){return i})},t.prototype.Nr=function(t){return new Xd(this,!!t&&t.Wr)},t.prototype.Or=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return Kd(t).get(Yf.key).next(function(t){return zu(!!t),t})},t.prototype.kr=function(t,e){return Kd(t).put(Yf.key,e)},t.prototype.Mr=function(t){if(t){var e=hd(this.Qt,t);return e instanceof $c&&e.version.isEqual(uc.min())?null:e}return null},t}(),Xd=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).jr=e,r.Wr=n,r.Gr=new kd(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),r}return Object(Nu.c)(e,t),e.prototype.wi=function(t){var e=this,n=[],r=0,i=new mh(function(t,e){return Wu(t.rt(),e.rt())});return this.ri.forEach(function(o,s){var a=e.Gr.get(o);if(s.hi){var u=fd(e.jr.Qt,s.hi,e.ci(o));i=i.add(o.path.X());var c=Pd(u);r+=c-a,n.push(e.jr.ai(t,o,u))}else if(r-=a,e.Wr){var l=fd(e.jr.Qt,new $c(o,uc.min()),e.ci(o));n.push(e.jr.ai(t,o,l))}else n.push(e.jr.li(t,o))}),i.forEach(function(r){n.push(e.jr.Ei.qs(t,r))}),n.push(this.jr.updateMetadata(t,r)),xf.Mn(n)},e.prototype.fi=function(t,e){var n=this;return this.jr.Lr(t,e).next(function(t){return null===t?(n.Gr.set(e,0),null):(n.Gr.set(e,t.size),t.hi)})},e.prototype.di=function(t,e){var n=this;return this.jr.qr(t,e).next(function(t){var e=t.Ur;return t.Qr.forEach(function(t,e){n.Gr.set(t,e)}),e})},e}(Rd);function Kd(t){return ad(t,Yf.store)}function tp(t){return ad(t,Zf.store)}function ep(t){return t.path.it()}var np=function(){function t(t){this.Qt=t}return t.prototype.Jn=function(t,e,n,r){var i=this;zu(n<r&&n>=0&&r<=11);var o=new Sf("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(Bf.store)}(t),function(t){t.createObjectStore(Gf.store,{keyPath:Gf.keyPath}),t.createObjectStore($f.store,{keyPath:$f.keyPath,autoIncrement:!0}).createIndex($f.userMutationsIndex,$f.userMutationsKeyPath,{unique:!0}),t.createObjectStore(Wf.store)}(t),rp(t),function(t){t.createObjectStore(Zf.store)}(t));var s=xf.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(Kf.store),t.deleteObjectStore(Xf.store),t.deleteObjectStore(td.store)}(t),rp(t)),s=s.next(function(){return function(t){var e=t.store(td.store),n=new td(0,0,uc.min().j(),0);return e.put(td.key,n)}(o)})),n<4&&r>=4&&(0!==n&&(s=s.next(function(){return function(t,e){return e.store($f.store).rs().next(function(n){t.deleteObjectStore($f.store),t.createObjectStore($f.store,{keyPath:$f.keyPath,autoIncrement:!0}).createIndex($f.userMutationsIndex,$f.userMutationsKeyPath,{unique:!0});var r=e.store($f.store),i=n.map(function(t){return r.put(t)});return xf.Mn(i)})}(t,o)})),s=s.next(function(){!function(t){t.createObjectStore(nd.store,{keyPath:nd.keyPath})}(t)})),n<5&&r>=5&&(s=s.next(function(){return i.zr(o)})),n<6&&r>=6&&(s=s.next(function(){return function(t){t.createObjectStore(Yf.store)}(t),i.Hr(o)})),n<7&&r>=7&&(s=s.next(function(){return i.Jr(o)})),n<8&&r>=8&&(s=s.next(function(){return i.Yr(t,o)})),n<9&&r>=9&&(s=s.next(function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(Zf.store);e.createIndex(Zf.readTimeIndex,Zf.readTimeIndexPath,{unique:!1}),e.createIndex(Zf.collectionReadTimeIndex,Zf.collectionReadTimeIndexPath,{unique:!1})}(e)})),n<10&&r>=10&&(s=s.next(function(){return i.Xr(o)})),n<11&&r>=11&&(s=s.next(function(){!function(t){t.createObjectStore(rd.store,{keyPath:rd.keyPath})}(t),function(t){t.createObjectStore(id.store,{keyPath:id.keyPath})}(t)})),s},t.prototype.Hr=function(t){var e=0;return t.store(Zf.store).hs(function(t,n){e+=Pd(n)}).next(function(){var n=new Yf(e);return t.store(Yf.store).put(Yf.key,n)})},t.prototype.zr=function(t){var e=this,n=t.store(Gf.store),r=t.store($f.store);return n.rs().next(function(n){return xf.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.rs($f.userMutationsIndex,i).next(function(r){return xf.forEach(r,function(r){zu(r.userId===n.userId);var i=bd(e.Qt,r);return Nd(t,n.userId,i).next(function(){})})})})})},t.prototype.Jr=function(t){var e=t.store(Kf.store),n=t.store(Zf.store);return t.store(td.store).get(td.key).next(function(t){var r=[];return n.hs(function(n,i){var o=new lc(n),s=function(t){return[0,Vf(t)]}(o);r.push(e.get(s).next(function(n){return n?xf.resolve():function(n){return e.put(new Kf(0,Vf(n),t.highestListenSequenceNumber))}(o)}))}).next(function(){return xf.Mn(r)})})},t.prototype.Yr=function(t,e){t.createObjectStore(ed.store,{keyPath:ed.keyPath});var n=e.store(ed.store),r=new xd,i=function(t){if(r.add(t)){var e=t.tt(),i=t.X();return n.put({collectionId:e,parent:Vf(i)})}};return e.store(Zf.store).hs({us:!0},function(t,e){var n=new lc(t);return i(n.X())}).next(function(){return e.store(Wf.store).hs({us:!0},function(t,e){var n=qf(t[1]);return i(n.X())})})},t.prototype.Xr=function(t){var e=this,n=t.store(Xf.store);return n.hs(function(t,r){var i=yd(r),o=md(e.Qt,i);return n.put(o)})},t}();function rp(t){t.createObjectStore(Kf.store,{keyPath:Kf.keyPath}).createIndex(Kf.documentTargetsIndex,Kf.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Xf.store,{keyPath:Xf.keyPath}).createIndex(Xf.queryTargetsIndexName,Xf.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(td.store)}var ip="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",op=function(){function t(e,n,r,i,o,s,a,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Zr=o,this.window=s,this.document=a,this.eo=c,this.no=l,this.so=null,this.io=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ro=null,this.inForeground=!1,this.oo=null,this.co=null,this.ao=Number.NEGATIVE_INFINITY,this.uo=function(t){return Promise.resolve()},!t.Kn())throw new Xu(Yu.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.Ti=new Jd(this,i),this.ho=n+"main",this.Qt=new ld(u),this.lo=new Tf(this.ho,11,new np(this.Qt)),this._o=new Hd(this.Ti,this.Qt),this.Ei=new Sd,this.fo=function(t,e){return new Yd(t,e)}(this.Qt,this.Ei),this.wo=new _d,this.window&&this.window.localStorage?this.Eo=this.window.localStorage:(this.Eo=null,!1===l&&Vu("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.To().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new Xu(Yu.FAILED_PRECONDITION,ip);return t.Io(),t.mo(),t.Ao(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t._o.Ki(e)})}).then(function(e){t.so=new sc(e,t.eo)}).then(function(){t.io=!0}).catch(function(e){return t.lo&&t.lo.close(),Promise.reject(e)})},t.prototype.Ro=function(t){var e=this;return this.uo=function(n){return Object(Nu.b)(e,void 0,void 0,function(){return Object(Nu.d)(this,function(e){return this.Er?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.Po=function(t){var e=this;this.lo.Xn(function(n){return Object(Nu.b)(e,void 0,void 0,function(){return Object(Nu.d)(this,function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.yo=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Zr.Ps(function(){return Object(Nu.b)(e,void 0,void 0,function(){return Object(Nu.d)(this,function(t){switch(t.label){case 0:return this.Er?[4,this.To()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.To=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return ap(e).put(new nd(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Vo(e).next(function(e){e||(t.isPrimary=!1,t.Zr.po(function(){return t.uo(!1)}))})}).next(function(){return t.bo(e)}).next(function(n){return t.isPrimary&&!n?t.vo(e).next(function(){return!1}):!!n&&t.So(e).next(function(){return!0})})}).catch(function(e){if(Af(e))return Uu("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return Uu("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.Zr.po(function(){return t.uo(e)}),t.isPrimary=e})},t.prototype.Vo=function(t){var e=this;return sp(t).get(Bf.key).next(function(t){return xf.resolve(e.Do(t))})},t.prototype.Co=function(t){return ap(t).delete(this.clientId)},t.prototype.xo=function(){return Object(Nu.b)(this,void 0,void 0,function(){var t,e,n,r=this;return Object(Nu.d)(this,function(i){switch(i.label){case 0:return!this.isPrimary||this.No(this.ao,18e5)?[3,2]:(this.ao=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(t){var e=ad(t,nd.store);return e.rs().next(function(t){var n=r.$o(t,18e5),i=t.filter(function(t){return-1===n.indexOf(t)});return xf.forEach(i,function(t){return e.delete(t.clientId)}).next(function(){return i})})}).catch(function(){return[]})]);case 1:if(t=i.sent(),this.Eo)for(e=0,n=t;e<n.length;e++)this.Eo.removeItem(this.Fo(n[e].clientId));i.label=2;case 2:return[2]}})})},t.prototype.Ao=function(){var t=this;this.co=this.Zr.Tr("client_metadata_refresh",4e3,function(){return t.To().then(function(){return t.xo()}).then(function(){return t.Ao()})})},t.prototype.Do=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.bo=function(t){var e=this;return this.no?xf.resolve(!0):sp(t).get(Bf.key).next(function(n){if(null!==n&&e.No(n.leaseTimestampMs,5e3)&&!e.Oo(n.ownerId)){if(e.Do(n)&&e.networkEnabled)return!0;if(!e.Do(n)){if(!n.allowTabSynchronization)throw new Xu(Yu.FAILED_PRECONDITION,ip);return!1}}return!(!e.networkEnabled||!e.inForeground)||ap(t).rs().next(function(t){return void 0===e.$o(t,5e3).find(function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))})})}).next(function(t){return e.isPrimary!==t&&Uu("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.ko=function(){return Object(Nu.b)(this,void 0,void 0,function(){var t=this;return Object(Nu.d)(this,function(e){switch(e.label){case 0:return this.io=!1,this.Mo(),this.co&&(this.co.cancel(),this.co=null),this.Lo(),this.Bo(),[4,this.lo.runTransaction("shutdown","readwrite",[Bf.store,nd.store],function(e){var n=new sd(e,sc.q);return t.vo(n).next(function(){return t.Co(n)})})];case 1:return e.sent(),this.lo.close(),this.qo(),[2]}})})},t.prototype.$o=function(t,e){var n=this;return t.filter(function(t){return n.No(t.updateTimeMs,e)&&!n.Oo(t.clientId)})},t.prototype.Uo=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return ap(e).rs().next(function(e){return t.$o(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(t.prototype,"Er",{get:function(){return this.io},enumerable:!1,configurable:!0}),t.prototype.Qo=function(t){return Dd.mi(t,this.Qt,this.Ei,this.Ti)},t.prototype.Sr=function(){return this._o},t.prototype.$r=function(){return this.fo},t.prototype.Ko=function(){return this.Ei},t.prototype.Wo=function(){return this.wo},t.prototype.runTransaction=function(t,e,n){var r,i=this;return Uu("IndexedDbPersistence","Starting transaction:",t),this.lo.runTransaction(t,"readonly"===e?"readonly":"readwrite",od,function(o){return r=new sd(o,i.so?i.so.next():sc.q),"readwrite-primary"===e?i.Vo(r).next(function(t){return!!t||i.bo(r)}).next(function(e){if(!e)throw Vu("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Zr.po(function(){return i.uo(!1)}),new Xu(Yu.FAILED_PRECONDITION,Lf);return n(r)}).next(function(t){return i.So(r).next(function(){return t})}):i.jo(r).next(function(){return n(r)})}).then(function(t){return r.Vs(),t})},t.prototype.jo=function(t){var e=this;return sp(t).get(Bf.key).next(function(t){if(null!==t&&e.No(t.leaseTimestampMs,5e3)&&!e.Oo(t.ownerId)&&!e.Do(t)&&!(e.no||e.allowTabSynchronization&&t.allowTabSynchronization))throw new Xu(Yu.FAILED_PRECONDITION,ip)})},t.prototype.So=function(t){var e=new Bf(this.clientId,this.allowTabSynchronization,Date.now());return sp(t).put(Bf.key,e)},t.Kn=function(){return Tf.Kn()},t.prototype.vo=function(t){var e=this,n=sp(t);return n.get(Bf.key).next(function(t){return e.Do(t)?(Uu("IndexedDbPersistence","Releasing primary lease."),n.delete(Bf.key)):xf.resolve()})},t.prototype.No=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(Vu("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.Io=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.oo=function(){t.Zr.Ps(function(){return t.inForeground="visible"===t.document.visibilityState,t.To()})},this.document.addEventListener("visibilitychange",this.oo),this.inForeground="visible"===this.document.visibilityState)},t.prototype.Lo=function(){this.oo&&(this.document.removeEventListener("visibilitychange",this.oo),this.oo=null)},t.prototype.mo=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.ro=function(){e.Mo(),e.Zr.Ps(function(){return e.ko()})},this.window.addEventListener("unload",this.ro))},t.prototype.Bo=function(){this.ro&&(this.window.removeEventListener("unload",this.ro),this.ro=null)},t.prototype.Oo=function(t){var e;try{var n=null!==(null===(e=this.Eo)||void 0===e?void 0:e.getItem(this.Fo(t)));return Uu("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return Vu("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.Mo=function(){if(this.Eo)try{this.Eo.setItem(this.Fo(this.clientId),String(Date.now()))}catch(t){Vu("Failed to set zombie client id.",t)}},t.prototype.qo=function(){if(this.Eo)try{this.Eo.removeItem(this.Fo(this.clientId))}catch(t){}},t.prototype.Fo=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function sp(t){return ad(t,Bf.store)}function ap(t){return ad(t,nd.store)}function up(t,e){var n=t.projectId;return t.o||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var cp=function(t,e){this.progress=t,this.Go=e},lp=function(){function t(t,e,n){this.fo=t,this.zo=e,this.Ei=n}return t.prototype.Ho=function(t,e){var n=this;return this.zo.bi(t,e).next(function(r){return n.Jo(t,e,r)})},t.prototype.Jo=function(t,e,n){return this.fo._i(t,e).next(function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].Cs(e,t);return t})},t.prototype.Yo=function(t,e,n){var r=Eh();return e.forEach(function(t,e){for(var i=0,o=n;i<o.length;i++)e=o[i].Cs(t,e);r=r.zt(t,e)}),r},t.prototype.Xo=function(t,e){var n=this;return this.fo.getEntries(t,e).next(function(e){return n.Zo(t,e)})},t.prototype.Zo=function(t,e){var n=this;return this.zo.vi(t,e).next(function(r){var i=n.Yo(t,e,r),o=Oh();return i.forEach(function(t,e){e||(e=new $c(t,uc.min())),o=o.zt(t,e)}),o})},t.prototype.Kr=function(t,e,n){return function(t){return dc.wt(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.tc(t,e.path):_l(e)?this.ec(t,e,n):this.nc(t,e,n)},t.prototype.tc=function(t,e){return this.Ho(t,new dc(e)).next(function(t){var e=xh();return t instanceof Gc&&(e=e.zt(t.key,t)),e})},t.prototype.ec=function(t,e,n){var r=this,i=e.collectionGroup,o=xh();return this.Ei.Us(t,i).next(function(s){return xf.forEach(s,function(s){var a=function(t,e){return new pl(e,null,t.xt.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,s.child(i));return r.nc(t,a,n).next(function(t){t.forEach(function(t,e){o=o.zt(t,e)})})}).next(function(){return o})})},t.prototype.nc=function(t,e,n){var r,i,o=this;return this.fo.Kr(t,e,n).next(function(n){return r=n,o.zo.Di(t,e)}).next(function(e){return o.sc(t,i=e,r).next(function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],s=0,a=o.mutations;s<a.length;s++){var u=a[s],c=u.key,l=Kl(u,r.get(c),o.vs);r=l instanceof Gc?r.zt(c,l):r.remove(c)}})}).next(function(){return r.forEach(function(t,n){Cl(e,n)||(r=r.remove(t))}),r})},t.prototype.sc=function(t,e,n){for(var r=jh(),i=0,o=e;i<o.length;i++)for(var s=0,a=o[i].mutations;s<a.length;s++){var u=a[s];u instanceof ih&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.fo.getEntries(t,r).next(function(t){return t.forEach(function(t,e){null!==e&&e instanceof Gc&&(c=c.zt(t,e))}),c})},t}(),hp=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.ic=n,this.rc=r}return t.oc=function(e,n){for(var r=jh(),i=jh(),o=0,s=n.docChanges;o<s.length;o++){var a=s[o];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),fp=function(){function t(){}return t.prototype.cc=function(t){this.ac=t},t.prototype.Kr=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.xt.length||1===t.xt.length&&t.xt[0].field.ut())}(e)||n.isEqual(uc.min())?this.uc(t,e):this.ac.Xo(t,r).next(function(o){var s=i.hc(e,o);return(bl(e)||yl(e))&&i.lc(e.limitType,s,r,n)?i.uc(t,e):(Lu()<=ji.a.DEBUG&&Uu("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Tl(e)),i.ac.Kr(t,e,n).next(function(t){return s.forEach(function(e){t=t.zt(e.key,e)}),t}))})},t.prototype.hc=function(t,e){var n=new mh(jl(t));return e.forEach(function(e,r){r instanceof Gc&&Cl(t,r)&&(n=n.add(r))}),n},t.prototype.lc=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version._(r)>0)},t.prototype.uc=function(t,e){return Lu()<=ji.a.DEBUG&&Uu("QueryEngine","Using full collection scan to execute query:",Tl(e)),this.ac.Kr(t,e,uc.min())},t}(),dp=function(){function t(t,e,n,r){this.persistence=t,this._c=e,this.Qt=r,this.fc=new vh(Wu),this.dc=new kd(function(t){return Zc(t)},Yc),this.wc=uc.min(),this.zo=t.Qo(n),this.Ec=t.$r(),this._o=t.Sr(),this.Tc=new lp(this.Ec,this.zo,this.persistence.Ko()),this.wo=t.Wo(),this._c.cc(this.Tc)}return t.prototype.Ir=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.Vr(n,e.fc)})},t}();function pp(t,e,n,r){return new dp(t,e,n,r)}function gp(t,e){return Object(Nu.b)(this,void 0,void 0,function(){var n,r,i,o;return Object(Nu.d)(this,function(s){switch(s.label){case 0:return n=Bu(t),r=n.zo,i=n.Tc,[4,n.persistence.runTransaction("Handle user change","readonly",function(t){var o;return n.zo.pi(t).next(function(s){return o=s,r=n.persistence.Qo(e),i=new lp(n.Ec,r,n.persistence.Ko()),r.pi(t)}).next(function(e){for(var n=[],r=[],s=jh(),a=0,u=o;a<u.length;a++){var c=u[a];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)s=s.add(h[l].key)}for(var f=0,d=e;f<d.length;f++){var p=d[f];r.push(p.batchId);for(var g=0,v=p.mutations;g<v.length;g++)s=s.add(v[g].key)}return i.Xo(t,s).next(function(t){return{Ic:t,mc:n,Ac:r}})})})];case 1:return o=s.sent(),[2,(n.zo=r,n.Tc=i,n._c.cc(n.Tc),o)]}})})}function vp(t,e){var n=Bu(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(t){var r=e.batch.keys(),i=n.Ec.Nr({Wr:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),s=xf.resolve();return o.forEach(function(t){s=s.next(function(){return r._i(e,t)}).next(function(e){var o=e,s=n.$s.get(t);zu(null!==s),(!o||o.version._(s)<0)&&(o=i.Ss(t,o,n))&&r.ai(o,n.Ns)})}),s.next(function(){return t.zo.Ci(e,i)})}(n,t,e,i).next(function(){return i.apply(t)}).next(function(){return n.zo.$i(t)}).next(function(){return n.Tc.Xo(t,r)})})}function bp(t){var e=Bu(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e._o.Qi(t)})}function yp(t,e){var n=Bu(t),r=e.Ot,i=n.fc;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(t){var o=n.Ec.Nr({Wr:!0});i=n.fc;var s=[];e.$e.forEach(function(e,o){var a=i.get(o);if(a){s.push(n._o.sr(t,e.Qe,o).next(function(){return n._o.er(t,e.qe,o)}));var u=e.resumeToken;if(u.l()>0){var c=a.Mt(u,r).kt(t.bs);i=i.zt(o,c),function(t,e,n){return zu(e.resumeToken.l()>0),0===t.resumeToken.l()||e.Ot.W()-t.Ot.W()>=3e8||n.qe.size+n.Ue.size+n.Qe.size>0}(a,c,e)&&s.push(n._o.Hi(t,c))}}});var a=Oh();if(e.Oe.forEach(function(r,i){e.ke.has(r)&&s.push(n.persistence.Ti.Fr(t,r))}),s.push(mp(t,o,e.Oe,r,void 0).next(function(t){a=t})),!r.isEqual(uc.min())){var u=n._o.Qi(t).next(function(e){return n._o.Wi(t,t.bs,r)});s.push(u)}return xf.Mn(s).next(function(){return o.apply(t)}).next(function(){return n.Tc.Zo(t,a)})}).then(function(t){return n.fc=i,t})}function mp(t,e,n,r,i){var o=jh();return n.forEach(function(t){return o=o.add(t)}),e.getEntries(t,o).next(function(t){var o=Oh();return n.forEach(function(n,s){var a=t.get(n),u=(null==i?void 0:i.get(n))||r;s instanceof $c&&s.version.isEqual(uc.min())?(e.li(n,u),o=o.zt(n,s)):null==a||s.version._(a.version)>0||0===s.version._(a.version)&&a.hasPendingWrites?(e.ai(s,u),o=o.zt(n,s)):Uu("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)}),o})}function wp(t,e){var n=Bu(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(t){return void 0===e&&(e=-1),n.zo.gi(t,e)})}function _p(t,e){var n=Bu(t);return n.persistence.runTransaction("Allocate target","readwrite",function(t){var r;return n._o.tr(t,e).next(function(i){return i?xf.resolve(r=i):n._o.Bi(t).next(function(i){return r=new kl(e,i,0,t.bs),n._o.ji(t,r).next(function(){return r})})})}).then(function(t){var r=n.fc.get(t.targetId);return(null===r||t.Ot._(r.Ot)>0)&&(n.fc=n.fc.zt(t.targetId,t),n.dc.set(e,t.targetId)),t})}function Op(t,e,n){return Object(Nu.b)(this,void 0,void 0,function(){var r,i,o,s;return Object(Nu.d)(this,function(a){switch(a.label){case 0:r=Bu(t),i=r.fc.get(e),o=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,function(t){return r.persistence.Ti.removeTarget(t,i)})];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!Af(s=a.sent()))throw s;return Uu("LocalStore","Failed to update sequence numbers for target "+e+": "+s),[3,5];case 5:return r.fc=r.fc.remove(e),r.dc.delete(i.target),[2]}})})}function Ep(t,e,n){var r=Bu(t),i=uc.min(),o=jh();return r.persistence.runTransaction("Execute query","readonly",function(t){return function(t,e,n){var r=Bu(t),i=r.dc.get(n);return void 0!==i?xf.resolve(r.fc.get(i)):r._o.tr(e,n)}(r,t,El(e)).next(function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r._o.rr(t,e.targetId).next(function(t){o=t})}).next(function(){return r._c.Kr(t,e,n?i:uc.min(),n?o:jh())}).next(function(t){return{documents:t,Rc:o}})})}function Ip(t,e){var n=Bu(t),r=Bu(n._o),i=n.fc.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(t){return r.Sn(t,e).next(function(t){return t?t.target:null})})}function xp(t){var e=Bu(t);return e.persistence.runTransaction("Get new document changes","readonly",function(t){return function(t,e,n){var r=Bu(t),i=Oh(),o=dd(n),s=tp(e),a=IDBKeyRange.lowerBound(o,!0);return s.hs({index:Zf.readTimeIndex,range:a},function(t,e){var n=hd(r.Qt,e);i=i.zt(n.key,n),o=e.readTime}).next(function(){return{Go:i,readTime:pd(o)}})}(e.Ec,t,e.wc)}).then(function(t){var n=t.Go;return e.wc=t.readTime,n})}function Sp(t){return Object(Nu.b)(this,void 0,void 0,function(){var e;return Object(Nu.d)(this,function(n){return[2,(e=Bu(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(t){return function(t){var e=tp(t),n=uc.min();return e.hs({index:Zf.readTimeIndex,reverse:!0},function(t,e,r){e.readTime&&(n=pd(e.readTime)),r.done()}).next(function(){return n})}(t)}).then(function(t){e.wc=t})]})})}function Tp(t,e,n,r){return Object(Nu.b)(this,void 0,void 0,function(){var i,o,s,a,u,c,l,h,f,d;return Object(Nu.d)(this,function(p){switch(p.label){case 0:for(i=Bu(t),o=jh(),s=Oh(),a=Th(),u=0,c=n;u<c.length;u++)h=e.Pc((l=c[u]).metadata.name),l.document&&(o=o.add(h)),s=s.zt(h,e.yc(l)),a=a.zt(h,e.gc(l.metadata.readTime));return f=i.Ec.Nr({Wr:!0}),[4,_p(i,function(t){return El(vl(lc.ot("__bundle__/docs/"+t)))}(r))];case 1:return d=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(t){return mp(t,f,s,uc.min(),a).next(function(e){return f.apply(t),e}).next(function(e){return i._o.Yi(t,d.targetId).next(function(){return i._o.er(t,o,d.targetId)}).next(function(){return i.Tc.Zo(t,e)})})})]}})})}function Cp(t,e,n){return void 0===n&&(n=jh()),Object(Nu.b)(this,void 0,void 0,function(){var r,i;return Object(Nu.d)(this,function(o){switch(o.label){case 0:return[4,_p(t,El(wd(e.bundledQuery)))];case 1:return r=o.sent(),[2,(i=Bu(t)).persistence.runTransaction("Save named query","readwrite",function(t){var o=Zh(e.readTime);if(r.Ot._(o)>=0)return i.wo.Ls(t,e);var s=r.Mt(Zu.T,o);return i.fc=i.fc.zt(s.targetId,s),i._o.Hi(t,s).next(function(){return i._o.Yi(t,r.targetId)}).next(function(){return i._o.er(t,n,r.targetId)}).next(function(){return i.wo.Ls(t,e)})})]}})})}var jp=function(){function t(t){this.Qt=t,this.Vc=new Map,this.bc=new Map}return t.prototype.Os=function(t,e){return xf.resolve(this.Vc.get(e))},t.prototype.ks=function(t,e){var n;return this.Vc.set(e.id,{id:(n=e).id,version:n.version,createTime:Zh(n.createTime)}),xf.resolve()},t.prototype.Ms=function(t,e){return xf.resolve(this.bc.get(e))},t.prototype.Ls=function(t,e){return this.bc.set(e.name,function(t){return{name:t.name,query:wd(t.bundledQuery),readTime:Zh(t.readTime)}}(e)),xf.resolve()},t}(),Ap=function(){function t(){this.vc=new mh(kp.Sc),this.Dc=new mh(kp.Cc)}return t.prototype.et=function(){return this.vc.et()},t.prototype.nr=function(t,e){var n=new kp(t,e);this.vc=this.vc.add(n),this.Dc=this.Dc.add(n)},t.prototype.xc=function(t,e){var n=this;t.forEach(function(t){return n.nr(t,e)})},t.prototype.ir=function(t,e){this.Nc(new kp(t,e))},t.prototype.$c=function(t,e){var n=this;t.forEach(function(t){return n.ir(t,e)})},t.prototype.Fc=function(t){var e=this,n=new dc(new lc([])),r=new kp(n,t),i=new kp(n,t+1),o=[];return this.Dc.me([r,i],function(t){e.Nc(t),o.push(t.key)}),o},t.prototype.Oc=function(){var t=this;this.vc.forEach(function(e){return t.Nc(e)})},t.prototype.Nc=function(t){this.vc=this.vc.delete(t),this.Dc=this.Dc.delete(t)},t.prototype.kc=function(t){var e=new dc(new lc([])),n=new kp(e,t),r=new kp(e,t+1),i=jh();return this.Dc.me([n,r],function(t){i=i.add(t.key)}),i},t.prototype.Fi=function(t){var e=new kp(t,0),n=this.vc.Re(e);return null!==n&&t.isEqual(n.key)},t}(),kp=function(){function t(t,e){this.key=t,this.Mc=e}return t.Sc=function(t,e){return dc.H(t.key,e.key)||Wu(t.Mc,e.Mc)},t.Cc=function(t,e){return Wu(t.Mc,e.Mc)||dc.H(t.key,e.key)},t}(),Rp=function(){function t(t,e){this.Ei=t,this.Ti=e,this.zo=[],this.Lc=1,this.Bc=new mh(kp.Sc)}return t.prototype.Ai=function(t){return xf.resolve(0===this.zo.length)},t.prototype.Ri=function(t,e,n,r){var i=this.Lc;this.Lc++;var o=new ud(i,e,n,r);this.zo.push(o);for(var s=0,a=r;s<a.length;s++){var u=a[s];this.Bc=this.Bc.add(new kp(u.key,i)),this.Ei.qs(t,u.key.path.X())}return xf.resolve(o)},t.prototype.Pi=function(t,e){return xf.resolve(this.qc(e))},t.prototype.gi=function(t,e){var n=this.Uc(e+1),r=n<0?0:n;return xf.resolve(this.zo.length>r?this.zo[r]:null)},t.prototype.Vi=function(){return xf.resolve(0===this.zo.length?-1:this.Lc-1)},t.prototype.pi=function(t){return xf.resolve(this.zo.slice())},t.prototype.bi=function(t,e){var n=this,r=new kp(e,0),i=new kp(e,Number.POSITIVE_INFINITY),o=[];return this.Bc.me([r,i],function(t){var e=n.qc(t.Mc);o.push(e)}),xf.resolve(o)},t.prototype.vi=function(t,e){var n=this,r=new mh(Wu);return e.forEach(function(t){var e=new kp(t,0),i=new kp(t,Number.POSITIVE_INFINITY);n.Bc.me([e,i],function(t){r=r.add(t.Mc)})}),xf.resolve(this.Qc(r))},t.prototype.Di=function(t,e){var n=e.path,r=n.length+1,i=n;dc.wt(i)||(i=i.child(""));var o=new kp(new dc(i),0),s=new mh(Wu);return this.Bc.Ae(function(t){var e=t.key.path;return!!n.nt(e)&&(e.length===r&&(s=s.add(t.Mc)),!0)},o),xf.resolve(this.Qc(s))},t.prototype.Qc=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.qc(t);null!==r&&n.push(r)}),n},t.prototype.Ci=function(t,e){var n=this;zu(0===this.Kc(e.batchId,"removed")),this.zo.shift();var r=this.Bc;return xf.forEach(e.mutations,function(i){var o=new kp(i.key,e.batchId);return r=r.delete(o),n.Ti.Ni(t,i.key)}).next(function(){n.Bc=r})},t.prototype.xi=function(t){},t.prototype.Fi=function(t,e){var n=new kp(e,0),r=this.Bc.Re(n);return xf.resolve(e.isEqual(r&&r.key))},t.prototype.$i=function(t){return xf.resolve()},t.prototype.Kc=function(t,e){return this.Uc(t)},t.prototype.Uc=function(t){return 0===this.zo.length?0:t-this.zo[0].batchId},t.prototype.qc=function(t){var e=this.Uc(t);return e<0||e>=this.zo.length?null:this.zo[e]},t}(),Np=function(){function t(t,e){this.Ei=t,this.Wc=e,this.docs=new vh(dc.H),this.size=0}return t.prototype.ai=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.Wc(e);return this.docs=this.docs.zt(r,{hi:e,size:s,readTime:n}),this.size+=s-o,this.Ei.qs(t,r.path.X())},t.prototype.li=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype._i=function(t,e){var n=this.docs.get(e);return xf.resolve(n?n.hi:null)},t.prototype.getEntries=function(t,e){var n=this,r=Eh();return e.forEach(function(t){var e=n.docs.get(t);r=r.zt(t,e?e.hi:null)}),xf.resolve(r)},t.prototype.Kr=function(t,e,n){for(var r=xh(),i=new dc(e.path.child("")),o=this.docs.ee(i);o.ce();){var s=o.oe(),a=s.value,u=a.hi,c=a.readTime;if(!e.path.nt(s.key.path))break;c._(n)<=0||u instanceof Gc&&Cl(e,u)&&(r=r.zt(u.key,u))}return xf.resolve(r)},t.prototype.jc=function(t,e){return xf.forEach(this.docs,function(t){return e(t)})},t.prototype.Nr=function(t){return new Pp(this)},t.prototype.Or=function(t){return xf.resolve(this.size)},t}(),Pp=function(t){function e(e){var n=this;return(n=t.call(this)||this).jr=e,n}return Object(Nu.c)(e,t),e.prototype.wi=function(t){var e=this,n=[];return this.ri.forEach(function(r,i){i&&i.hi?n.push(e.jr.ai(t,i.hi,e.ci(r))):e.jr.li(r)}),xf.Mn(n)},e.prototype.fi=function(t,e){return this.jr._i(t,e)},e.prototype.di=function(t,e){return this.jr.getEntries(t,e)},e}(Rd),Dp=function(){function t(t){this.persistence=t,this.Gc=new kd(function(t){return Zc(t)},Yc),this.lastRemoteSnapshotVersion=uc.min(),this.highestTargetId=0,this.zc=0,this.Hc=new Ap,this.targetCount=0,this.Jc=Fd.Mi()}return t.prototype.In=function(t,e){return this.Gc.forEach(function(t,n){return e(n)}),xf.resolve()},t.prototype.Qi=function(t){return xf.resolve(this.lastRemoteSnapshotVersion)},t.prototype.Ki=function(t){return xf.resolve(this.zc)},t.prototype.Bi=function(t){return this.highestTargetId=this.Jc.next(),xf.resolve(this.highestTargetId)},t.prototype.Wi=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.zc&&(this.zc=e),xf.resolve()},t.prototype.Gi=function(t){this.Gc.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.Jc=new Fd(e),this.highestTargetId=e),t.sequenceNumber>this.zc&&(this.zc=t.sequenceNumber)},t.prototype.ji=function(t,e){return this.Gi(e),this.targetCount+=1,xf.resolve()},t.prototype.Hi=function(t,e){return this.Gi(e),xf.resolve()},t.prototype.Ji=function(t,e){return this.Gc.delete(e.target),this.Hc.Fc(e.targetId),this.targetCount-=1,xf.resolve()},t.prototype.Xi=function(t,e,n){var r=this,i=0,o=[];return this.Gc.forEach(function(s,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.Gc.delete(s),o.push(r.Yi(t,a.targetId)),i++)}),xf.Mn(o).next(function(){return i})},t.prototype.Zi=function(t){return xf.resolve(this.targetCount)},t.prototype.tr=function(t,e){var n=this.Gc.get(e)||null;return xf.resolve(n)},t.prototype.er=function(t,e,n){return this.Hc.xc(e,n),xf.resolve()},t.prototype.sr=function(t,e,n){this.Hc.$c(e,n);var r=this.persistence.Ti,i=[];return r&&e.forEach(function(e){i.push(r.Ni(t,e))}),xf.Mn(i)},t.prototype.Yi=function(t,e){return this.Hc.Fc(e),xf.resolve()},t.prototype.rr=function(t,e){var n=this.Hc.kc(e);return xf.resolve(n)},t.prototype.Fi=function(t,e){return xf.resolve(this.Hc.Fi(e))},t}(),Mp=function(){function t(t,e){var n=this;this.Yc={},this.so=new sc(0),this.io=!1,this.io=!0,this.Ti=t(this),this._o=new Dp(this),this.Ei=new Id,this.fo=function(t,e){return new Np(t,function(t){return n.Ti.Xc(t)})}(this.Ei),this.Qt=new ld(e),this.wo=new jp(this.Qt)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.ko=function(){return this.io=!1,Promise.resolve()},Object.defineProperty(t.prototype,"Er",{get:function(){return this.io},enumerable:!1,configurable:!0}),t.prototype.Po=function(){},t.prototype.yo=function(){},t.prototype.Ko=function(){return this.Ei},t.prototype.Qo=function(t){var e=this.Yc[t.A()];return e||(e=new Rp(this.Ei,this.Ti),this.Yc[t.A()]=e),e},t.prototype.Sr=function(){return this._o},t.prototype.$r=function(){return this.fo},t.prototype.Wo=function(){return this.wo},t.prototype.runTransaction=function(t,e,n){var r=this;Uu("MemoryPersistence","Starting transaction:",t);var i=new Lp(this.so.next());return this.Ti.Zc(),n(i).next(function(t){return r.Ti.ta(i).next(function(){return t})}).On().then(function(t){return i.Vs(),t})},t.prototype.ea=function(t,e){return xf.Ln(Object.values(this.Yc).map(function(n){return function(){return n.Fi(t,e)}}))},t}(),Lp=function(t){function e(e){var n=this;return(n=t.call(this)||this).bs=e,n}return Object(Nu.c)(e,t),e}(Uf),Up=function(){function t(t){this.persistence=t,this.na=new Ap,this.sa=null}return t.ia=function(e){return new t(e)},Object.defineProperty(t.prototype,"ra",{get:function(){if(this.sa)return this.sa;throw qu()},enumerable:!1,configurable:!0}),t.prototype.nr=function(t,e,n){return this.na.nr(n,e),this.ra.delete(n.toString()),xf.resolve()},t.prototype.ir=function(t,e,n){return this.na.ir(n,e),this.ra.add(n.toString()),xf.resolve()},t.prototype.Ni=function(t,e){return this.ra.add(e.toString()),xf.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.na.Fc(e.targetId).forEach(function(t){return n.ra.add(t.toString())});var r=this.persistence.Sr();return r.rr(t,e.targetId).next(function(t){t.forEach(function(t){return n.ra.add(t.toString())})}).next(function(){return r.Ji(t,e)})},t.prototype.Zc=function(){this.sa=new Set},t.prototype.ta=function(t){var e=this,n=this.persistence.$r().Nr();return xf.forEach(this.ra,function(r){var i=dc._t(r);return e.oa(t,i).next(function(t){t||n.li(i)})}).next(function(){return e.sa=null,n.apply(t)})},t.prototype.Fr=function(t,e){var n=this;return this.oa(t,e).next(function(t){t?n.ra.delete(e.toString()):n.ra.add(e.toString())})},t.prototype.Xc=function(t){return 0},t.prototype.oa=function(t,e){var n=this;return xf.Ln([function(){return xf.resolve(n.na.Fi(e))},function(){return n.persistence.Sr().Fi(t,e)},function(){return n.persistence.ea(t,e)}])},t}();function Vp(t,e){return"firestore_clients_"+t+"_"+e}function Fp(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.m()&&(r+="_"+e.uid),r}function Hp(t,e){return"firestore_targets_"+t+"_"+e}var qp=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.ca=function(e,n,r){var i,o=JSON.parse(r),s="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return s&&o.error&&(s="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new Xu(o.error.code,o.error.message)),s?new t(e,n,o.state,i):(Vu("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.aa=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),zp=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.ca=function(e,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Xu(i.error.code,i.error.message)),o?new t(e,i.state,r):(Vu("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.aa=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Bp=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.ca=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=kh(),s=0;i&&s<r.activeTargetIds.length;++s)i=Tc(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):(Vu("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),Gp=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.ca=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(Vu("SharedClientState","Failed to parse online state: "+e),null)},t}(),$p=function(){function t(){this.activeTargetIds=kh()}return t.prototype.ua=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.ha=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.aa=function(){var t={activeTargetIds:this.activeTargetIds.it(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),Wp=function(){function t(t,e,n,r,i){this.window=t,this.Zr=e,this.persistenceKey=n,this.la=r,this._a=null,this.fa=null,this.k=null,this.da=this.wa.bind(this),this.Ea=new vh(Wu),this.Er=!1,this.Ta=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Ia=Vp(this.persistenceKey,this.la),this.ma=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.Ea=this.Ea.zt(this.la,new $p),this.Aa=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Ra=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.Pa=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.ya=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.ga=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.da)}return t.Kn=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(Nu.b)(this,void 0,void 0,function(){var t,e,n,r,i,o,s,a,u,c,l=this;return Object(Nu.d)(this,function(h){switch(h.label){case 0:return[4,this._a.Uo()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.la&&(i=this.getItem(Vp(this.persistenceKey,r)))&&(o=Bp.ca(r,i))&&(this.Ea=this.Ea.zt(o.clientId,o));for(this.Va(),(s=this.storage.getItem(this.ya))&&(a=this.pa(s))&&this.ba(a),u=0,c=this.Ta;u<c.length;u++)this.wa(c[u]);return this.Ta=[],this.window.addEventListener("unload",function(){return l.ko()}),this.Er=!0,[2]}})})},t.prototype.B=function(t){this.setItem(this.ma,JSON.stringify(t))},t.prototype.va=function(){return this.Sa(this.Ea)},t.prototype.Da=function(t){var e=!1;return this.Ea.forEach(function(n,r){r.activeTargetIds.has(t)&&(e=!0)}),e},t.prototype.Ca=function(t){this.xa(t,"pending")},t.prototype.Na=function(t,e,n){this.xa(t,e,n),this.$a(t)},t.prototype.Fa=function(t){var e="not-current";if(this.Da(t)){var n=this.storage.getItem(Hp(this.persistenceKey,t));if(n){var r=zp.ca(t,n);r&&(e=r.state)}}return this.Oa.ua(t),this.Va(),e},t.prototype.ka=function(t){this.Oa.ha(t),this.Va()},t.prototype.Ma=function(t){return this.Oa.activeTargetIds.has(t)},t.prototype.La=function(t){this.removeItem(Hp(this.persistenceKey,t))},t.prototype.Ba=function(t,e,n){this.qa(t,e,n)},t.prototype.Ua=function(t,e,n){var r=this;e.forEach(function(t){r.$a(t)}),this.currentUser=t,n.forEach(function(t){r.Ca(t)})},t.prototype.Qa=function(t){this.Ka(t)},t.prototype.Wa=function(){this.ja()},t.prototype.ko=function(){this.Er&&(this.window.removeEventListener("storage",this.da),this.removeItem(this.Ia),this.Er=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return Uu("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){Uu("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){Uu("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.wa=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(Uu("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Ia)return void Vu("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Zr.po(function(){return Object(Nu.b)(e,void 0,void 0,function(){var t,e,r,i,o,s;return Object(Nu.d)(this,function(a){if(this.Er){if(null!==n.key)if(this.Aa.test(n.key)){if(null==n.newValue)return t=this.Ga(n.key),[2,this.za(t,null)];if(e=this.Ha(n.key,n.newValue))return[2,this.za(e.clientId,e)]}else if(this.Ra.test(n.key)){if(null!==n.newValue&&(r=this.Ja(n.key,n.newValue)))return[2,this.Ya(r)]}else if(this.Pa.test(n.key)){if(null!==n.newValue&&(i=this.Xa(n.key,n.newValue)))return[2,this.Za(i)]}else if(n.key===this.ya){if(null!==n.newValue&&(o=this.pa(n.newValue)))return[2,this.ba(o)]}else if(n.key===this.ma)(s=function(t){var e=sc.q;if(null!=t)try{var n=JSON.parse(t);zu("number"==typeof n),e=n}catch(t){Vu("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==sc.q&&this.k(s);else if(n.key===this.ga)return[2,this._a.tu()]}else this.Ta.push(n);return[2]})})})}},Object.defineProperty(t.prototype,"Oa",{get:function(){return this.Ea.get(this.la)},enumerable:!1,configurable:!0}),t.prototype.Va=function(){this.setItem(this.Ia,this.Oa.aa())},t.prototype.xa=function(t,e,n){var r=new qp(this.currentUser,t,e,n),i=Fp(this.persistenceKey,this.currentUser,t);this.setItem(i,r.aa())},t.prototype.$a=function(t){var e=Fp(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Ka=function(t){this.storage.setItem(this.ya,JSON.stringify({clientId:this.la,onlineState:t}))},t.prototype.qa=function(t,e,n){var r=Hp(this.persistenceKey,t),i=new zp(t,e,n);this.setItem(r,i.aa())},t.prototype.ja=function(){this.setItem(this.ga,"value-not-used")},t.prototype.Ga=function(t){var e=this.Aa.exec(t);return e?e[1]:null},t.prototype.Ha=function(t,e){var n=this.Ga(t);return Bp.ca(n,e)},t.prototype.Ja=function(t,e){var n=this.Ra.exec(t),r=Number(n[1]);return qp.ca(new tc(void 0!==n[2]?n[2]:null),r,e)},t.prototype.Xa=function(t,e){var n=this.Pa.exec(t),r=Number(n[1]);return zp.ca(r,e)},t.prototype.pa=function(t){return Gp.ca(t)},t.prototype.Ya=function(t){return Object(Nu.b)(this,void 0,void 0,function(){return Object(Nu.d)(this,function(e){return t.user.uid===this.currentUser.uid?[2,this._a.eu(t.batchId,t.state,t.error)]:(Uu("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},t.prototype.Za=function(t){return this._a.nu(t.targetId,t.state,t.error)},t.prototype.za=function(t,e){var n=this,r=e?this.Ea.zt(t,e):this.Ea.remove(t),i=this.Sa(this.Ea),o=this.Sa(r),s=[],a=[];return o.forEach(function(t){i.has(t)||s.push(t)}),i.forEach(function(t){o.has(t)||a.push(t)}),this._a.su(s,a).then(function(){n.Ea=r})},t.prototype.ba=function(t){this.Ea.get(t.clientId)&&this.fa(t.onlineState)},t.prototype.Sa=function(t){var e=kh();return t.forEach(function(t,n){e=e.Pe(n.activeTargetIds)}),e},t}(),Qp=function(){function t(){this.iu=new $p,this.ru={},this.fa=null,this.k=null}return t.prototype.Ca=function(t){},t.prototype.Na=function(t,e,n){},t.prototype.Fa=function(t){return this.iu.ua(t),this.ru[t]||"not-current"},t.prototype.Ba=function(t,e,n){this.ru[t]=e},t.prototype.ka=function(t){this.iu.ha(t)},t.prototype.Ma=function(t){return this.iu.activeTargetIds.has(t)},t.prototype.La=function(t){delete this.ru[t]},t.prototype.va=function(){return this.iu.activeTargetIds},t.prototype.Da=function(t){return this.iu.activeTargetIds.has(t)},t.prototype.start=function(){return this.iu=new $p,Promise.resolve()},t.prototype.Ua=function(t,e,n){},t.prototype.Qa=function(t){},t.prototype.ko=function(){},t.prototype.B=function(t){},t.prototype.Wa=function(){},t}(),Jp=function(){function t(){}return t.prototype.ou=function(t){},t.prototype.ko=function(){},t}(),Zp=function(){function t(){var t=this;this.cu=function(){return t.au()},this.uu=function(){return t.hu()},this.lu=[],this._u()}return t.prototype.ou=function(t){this.lu.push(t)},t.prototype.ko=function(){window.removeEventListener("online",this.cu),window.removeEventListener("offline",this.uu)},t.prototype._u=function(){window.addEventListener("online",this.cu),window.addEventListener("offline",this.uu)},t.prototype.au=function(){Uu("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.lu;t<e.length;t++)(0,e[t])(0)},t.prototype.hu=function(){Uu("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.lu;t<e.length;t++)(0,e[t])(1)},t.Kn=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),Yp={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Xp=function(){function t(t){this.fu=t.fu,this.du=t.du}return t.prototype.wu=function(t){this.Eu=t},t.prototype.Tu=function(t){this.Iu=t},t.prototype.onMessage=function(t){this.mu=t},t.prototype.close=function(){this.du()},t.prototype.send=function(t){this.fu(t)},t.prototype.Au=function(){this.Eu()},t.prototype.Ru=function(t){this.Iu(t)},t.prototype.Pu=function(t){this.mu(t)},t}(),Kp=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.i=e.i,n}return Object(Nu.c)(e,t),e.prototype.Su=function(t,e,n,r){return new Promise(function(i,o){var s=new Ru;s.listenOnce(ju.COMPLETE,function(){try{switch(s.getLastErrorCode()){case Cu.NO_ERROR:var e=s.getResponseJson();Uu("Connection","XHR received:",JSON.stringify(e)),i(e);break;case Cu.TIMEOUT:Uu("Connection",'RPC "'+t+'" timed out'),o(new Xu(Yu.DEADLINE_EXCEEDED,"Request time out"));break;case Cu.HTTP_ERROR:var n=s.getStatus();if(Uu("Connection",'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var a=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(Yu).indexOf(e)>=0?e:Yu.UNKNOWN}(r.status);o(new Xu(a,r.message))}else o(new Xu(Yu.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new Xu(Yu.UNAVAILABLE,"Connection failed."));break;default:qu()}}finally{Uu("Connection",'RPC "'+t+'" completed.')}});var a=JSON.stringify(r);s.send(e,"POST",a,n,15)})},e.prototype.Cu=function(t,e){var n=[this.gu,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new Eu,i=Ss(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.t.projectId+"/databases/"+this.t.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.i};this.vu(o.initMessageHeaders,e),Object(Ai.m)()||Object(Ai.o)()||Object(Ai.k)()||Object(Ai.l)()||Object(Ai.p)()||Object(Ai.j)()||(o.httpHeadersOverwriteParam="$httpHeaders");var s=n.join("");Uu("Connection","Creating WebChannel: "+s,o);var a=r.createWebChannel(s,o),u=!1,c=!1,l=new Xp({fu:function(t){c?Uu("Connection","Not sending because WebChannel is closed:",t):(u||(Uu("Connection","Opening WebChannel transport."),a.open(),u=!0),Uu("Connection","WebChannel sending:",t),a.send(t))},du:function(){return a.close()}}),h=function(t,e,n){t.listen(e,function(t){try{n(t)}catch(t){setTimeout(function(){throw t},0)}})};return h(a,ku.EventType.OPEN,function(){c||Uu("Connection","WebChannel transport opened.")}),h(a,ku.EventType.CLOSE,function(){c||(c=!0,Uu("Connection","WebChannel transport closed"),l.Ru())}),h(a,ku.EventType.ERROR,function(t){c||(c=!0,Fu("Connection","WebChannel transport errored:",t),l.Ru(new Xu(Yu.UNAVAILABLE,"The operation could not be completed")))}),h(a,ku.EventType.MESSAGE,function(t){var e;if(!c){var n=t.data[0];zu(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){Uu("Connection","WebChannel received error:",r);var i=r.status,o=function(t){var e=ch[t];if(void 0!==e)return gh(e)}(i),s=r.message;void 0===o&&(o=Yu.INTERNAL,s="Unknown error status: "+i+" with message "+r.message),c=!0,l.Ru(new Xu(o,s)),a.close()}else Uu("Connection","WebChannel received:",n),l.Pu(n)}}),h(i,Au.STAT_EVENT,function(t){10===t.stat?Uu("Connection","Detected buffering proxy"):11===t.stat&&Uu("Connection","Detected no buffering proxy")}),setTimeout(function(){l.Au()},0),l},e}(function(){function t(t){this.yu=t,this.t=t.t,this.gu=(t.ssl?"https":"http")+"://"+t.host,this.Vu="projects/"+this.t.projectId+"/databases/"+this.t.database+"/documents"}return t.prototype.pu=function(t,e,n,r){var i=this.bu(t,e);Uu("RestConnection","Sending: ",i,n);var o={};return this.vu(o,r),this.Su(t,i,o,n).then(function(t){return Uu("RestConnection","Received: ",t),t},function(e){throw Fu("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e})},t.prototype.Du=function(t,e,n,r){return this.pu(t,e,n,r)},t.prototype.vu=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.2.9",t["Content-Type"]="text/plain",e)for(var n in e.g)e.g.hasOwnProperty(n)&&(t[n]=e.g[n])},t.prototype.bu=function(t,e){return this.gu+"/v1/"+e+":"+Yp[t]},t}());function tg(){return"undefined"!=typeof window?window:null}function eg(){return"undefined"!=typeof document?document:null}function ng(t){return new $h(t,!0)}var rg=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Zr=t,this.fs=e,this.xu=n,this.Nu=r,this.$u=i,this.Fu=0,this.Ou=null,this.ku=Date.now(),this.reset()}return t.prototype.reset=function(){this.Fu=0},t.prototype.Mu=function(){this.Fu=this.$u},t.prototype.Lu=function(t){var e=this;this.cancel();var n=Math.floor(this.Fu+this.Bu()),r=Math.max(0,Date.now()-this.ku),i=Math.max(0,n-r);i>0&&Uu("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.Fu+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ou=this.Zr.Tr(this.fs,i,function(){return e.ku=Date.now(),t()}),this.Fu*=this.Nu,this.Fu<this.xu&&(this.Fu=this.xu),this.Fu>this.$u&&(this.Fu=this.$u)},t.prototype.qu=function(){null!==this.Ou&&(this.Ou.Rs(),this.Ou=null)},t.prototype.cancel=function(){null!==this.Ou&&(this.Ou.cancel(),this.Ou=null)},t.prototype.Bu=function(){return(Math.random()-.5)*this.Fu},t}(),ig=function(){function t(t,e,n,r,i,o){this.Zr=t,this.Uu=n,this.Qu=r,this.Ku=i,this.listener=o,this.state=0,this.Wu=0,this.ju=null,this.stream=null,this.Gu=new rg(t,e)}return t.prototype.zu=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.Hu=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.Ju()},t.prototype.stop=function(){return Object(Nu.b)(this,void 0,void 0,function(){return Object(Nu.d)(this,function(t){switch(t.label){case 0:return this.zu()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.Yu=function(){this.state=0,this.Gu.reset()},t.prototype.Xu=function(){var t=this;this.Hu()&&null===this.ju&&(this.ju=this.Zr.Tr(this.Uu,6e4,function(){return t.Zu()}))},t.prototype.th=function(t){this.eh(),this.stream.send(t)},t.prototype.Zu=function(){return Object(Nu.b)(this,void 0,void 0,function(){return Object(Nu.d)(this,function(t){return this.Hu()?[2,this.close(0)]:[2]})})},t.prototype.eh=function(){this.ju&&(this.ju.cancel(),this.ju=null)},t.prototype.close=function(t,e){return Object(Nu.b)(this,void 0,void 0,function(){return Object(Nu.d)(this,function(n){switch(n.label){case 0:return this.eh(),this.Gu.cancel(),this.Wu++,3!==t?this.Gu.reset():e&&e.code===Yu.RESOURCE_EXHAUSTED?(Vu(e.toString()),Vu("Using maximum backoff delay to prevent overloading the backend."),this.Gu.Mu()):e&&e.code===Yu.UNAUTHENTICATED&&this.Ku.p(),null!==this.stream&&(this.nh(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Tu(e)];case 1:return n.sent(),[2]}})})},t.prototype.nh=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.sh(this.Wu),n=this.Wu;this.Ku.getToken().then(function(e){t.Wu===n&&t.ih(e)},function(n){e(function(){var e=new Xu(Yu.UNKNOWN,"Fetching auth token failed: "+n.message);return t.rh(e)})})},t.prototype.ih=function(t){var e=this,n=this.sh(this.Wu);this.stream=this.oh(t),this.stream.wu(function(){n(function(){return e.state=2,e.listener.wu()})}),this.stream.Tu(function(t){n(function(){return e.rh(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.Ju=function(){var t=this;this.state=4,this.Gu.Lu(function(){return Object(Nu.b)(t,void 0,void 0,function(){return Object(Nu.d)(this,function(t){return this.state=0,this.start(),[2]})})})},t.prototype.rh=function(t){return Uu("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.sh=function(t){var e=this;return function(n){e.Zr.Ps(function(){return e.Wu===t?n():(Uu("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),og=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).Qt=i,s}return Object(Nu.c)(e,t),e.prototype.oh=function(t){return this.Qu.Cu("Listen",t)},e.prototype.onMessage=function(t){this.Gu.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:qu()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.Bt?(zu(void 0===e||"string"==typeof e),Zu.fromBase64String(e||"")):(zu(void 0===e||e instanceof Uint8Array),Zu.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),s=(a=e.targetChange.cause)&&function(t){var e=void 0===t.code?Yu.UNKNOWN:gh(t.code);return new Xu(e,t.message||"")}(a);n=new Vh(r,i,o,s||null)}else if("documentChange"in e){i=tf(t,(r=e.documentChange).document.name),o=Zh(r.document.updateTime);var a=new Hc({mapValue:{fields:r.document.fields}}),u=(s=new Gc(i,o,a,{}),r.targetIds||[]);n=new Lh(u,r.removedTargetIds||[],s.key,s)}else if("documentDelete"in e)i=tf(t,(r=e.documentDelete).document),o=r.readTime?Zh(r.readTime):uc.min(),a=new $c(i,o),n=new Lh([],s=r.removedTargetIds||[],a.key,a);else if("documentRemove"in e)i=tf(t,(r=e.documentRemove).document),n=new Lh([],o=r.removedTargetIds||[],i,null);else{if(!("filter"in e))return qu();var c=e.filter;i=new dh(r=c.count||0),n=new Uh(o=c.targetId,i)}return n}(this.Qt,t),n=function(t){if(!("targetChange"in t))return uc.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?uc.min():e.readTime?Zh(e.readTime):uc.min()}(t);return this.listener.ah(e,n)},e.prototype.uh=function(t){var e={};e.database=rf(this.Qt),e.addTarget=function(t,e){var n,r=e.target;return(n=Xc(r)?{documents:lf(t,r)}:{query:hf(t,r)}).targetId=e.targetId,e.resumeToken.l()>0?n.resumeToken=Qh(t,e.resumeToken):e.Ot._(uc.min())>0&&(n.readTime=Wh(t,e.Ot.j())),n}(this.Qt,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return qu()}}(0,e.Ft);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.th(e)},e.prototype.hh=function(t){var e={};e.database=rf(this.Qt),e.removeTarget=t,this.th(e)},e}(ig),sg=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).Qt=i,s.lh=!1,s}return Object(Nu.c)(e,t),Object.defineProperty(e.prototype,"_h",{get:function(){return this.lh},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.lh=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.nh=function(){this.lh&&this.fh([])},e.prototype.oh=function(t){return this.Qu.Cu("Write",t)},e.prototype.onMessage=function(t){if(zu(!!t.streamToken),this.lastStreamToken=t.streamToken,this.lh){this.Gu.reset();var e=function(t,e){return t&&t.length>0?(zu(void 0!==e),t.map(function(t){return function(t,e){var n=Zh(t.updateTime?t.updateTime:e);n.isEqual(uc.min())&&(n=Zh(e));var r=null;return t.transformResults&&t.transformResults.length>0&&(r=t.transformResults),new Ql(n,r)}(t,e)})):[]}(t.writeResults,t.commitTime),n=Zh(t.commitTime);return this.listener.dh(n,e)}return zu(!t.writeResults||0===t.writeResults.length),this.lh=!0,this.listener.wh()},e.prototype.Eh=function(){var t={};t.database=rf(this.Qt),this.th(t)},e.prototype.fh=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map(function(t){return uf(e.Qt,t)})};this.th(n)},e}(ig),ag=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Qu=n,i.Qt=r,i.Th=!1,i}return Object(Nu.c)(e,t),e.prototype.Ih=function(){if(this.Th)throw new Xu(Yu.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.pu=function(t,e,n){var r=this;return this.Ih(),this.credentials.getToken().then(function(i){return r.Qu.pu(t,e,n,i)}).catch(function(t){throw t.code===Yu.UNAUTHENTICATED&&r.credentials.p(),t})},e.prototype.Du=function(t,e,n){var r=this;return this.Ih(),this.credentials.getToken().then(function(i){return r.Qu.Du(t,e,n,i)}).catch(function(t){throw t.code===Yu.UNAUTHENTICATED&&r.credentials.p(),t})},e.prototype.terminate=function(){this.Th=!1},e}(function(){}),ug=function(){function t(t,e){this._s=t,this.fa=e,this.state="Unknown",this.mh=0,this.Ah=null,this.Rh=!0}return t.prototype.Ph=function(){var t=this;0===this.mh&&(this.yh("Unknown"),this.Ah=this._s.Tr("online_state_timeout",1e4,function(){return t.Ah=null,t.gh("Backend didn't respond within 10 seconds."),t.yh("Offline"),Promise.resolve()}))},t.prototype.Vh=function(t){"Online"===this.state?this.yh("Unknown"):(this.mh++,this.mh>=1&&(this.ph(),this.gh("Connection failed 1 times. Most recent error: "+t.toString()),this.yh("Offline")))},t.prototype.set=function(t){this.ph(),this.mh=0,"Online"===t&&(this.Rh=!1),this.yh(t)},t.prototype.yh=function(t){t!==this.state&&(this.state=t,this.fa(t))},t.prototype.gh=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Rh?(Vu(e),this.Rh=!1):Uu("OnlineStateTracker",e)},t.prototype.ph=function(){null!==this.Ah&&(this.Ah.cancel(),this.Ah=null)},t}(),cg=function(t,e,n,r,i){var o=this;this.bh=t,this.Sh=e,this._s=n,this.Dh={},this.Ch=[],this.xh=new Map,this.Nh=new Set,this.$h=[],this.Fh=i,this.Fh.ou(function(t){n.Ps(function(){return Object(Nu.b)(o,void 0,void 0,function(){return Object(Nu.d)(this,function(t){switch(t.label){case 0:return yg(this)?(Uu("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(Nu.b)(this,void 0,void 0,function(){var e;return Object(Nu.d)(this,function(n){switch(n.label){case 0:return(e=Bu(t)).Nh.add(4),[4,hg(e)];case 1:return n.sent(),e.Oh.set("Unknown"),e.Nh.delete(4),[4,lg(e)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.Oh=new ug(n,r)};function lg(t){return Object(Nu.b)(this,void 0,void 0,function(){var e,n;return Object(Nu.d)(this,function(r){switch(r.label){case 0:if(!yg(t))return[3,4];e=0,n=t.$h,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function hg(t){return Object(Nu.b)(this,void 0,void 0,function(){var e,n;return Object(Nu.d)(this,function(r){switch(r.label){case 0:e=0,n=t.$h,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function fg(t,e){var n=Bu(t);n.xh.has(e.targetId)||(n.xh.set(e.targetId,e),bg(n)?vg(n):Ng(n).Hu()&&pg(n,e))}function dg(t,e){var n=Bu(t),r=Ng(n);n.xh.delete(e),r.Hu()&&gg(n,e),0===n.xh.size&&(r.Hu()?r.Xu():yg(n)&&n.Oh.set("Unknown"))}function pg(t,e){t.kh.on(e.targetId),Ng(t).uh(e)}function gg(t,e){t.kh.on(e),Ng(t).hh(e)}function vg(t){t.kh=new Hh({vn:function(e){return t.Dh.vn(e)},Sn:function(e){return t.xh.get(e)||null}}),Ng(t).start(),t.Oh.Ph()}function bg(t){return yg(t)&&!Ng(t).zu()&&t.xh.size>0}function yg(t){return 0===Bu(t).Nh.size}function mg(t){t.kh=void 0}function wg(t){return Object(Nu.b)(this,void 0,void 0,function(){return Object(Nu.d)(this,function(e){return t.xh.forEach(function(e,n){pg(t,e)}),[2]})})}function _g(t,e){return Object(Nu.b)(this,void 0,void 0,function(){return Object(Nu.d)(this,function(n){return mg(t),bg(t)?(t.Oh.Vh(e),vg(t)):t.Oh.set("Unknown"),[2]})})}function Og(t,e,n){return Object(Nu.b)(this,void 0,void 0,function(){var r,i,o;return Object(Nu.d)(this,function(s){switch(s.label){case 0:if(t.Oh.set("Online"),!(e instanceof Vh&&2===e.state&&e.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(t,e){return Object(Nu.b)(this,void 0,void 0,function(){var n,r,i,o;return Object(Nu.d)(this,function(s){switch(s.label){case 0:n=e.cause,r=0,i=e.targetIds,s.label=1;case 1:return r<i.length?t.xh.has(o=i[r])?[4,t.Dh.Mh(o,n)]:[3,3]:[3,5];case 2:s.sent(),t.xh.delete(o),t.kh.removeTarget(o),s.label=3;case 3:s.label=4;case 4:return r++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return s.sent(),[3,5];case 3:return r=s.sent(),Uu("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,Eg(t,r)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof Lh?t.kh.dn(e):e instanceof Uh?t.kh.Pn(e):t.kh.Tn(e),n.isEqual(uc.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,bp(t.bh)];case 8:return i=s.sent(),n._(i)>=0?[4,function(t,e){var n=t.kh.Vn(e);return n.$e.forEach(function(n,r){if(n.resumeToken.l()>0){var i=t.xh.get(r);i&&t.xh.set(r,i.Mt(n.resumeToken,e))}}),n.Fe.forEach(function(e){var n=t.xh.get(e);if(n){t.xh.set(e,n.Mt(Zu.T,n.Ot)),gg(t,e);var r=new kl(n.target,e,1,n.sequenceNumber);pg(t,r)}}),t.Dh.Lh(n)}(t,n)]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return Uu("RemoteStore","Failed to raise snapshot:",o=s.sent()),[4,Eg(t,o)];case 12:return s.sent(),[3,13];case 13:return[2]}})})}function Eg(t,e,n){return Object(Nu.b)(this,void 0,void 0,function(){var r=this;return Object(Nu.d)(this,function(i){switch(i.label){case 0:if(!Af(e))throw e;return t.Nh.add(1),[4,hg(t)];case 1:return i.sent(),t.Oh.set("Offline"),n||(n=function(){return bp(t.bh)}),t._s.po(function(){return Object(Nu.b)(r,void 0,void 0,function(){return Object(Nu.d)(this,function(e){switch(e.label){case 0:return Uu("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Nh.delete(1),[4,lg(t)];case 2:return e.sent(),[2]}})})}),[2]}})})}function Ig(t,e){return e().catch(function(n){return Eg(t,n,e)})}function xg(t){return Object(Nu.b)(this,void 0,void 0,function(){var e,n,r,i,o;return Object(Nu.d)(this,function(s){switch(s.label){case 0:e=Bu(t),n=Pg(e),r=e.Ch.length>0?e.Ch[e.Ch.length-1].batchId:-1,s.label=1;case 1:if(!function(t){return yg(t)&&t.Ch.length<10}(e))return[3,7];s.label=2;case 2:return s.trys.push([2,4,,6]),[4,wp(e.bh,r)];case 3:return null===(i=s.sent())?(0===e.Ch.length&&n.Xu(),[3,7]):(r=i.batchId,function(t,e){t.Ch.push(e);var n=Pg(t);n.Hu()&&n._h&&n.fh(e.mutations)}(e,i),[3,6]);case 4:return o=s.sent(),[4,Eg(e,o)];case 5:return s.sent(),[3,6];case 6:return[3,1];case 7:return Sg(e)&&Tg(e),[2]}})})}function Sg(t){return yg(t)&&!Pg(t).zu()&&t.Ch.length>0}function Tg(t){Pg(t).start()}function Cg(t){return Object(Nu.b)(this,void 0,void 0,function(){return Object(Nu.d)(this,function(e){return Pg(t).Eh(),[2]})})}function jg(t){return Object(Nu.b)(this,void 0,void 0,function(){var e,n,r;return Object(Nu.d)(this,function(i){for(e=Pg(t),n=0,r=t.Ch;n<r.length;n++)e.fh(r[n].mutations);return[2]})})}function Ag(t,e,n){return Object(Nu.b)(this,void 0,void 0,function(){var r,i;return Object(Nu.d)(this,function(o){switch(o.label){case 0:return r=t.Ch.shift(),i=cd.from(r,e,n),[4,Ig(t,function(){return t.Dh.Bh(i)})];case 1:return o.sent(),[4,xg(t)];case 2:return o.sent(),[2]}})})}function kg(t,e){return Object(Nu.b)(this,void 0,void 0,function(){return Object(Nu.d)(this,function(n){switch(n.label){case 0:return e&&Pg(t)._h?[4,function(t,e){return Object(Nu.b)(this,void 0,void 0,function(){var n,r;return Object(Nu.d)(this,function(i){switch(i.label){case 0:return ph(r=e.code)&&r!==Yu.ABORTED?(n=t.Ch.shift(),Pg(t).Yu(),[4,Ig(t,function(){return t.Dh.qh(n.batchId,e)})]):[3,3];case 1:return i.sent(),[4,xg(t)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return Sg(t)&&Tg(t),[2]}})})}function Rg(t,e){return Object(Nu.b)(this,void 0,void 0,function(){var n;return Object(Nu.d)(this,function(r){switch(r.label){case 0:return n=Bu(t),e?(n.Nh.delete(2),[4,lg(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Nh.add(2),[4,hg(n)]);case 3:r.sent(),n.Oh.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function Ng(t){var e=this;return t.Uh||(t.Uh=function(t,e,n){var r=Bu(t);return r.Ih(),new og(e,r.Qu,r.credentials,r.Qt,n)}(t.Sh,t._s,{wu:wg.bind(null,t),Tu:_g.bind(null,t),ah:Og.bind(null,t)}),t.$h.push(function(n){return Object(Nu.b)(e,void 0,void 0,function(){return Object(Nu.d)(this,function(e){switch(e.label){case 0:return n?(t.Uh.Yu(),bg(t)?vg(t):t.Oh.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Uh.stop()];case 2:e.sent(),mg(t),e.label=3;case 3:return[2]}})})})),t.Uh}function Pg(t){var e=this;return t.Qh||(t.Qh=function(t,e,n){var r=Bu(t);return r.Ih(),new sg(e,r.Qu,r.credentials,r.Qt,n)}(t.Sh,t._s,{wu:Cg.bind(null,t),Tu:kg.bind(null,t),wh:jg.bind(null,t),dh:Ag.bind(null,t)}),t.$h.push(function(n){return Object(Nu.b)(e,void 0,void 0,function(){return Object(Nu.d)(this,function(e){switch(e.label){case 0:return n?(t.Qh.Yu(),[4,xg(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Qh.stop()];case 3:e.sent(),t.Ch.length>0&&(Uu("RemoteStore","Stopping write stream with "+t.Ch.length+" pending writes"),t.Ch=[]),e.label=4;case 4:return[2]}})})})),t.Qh}var Dg=function(){this.Kh=void 0,this.listeners=[]},Mg=function(){this.queries=new kd(function(t){return Sl(t)},xl),this.onlineState="Unknown",this.Wh=new Set};function Lg(t,e){return Object(Nu.b)(this,void 0,void 0,function(){var n,r,i,o,s,a,u;return Object(Nu.d)(this,function(c){switch(c.label){case 0:if(n=Bu(t),i=!1,(o=n.queries.get(r=e.query))||(i=!0,o=new Dg),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),s=o,[4,n.jh(r)];case 2:return s.Kh=c.sent(),[3,4];case 3:return a=c.sent(),u=Mf(a,"Initialization of query '"+Tl(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.Gh(n.onlineState),o.Kh&&e.zh(o.Kh)&&Hg(n),[2]}})})}function Ug(t,e){return Object(Nu.b)(this,void 0,void 0,function(){var n,r,i,o,s;return Object(Nu.d)(this,function(a){return n=Bu(t),i=!1,(o=n.queries.get(r=e.query))&&(s=o.listeners.indexOf(e))>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.Hh(r))]:[2]})})}function Vg(t,e){for(var n=Bu(t),r=!1,i=0,o=e;i<o.length;i++){var s=o[i],a=n.queries.get(s.query);if(a){for(var u=0,c=a.listeners;u<c.length;u++)c[u].zh(s)&&(r=!0);a.Kh=s}}r&&Hg(n)}function Fg(t,e,n){var r=Bu(t),i=r.queries.get(e);if(i)for(var o=0,s=i.listeners;o<s.length;o++)s[o].onError(n);r.queries.delete(e)}function Hg(t){t.Wh.forEach(function(t){t.next()})}var qg=function(){function t(t,e,n){this.query=t,this.Jh=e,this.Yh=!1,this.Xh=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.zh=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new Ph(t.query,t.docs,t.Se,e,t.De,t.fromCache,t.Ce,!0)}var o=!1;return this.Yh?this.Zh(t)&&(this.Jh.next(t),o=!0):this.tl(t,this.onlineState)&&(this.el(t),o=!0),this.Xh=t,o},t.prototype.onError=function(t){this.Jh.error(t)},t.prototype.Gh=function(t){this.onlineState=t;var e=!1;return this.Xh&&!this.Yh&&this.tl(this.Xh,t)&&(this.el(this.Xh),e=!0),e},t.prototype.tl=function(t,e){return!t.fromCache||!(this.options.nl&&"Offline"!==e||t.docs.et()&&"Offline"!==e)},t.prototype.Zh=function(t){return t.docChanges.length>0||!!(t.Ce||this.Xh&&this.Xh.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.el=function(t){t=Ph.Ne(t.query,t.docs,t.De,t.fromCache),this.Yh=!0,this.Jh.next(t)},t}(),zg=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.sl=function(){return"metadata"in this.payload},t}(),Bg=function(){function t(t){this.Qt=t}return t.prototype.Pc=function(t){return tf(this.Qt,t)},t.prototype.yc=function(t){return t.metadata.exists?af(this.Qt,t.document,!1):new $c(this.Pc(t.metadata.name),this.gc(t.metadata.readTime))},t.prototype.gc=function(t){return Zh(t)},t}();!function(){function t(t,e,n){this.il=t,this.bh=e,this.Qt=n,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(t)}t.prototype.rl=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.ol=function(t){for(var e=new Map,n=new Bg(this.Qt),r=0,i=t;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var s=n.Pc(o.metadata.name),a=0,u=o.metadata.queries;a<u.length;a++){var c=u[a],l=(e.get(c)||jh()).add(s);e.set(c,l)}}return e},t.prototype.complete=function(){return Object(Nu.b)(this,void 0,void 0,function(){var t,e,n,r,i;return Object(Nu.d)(this,function(o){switch(o.label){case 0:return[4,Tp(this.bh,new Bg(this.Qt),this.documents,this.il.id)];case 1:t=o.sent(),e=this.ol(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?[4,Cp(this.bh,i=r[n],e.get(i.name))]:[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new cp(Object.assign({},this.progress),t))]}})})}}();var Gg=function(t){this.key=t},$g=function(t){this.key=t},Wg=function(){function t(t,e){this.query=t,this.cl=e,this.al=null,this.Be=!1,this.ul=jh(),this.De=jh(),this.hl=jl(t),this.ll=new Rh(this.hl)}return Object.defineProperty(t.prototype,"_l",{get:function(){return this.cl},enumerable:!1,configurable:!0}),t.prototype.fl=function(t,e){var n=this,r=e?e.dl:new Nh,i=e?e.ll:this.ll,o=e?e.De:this.De,s=i,a=!1,u=bl(this.query)&&i.size===this.query.limit?i.last():null,c=yl(this.query)&&i.size===this.query.limit?i.first():null;if(t.Xt(function(t,e){var l=i.get(t),h=e instanceof Gc?e:null;h&&(h=Cl(n.query,h)?h:null);var f=!!l&&n.De.has(l.key),d=!!h&&(h.Vt||n.De.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data().isEqual(h.data())?f!==d&&(r.track({type:3,doc:h}),p=!0):n.wl(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.hl(h,u)>0||c&&n.hl(h,c)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(a=!0)),p&&(h?(s=s.add(h),o=d?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))}),bl(this.query)||yl(this.query))for(;s.size>this.query.limit;){var l=bl(this.query)?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{ll:s,dl:r,lc:a,De:o}},t.prototype.wl=function(t,e){return t.Vt&&e.hasCommittedMutations&&!e.Vt},t.prototype.wi=function(t,e,n){var r=this,i=this.ll;this.ll=t.ll,this.De=t.De;var o=t.dl.ve();o.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return qu()}};return n(t)-n(e)}(t.type,e.type)||r.hl(t.doc,e.doc)}),this.El(n);var s=e?this.Tl():[],a=0===this.ul.size&&this.Be?1:0,u=a!==this.al;return this.al=a,0!==o.length||u?{snapshot:new Ph(this.query,t.ll,i,o,t.De,0===a,u,!1),Il:s}:{Il:s}},t.prototype.Gh=function(t){return this.Be&&"Offline"===t?(this.Be=!1,this.wi({ll:this.ll,dl:new Nh,De:this.De,lc:!1},!1)):{Il:[]}},t.prototype.ml=function(t){return!this.cl.has(t)&&!!this.ll.has(t)&&!this.ll.get(t).Vt},t.prototype.El=function(t){var e=this;t&&(t.qe.forEach(function(t){return e.cl=e.cl.add(t)}),t.Ue.forEach(function(t){}),t.Qe.forEach(function(t){return e.cl=e.cl.delete(t)}),this.Be=t.Be)},t.prototype.Tl=function(){var t=this;if(!this.Be)return[];var e=this.ul;this.ul=jh(),this.ll.forEach(function(e){t.ml(e.key)&&(t.ul=t.ul.add(e.key))});var n=[];return e.forEach(function(e){t.ul.has(e)||n.push(new $g(e))}),this.ul.forEach(function(t){e.has(t)||n.push(new Gg(t))}),n},t.prototype.Al=function(t){this.cl=t.Rc,this.ul=jh();var e=this.fl(t.documents);return this.wi(e,!0)},t.prototype.Rl=function(){return Ph.Ne(this.query,this.ll,this.De,0===this.al)},t}(),Qg=function(t,e,n){this.query=t,this.targetId=e,this.view=n},Jg=function(t){this.key=t,this.Pl=!1},Zg=function(){function t(t,e,n,r,i,o){this.bh=t,this.yl=e,this.gl=n,this.Vl=r,this.currentUser=i,this.pl=o,this.bl={},this.vl=new kd(function(t){return Sl(t)},xl),this.Sl=new Map,this.Dl=new Set,this.Cl=new vh(dc.H),this.xl=new Map,this.Nl=new Ap,this.$l={},this.Fl=new Map,this.Ol=Fd.Li(),this.onlineState="Unknown",this.kl=void 0}return Object.defineProperty(t.prototype,"Ml",{get:function(){return!0===this.kl},enumerable:!1,configurable:!0}),t}();function Yg(t,e){return Object(Nu.b)(this,void 0,void 0,function(){var n,r,i,o,s;return Object(Nu.d)(this,function(a){switch(a.label){case 0:return n=Sv(t),(i=n.vl.get(e))?(n.Vl.Fa(i.targetId),r=i.view.Rl(),[3,4]):[3,1];case 1:return[4,_p(n.bh,El(e))];case 2:return o=a.sent(),s=n.Vl.Fa(o.targetId),[4,Xg(n,e,o.targetId,"current"===s)];case 3:r=a.sent(),n.Ml&&fg(n.yl,o),a.label=4;case 4:return[2,r]}})})}function Xg(t,e,n,r){return Object(Nu.b)(this,void 0,void 0,function(){var i,o,s,a,u,c;return Object(Nu.d)(this,function(l){switch(l.label){case 0:return t.Ll=function(e,n,r){return function(t,e,n,r){return Object(Nu.b)(this,void 0,void 0,function(){var i,o,s;return Object(Nu.d)(this,function(a){switch(a.label){case 0:return(i=e.view.fl(n)).lc?[4,Ep(t.bh,e.query,!1).then(function(t){return e.view.fl(t.documents,i)})]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return o=r&&r.$e.get(e.targetId),s=e.view.wi(i,t.Ml,o),[2,(hv(t,e.targetId,s.Il),s.snapshot)]}})})}(t,e,n,r)},[4,Ep(t.bh,e,!0)];case 1:return i=l.sent(),o=new Wg(e,i.Rc),s=o.fl(i.documents),a=Mh.Le(n,r&&"Offline"!==t.onlineState),u=o.wi(s,t.Ml,a),hv(t,n,u.Il),c=new Qg(e,n,o),[2,(t.vl.set(e,c),t.Sl.has(n)?t.Sl.get(n).push(e):t.Sl.set(n,[e]),u.snapshot)]}})})}function Kg(t,e){return Object(Nu.b)(this,void 0,void 0,function(){var n,r,i;return Object(Nu.d)(this,function(o){switch(o.label){case 0:return n=Bu(t),r=n.vl.get(e),(i=n.Sl.get(r.targetId)).length>1?[2,(n.Sl.set(r.targetId,i.filter(function(t){return!xl(t,e)})),void n.vl.delete(e))]:n.Ml?(n.Vl.ka(r.targetId),n.Vl.Da(r.targetId)?[3,2]:[4,Op(n.bh,r.targetId,!1).then(function(){n.Vl.La(r.targetId),dg(n.yl,r.targetId),cv(n,r.targetId)}).catch(Ad)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return cv(n,r.targetId),[4,Op(n.bh,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}})})}function tv(t,e,n){return Object(Nu.b)(this,void 0,void 0,function(){var r,i,o,s;return Object(Nu.d)(this,function(a){switch(a.label){case 0:r=Tv(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(t,e){var n,r=Bu(t),i=ac.now(),o=e.reduce(function(t,e){return t.add(e.key)},jh());return r.persistence.runTransaction("Locally write mutations","readwrite",function(t){return r.Tc.Xo(t,o).next(function(o){n=o;for(var s=[],a=0,u=e;a<u.length;a++){var c=u[a],l=th(c,n.get(c.key));null!=l&&s.push(new ih(c.key,l,zc(l.proto.mapValue),Jl.exists(!0)))}return r.zo.Ri(t,i,s,e)})}).then(function(t){var e=t.xs(n);return{batchId:t.batchId,ri:e}})}(r.bh,e)];case 2:return i=a.sent(),r.Vl.Ca(i.batchId),function(t,e,n){var r=t.$l[t.currentUser.A()];r||(r=new vh(Wu)),r=r.zt(e,n),t.$l[t.currentUser.A()]=r}(r,i.batchId,n),[4,pv(r,i.ri)];case 3:return a.sent(),[4,xg(r.yl)];case 4:return a.sent(),[3,6];case 5:return o=a.sent(),s=Mf(o,"Failed to persist write"),n.reject(s),[3,6];case 6:return[2]}})})}function ev(t,e){return Object(Nu.b)(this,void 0,void 0,function(){var n,r;return Object(Nu.d)(this,function(i){switch(i.label){case 0:n=Bu(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,yp(n.bh,e)];case 2:return r=i.sent(),e.$e.forEach(function(t,e){var r=n.xl.get(e);r&&(zu(t.qe.size+t.Ue.size+t.Qe.size<=1),t.qe.size>0?r.Pl=!0:t.Ue.size>0?zu(r.Pl):t.Qe.size>0&&(zu(r.Pl),r.Pl=!1))}),[4,pv(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,Ad(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function nv(t,e,n){var r=Bu(t);if(r.Ml&&0===n||!r.Ml&&1===n){var i=[];r.vl.forEach(function(t,n){var r=n.view.Gh(e);r.snapshot&&i.push(r.snapshot)}),function(t,e){var n=Bu(t);n.onlineState=e;var r=!1;n.queries.forEach(function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].Gh(e)&&(r=!0)}),r&&Hg(n)}(r.gl,e),i.length&&r.bl.ah(i),r.onlineState=e,r.Ml&&r.Vl.Qa(e)}}function rv(t,e,n){return Object(Nu.b)(this,void 0,void 0,function(){var r,i,o,s,a,u;return Object(Nu.d)(this,function(c){switch(c.label){case 0:return(r=Bu(t)).Vl.Ba(e,"rejected",n),i=r.xl.get(e),(o=i&&i.key)?(s=(s=new vh(dc.H)).zt(o,new $c(o,uc.min())),a=jh().add(o),u=new Dh(uc.min(),new Map,new mh(Wu),s,a),[4,ev(r,u)]):[3,2];case 1:return c.sent(),r.Cl=r.Cl.remove(o),r.xl.delete(e),dv(r),[3,4];case 2:return[4,Op(r.bh,e,!1).then(function(){return cv(r,e,n)}).catch(Ad)];case 3:c.sent(),c.label=4;case 4:return[2]}})})}function iv(t,e){return Object(Nu.b)(this,void 0,void 0,function(){var n,r,i;return Object(Nu.d)(this,function(o){switch(o.label){case 0:n=Bu(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,vp(n.bh,e)];case 2:return i=o.sent(),uv(n,r,null),av(n,r),n.Vl.Na(r,"acknowledged"),[4,pv(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,Ad(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function ov(t,e,n){return Object(Nu.b)(this,void 0,void 0,function(){var r,i;return Object(Nu.d)(this,function(o){switch(o.label){case 0:r=Bu(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(t,e){var n=Bu(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(t){var r;return n.zo.Pi(t,e).next(function(e){return zu(null!==e),r=e.keys(),n.zo.Ci(t,e)}).next(function(){return n.zo.$i(t)}).next(function(){return n.Tc.Xo(t,r)})})}(r.bh,e)];case 2:return i=o.sent(),uv(r,e,n),av(r,e),r.Vl.Na(e,"rejected",n),[4,pv(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,Ad(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function sv(t,e){return Object(Nu.b)(this,void 0,void 0,function(){var n,r,i,o,s;return Object(Nu.d)(this,function(a){switch(a.label){case 0:yg((n=Bu(t)).yl)||Uu("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(t){var e=Bu(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return e.zo.Vi(t)})}(n.bh)];case 2:return-1===(r=a.sent())?[2,void e.resolve()]:((i=n.Fl.get(r)||[]).push(e),n.Fl.set(r,i),[3,4]);case 3:return o=a.sent(),s=Mf(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(s),[3,4];case 4:return[2]}})})}function av(t,e){(t.Fl.get(e)||[]).forEach(function(t){t.resolve()}),t.Fl.delete(e)}function uv(t,e,n){var r=Bu(t),i=r.$l[r.currentUser.A()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.$l[r.currentUser.A()]=i}}function cv(t,e,n){void 0===n&&(n=null),t.Vl.ka(e);for(var r=0,i=t.Sl.get(e);r<i.length;r++){var o=i[r];t.vl.delete(o),n&&t.bl.Bl(o,n)}t.Sl.delete(e),t.Ml&&t.Nl.Fc(e).forEach(function(e){t.Nl.Fi(e)||lv(t,e)})}function lv(t,e){t.Dl.delete(e.path.rt());var n=t.Cl.get(e);null!==n&&(dg(t.yl,n),t.Cl=t.Cl.remove(e),t.xl.delete(n),dv(t))}function hv(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof Gg?(t.Nl.nr(o.key,e),fv(t,o)):o instanceof $g?(Uu("SyncEngine","Document no longer in limbo: "+o.key),t.Nl.ir(o.key,e),t.Nl.Fi(o.key)||lv(t,o.key)):qu()}}function fv(t,e){var n=e.key,r=n.path.rt();t.Cl.get(n)||t.Dl.has(r)||(Uu("SyncEngine","New document in limbo: "+n),t.Dl.add(r),dv(t))}function dv(t){for(;t.Dl.size>0&&t.Cl.size<t.pl;){var e=t.Dl.values().next().value;t.Dl.delete(e);var n=new dc(lc.ot(e)),r=t.Ol.next();t.xl.set(r,new Jg(n)),t.Cl=t.Cl.zt(n,r),fg(t.yl,new kl(El(vl(n.path)),r,2,sc.q))}}function pv(t,e,n){return Object(Nu.b)(this,void 0,void 0,function(){var r,i,o,s;return Object(Nu.d)(this,function(a){switch(a.label){case 0:return r=Bu(t),i=[],o=[],s=[],r.vl.et()?[3,3]:(r.vl.forEach(function(t,a){s.push(r.Ll(a,e,n).then(function(t){if(t){r.Ml&&r.Vl.Ba(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=hp.oc(a.targetId,t);o.push(e)}}))}),[4,Promise.all(s)]);case 1:return a.sent(),r.bl.ah(i),[4,function(t,e){return Object(Nu.b)(this,void 0,void 0,function(){var n,r,i,o,s,a,u,c;return Object(Nu.d)(this,function(l){switch(l.label){case 0:n=Bu(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(t){return xf.forEach(e,function(e){return xf.forEach(e.ic,function(r){return n.persistence.Ti.nr(t,e.targetId,r)}).next(function(){return xf.forEach(e.rc,function(r){return n.persistence.Ti.ir(t,e.targetId,r)})})})})];case 2:return l.sent(),[3,4];case 3:if(!Af(r=l.sent()))throw r;return Uu("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)a=(s=o[i]).targetId,s.fromCache||(u=n.fc.get(a),c=u.Lt(u.Ot),n.fc=n.fc.zt(a,c));return[2]}})})}(r.bh,o)];case 2:a.sent(),a.label=3;case 3:return[2]}})})}function gv(t,e){return Object(Nu.b)(this,void 0,void 0,function(){var n,r;return Object(Nu.d)(this,function(i){switch(i.label){case 0:return(n=Bu(t)).currentUser.isEqual(e)?[3,3]:(Uu("SyncEngine","User change. New user:",e.A()),[4,gp(n.bh,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.Fl.forEach(function(t){t.forEach(function(t){t.reject(new Xu(Yu.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),t.Fl.clear()}(n),n.Vl.Ua(e,r.mc,r.Ac),[4,pv(n,r.Ic)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function vv(t,e){var n=Bu(t),r=n.xl.get(e);if(r&&r.Pl)return jh().add(r.key);var i=jh(),o=n.Sl.get(e);if(!o)return i;for(var s=0,a=o;s<a.length;s++){var u=n.vl.get(a[s]);i=i.Pe(u.view._l)}return i}function bv(t,e){return Object(Nu.b)(this,void 0,void 0,function(){var n,r,i;return Object(Nu.d)(this,function(o){switch(o.label){case 0:return[4,Ep((n=Bu(t)).bh,e.query,!0)];case 1:return r=o.sent(),i=e.view.Al(r),[2,(n.Ml&&hv(n,e.targetId,i.Il),i)]}})})}function yv(t){return Object(Nu.b)(this,void 0,void 0,function(){var e;return Object(Nu.d)(this,function(n){return[2,xp((e=Bu(t)).bh).then(function(t){return pv(e,t)})]})})}function mv(t,e,n,r){return Object(Nu.b)(this,void 0,void 0,function(){var i,o;return Object(Nu.d)(this,function(s){switch(s.label){case 0:return[4,function(t,e){var n=Bu(t),r=Bu(n.zo);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(t){return r.yi(t,e).next(function(e){return e?n.Tc.Xo(t,e):xf.resolve(null)})})}((i=Bu(t)).bh,e)];case 1:return null===(o=s.sent())?[3,6]:"pending"!==n?[3,3]:[4,xg(i.yl)];case 2:return s.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(uv(i,e,r||null),av(i,e),function(t,e){Bu(Bu(t).zo).xi(e)}(i.bh,e)):qu(),s.label=4;case 4:return[4,pv(i,o)];case 5:return s.sent(),[3,7];case 6:Uu("SyncEngine","Cannot apply mutation batch with id: "+e),s.label=7;case 7:return[2]}})})}function wv(t,e){return Object(Nu.b)(this,void 0,void 0,function(){var n,r,i,o,s,a,u;return Object(Nu.d)(this,function(c){switch(c.label){case 0:return Sv(n=Bu(t)),Tv(n),!0!==e||!0===n.kl?[3,3]:(r=n.Vl.va(),[4,_v(n,r.it())]);case 1:return i=c.sent(),n.kl=!0,[4,Rg(n.yl,!0)];case 2:for(c.sent(),o=0,s=i;o<s.length;o++)fg(n.yl,s[o]);return[3,7];case 3:return!1!==e||!1===n.kl?[3,7]:(a=[],u=Promise.resolve(),n.Sl.forEach(function(t,e){n.Vl.Ma(e)?a.push(e):u=u.then(function(){return cv(n,e),Op(n.bh,e,!0)}),dg(n.yl,e)}),[4,u]);case 4:return c.sent(),[4,_v(n,a)];case 5:return c.sent(),function(t){var e=Bu(t);e.xl.forEach(function(t,n){dg(e.yl,n)}),e.Nl.Oc(),e.xl=new Map,e.Cl=new vh(dc.H)}(n),n.kl=!1,[4,Rg(n.yl,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}})})}function _v(t,e,n){return Object(Nu.b)(this,void 0,void 0,function(){var n,r,i,o,s,a,u,c,l,h,f,d,p;return Object(Nu.d)(this,function(g){switch(g.label){case 0:n=Bu(t),r=[],i=[],o=0,s=e,g.label=1;case 1:return o<s.length?(u=void 0,(c=n.Sl.get(a=s[o]))&&0!==c.length?[4,_p(n.bh,El(c[0]))]:[3,7]):[3,13];case 2:u=g.sent(),l=0,h=c,g.label=3;case 3:return l<h.length?(f=n.vl.get(h[l]),[4,bv(n,f)]):[3,6];case 4:(d=g.sent()).snapshot&&i.push(d.snapshot),g.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,Ip(n.bh,a)];case 8:return p=g.sent(),[4,_p(n.bh,p)];case 9:return u=g.sent(),[4,Xg(n,Ov(p),a,!1)];case 10:g.sent(),g.label=11;case 11:r.push(u),g.label=12;case 12:return o++,[3,1];case 13:return[2,(n.bl.ah(i),r)]}})})}function Ov(t){return gl(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Ev(t){var e=Bu(t);return Bu(Bu(e.bh).persistence).Uo()}function Iv(t,e,n,r){return Object(Nu.b)(this,void 0,void 0,function(){var i,o,s;return Object(Nu.d)(this,function(a){switch(a.label){case 0:return(i=Bu(t)).kl?(Uu("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Sl.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,xp(i.bh)];case 3:return o=a.sent(),s=Dh.Me(e,"current"===n),[4,pv(i,o,s)];case 4:return a.sent(),[3,8];case 5:return[4,Op(i.bh,e,!0)];case 6:return a.sent(),cv(i,e,r),[3,8];case 7:qu(),a.label=8;case 8:return[2]}})})}function xv(t,e,n){return Object(Nu.b)(this,void 0,void 0,function(){var r,i,o,s,a,u,c,l,h;return Object(Nu.d)(this,function(f){switch(f.label){case 0:if(!(r=Sv(t)).kl)return[3,10];i=0,o=e,f.label=1;case 1:return i<o.length?r.Sl.has(s=o[i])?(Uu("SyncEngine","Adding an already active target "+s),[3,5]):[4,Ip(r.bh,s)]:[3,6];case 2:return a=f.sent(),[4,_p(r.bh,a)];case 3:return u=f.sent(),[4,Xg(r,Ov(a),u.targetId,!1)];case 4:f.sent(),fg(r.yl,u),f.label=5;case 5:return i++,[3,1];case 6:c=function(t){return Object(Nu.d)(this,function(e){switch(e.label){case 0:return r.Sl.has(t)?[4,Op(r.bh,t,!1).then(function(){dg(r.yl,t),cv(r,t)}).catch(Ad)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})},l=0,h=n,f.label=7;case 7:return l<h.length?[5,c(h[l])]:[3,10];case 8:f.sent(),f.label=9;case 9:return l++,[3,7];case 10:return[2]}})})}function Sv(t){var e=Bu(t);return e.yl.Dh.Lh=ev.bind(null,e),e.yl.Dh.vn=vv.bind(null,e),e.yl.Dh.Mh=rv.bind(null,e),e.bl.ah=Vg.bind(null,e.gl),e.bl.Bl=Fg.bind(null,e.gl),e}function Tv(t){var e=Bu(t);return e.yl.Dh.Bh=iv.bind(null,e),e.yl.Dh.qh=ov.bind(null,e),e}var Cv=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(Nu.b)(this,void 0,void 0,function(){return Object(Nu.d)(this,function(e){switch(e.label){case 0:return this.Qt=ng(t.yu.t),this.Vl=this.Wl(t),this.persistence=this.jl(t),[4,this.persistence.start()];case 1:return e.sent(),this.Gl=this.zl(t),this.bh=this.Hl(t),[2]}})})},t.prototype.zl=function(t){return null},t.prototype.Hl=function(t){return pp(this.persistence,new fp,t.Jl,this.Qt)},t.prototype.jl=function(t){return new Mp(Up.ia,this.Qt)},t.prototype.Wl=function(t){return new Qp},t.prototype.terminate=function(){return Object(Nu.b)(this,void 0,void 0,function(){return Object(Nu.d)(this,function(t){switch(t.label){case 0:return this.Gl&&this.Gl.stop(),[4,this.Vl.ko()];case 1:return t.sent(),[4,this.persistence.ko()];case 2:return t.sent(),[2]}})})},t}(),jv=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Yl=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(Nu.c)(e,t),e.prototype.initialize=function(e){return Object(Nu.b)(this,void 0,void 0,function(){return Object(Nu.d)(this,function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,Sp(this.bh)];case 2:return n.sent(),[4,this.Yl.initialize(this,e)];case 3:return n.sent(),[4,Tv(this.Yl._a)];case 4:return n.sent(),[4,xg(this.Yl.yl)];case 5:return n.sent(),[2]}})})},e.prototype.Hl=function(t){return pp(this.persistence,new fp,t.Jl,this.Qt)},e.prototype.zl=function(t){return new Wd(this.persistence.Ti.lr,t._s)},e.prototype.jl=function(t){var e=up(t.yu.t,t.yu.persistenceKey),n=void 0!==this.cacheSizeBytes?jd.Ys(this.cacheSizeBytes):jd.ti;return new op(this.synchronizeTabs,e,t.clientId,n,t._s,tg(),eg(),this.Qt,this.Vl,!!this.forceOwnership)},e.prototype.Wl=function(t){return new Qp},e}(Cv),Av=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Yl=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(Nu.c)(e,t),e.prototype.initialize=function(e){return Object(Nu.b)(this,void 0,void 0,function(){var n,r=this;return Object(Nu.d)(this,function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Yl._a,this.Vl instanceof Wp?(this.Vl._a={eu:mv.bind(null,n),nu:Iv.bind(null,n),su:xv.bind(null,n),Uo:Ev.bind(null,n),tu:yv.bind(null,n)},[4,this.Vl.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.Ro(function(t){return Object(Nu.b)(r,void 0,void 0,function(){return Object(Nu.d)(this,function(e){switch(e.label){case 0:return[4,wv(this.Yl._a,t)];case 1:return e.sent(),this.Gl&&(t&&!this.Gl.Er?this.Gl.start(this.bh):t||this.Gl.stop()),[2]}})})})];case 4:return i.sent(),[2]}})})},e.prototype.Wl=function(t){var e=tg();if(!Wp.Kn(e))throw new Xu(Yu.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=up(t.yu.t,t.yu.persistenceKey);return new Wp(e,t._s,n,t.clientId,t.Jl)},e}(jv),kv=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(Nu.b)(this,void 0,void 0,function(){var n=this;return Object(Nu.d)(this,function(r){switch(r.label){case 0:return this.bh?[3,2]:(this.bh=t.bh,this.Vl=t.Vl,this.Sh=this.Xl(e),this.yl=this.Zl(e),this.gl=this.t_(e),this._a=this.e_(e,!t.synchronizeTabs),this.Vl.fa=function(t){return nv(n._a,t,1)},this.yl.Dh.n_=gv.bind(null,this._a),[4,Rg(this.yl,this._a.Ml)]);case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.t_=function(t){return new Mg},t.prototype.Xl=function(t){var e=ng(t.yu.t),n=new Kp(t.yu);return function(t,e,n){return new ag(t,e,n)}(t.credentials,n,e)},t.prototype.Zl=function(t){var e,n,r,i,o,s=this;return e=this.bh,n=this.Sh,r=t._s,i=function(t){return nv(s._a,t,0)},o=Zp.Kn()?new Zp:new Jp,new cg(e,n,r,i,o)},t.prototype.e_=function(t,e){return function(t,e,n,r,i,o,s){var a=new Zg(t,e,n,r,i,o);return s&&(a.kl=!0),a}(this.bh,this.yl,this.gl,this.Vl,t.Jl,t.pl,e)},t.prototype.terminate=function(){return function(t){return Object(Nu.b)(this,void 0,void 0,function(){var e;return Object(Nu.d)(this,function(n){switch(n.label){case 0:return e=Bu(t),Uu("RemoteStore","RemoteStore shutting down."),e.Nh.add(5),[4,hg(e)];case 1:return n.sent(),e.Fh.ko(),e.Oh.set("Unknown"),[2]}})})}(this.yl)},t}(),Rv=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.s_(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.s_(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.i_=function(){this.muted=!0},t.prototype.s_=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),Nv=(function(){function t(t,e){var n=this;this.r_=t,this.Qt=e,this.metadata=new If,this.buffer=new Uint8Array,this.o_=new TextDecoder("utf-8"),this.c_().then(function(t){t&&t.sl()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))},function(t){return n.metadata.reject(t)})}t.prototype.close=function(){return this.r_.cancel()},t.prototype.getMetadata=function(){return Object(Nu.b)(this,void 0,void 0,function(){return Object(Nu.d)(this,function(t){return[2,this.metadata.promise]})})},t.prototype.Ql=function(){return Object(Nu.b)(this,void 0,void 0,function(){return Object(Nu.d)(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.c_())]}})})},t.prototype.c_=function(){return Object(Nu.b)(this,void 0,void 0,function(){var t,e,n,r;return Object(Nu.d)(this,function(i){switch(i.label){case 0:return[4,this.a_()];case 1:return null===(t=i.sent())?[2,null]:(e=this.o_.decode(t),n=Number(e),isNaN(n)&&this.u_("length string ("+e+") is not valid number"),[4,this.h_(n)]);case 2:return r=i.sent(),[2,new zg(JSON.parse(r),t.length+n)]}})})},t.prototype.l_=function(){return this.buffer.findIndex(function(t){return t==="{".charCodeAt(0)})},t.prototype.a_=function(){return Object(Nu.b)(this,void 0,void 0,function(){var t,e;return Object(Nu.d)(this,function(n){switch(n.label){case 0:return this.l_()<0?[4,this.__()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.l_())<0&&this.u_("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}})})},t.prototype.h_=function(t){return Object(Nu.b)(this,void 0,void 0,function(){var e;return Object(Nu.d)(this,function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.__()]:[3,3];case 1:n.sent()&&this.u_("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.o_.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}})})},t.prototype.u_=function(t){throw this.r_.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.__=function(){return Object(Nu.b)(this,void 0,void 0,function(){var t,e;return Object(Nu.d)(this,function(n){switch(n.label){case 0:return[4,this.r_.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}})})}}(),function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new Xu(Yu.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.f_=new fc(t)}return t.prototype.isEqual=function(t){return this.f_.isEqual(t.f_)},t}()),Pv=function(t){this._methodName=t},Dv=function(t){this.d_=t};function Mv(t,e,n){if(!n)throw new Xu(Yu.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function Lv(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Xu(Yu.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function Uv(t,e,n,r){if(!0===e&&!0===r)throw new Xu(Yu.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function Vv(t){if(!dc.wt(t))throw new Xu(Yu.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function Fv(t){if(dc.wt(t))throw new Xu(Yu.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function Hv(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":qu()}function qv(t,e){if("_delegate"in t&&(t=t.d_),!(t instanceof e)){if(e.name===t.constructor.name)throw new Xu(Yu.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Hv(t);throw new Xu(Yu.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function zv(t,e){if(e<=0)throw new Xu(Yu.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var Bv=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Xu(Yu.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Xu(Yu.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,Uv("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),Gv=new Map,$v=function(){function t(t,e){this.w_="(lite)",this.E_=new Bv({}),this.T_=!1,t instanceof Du?(this.I_=t,this.m_=new nc):(this.A_=t,this.I_=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Xu(Yu.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Du(t.options.projectId)}(t),this.m_=new rc(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this.A_)throw new Xu(Yu.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.A_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"R_",{get:function(){return this.T_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"P_",{get:function(){return void 0!==this.y_},enumerable:!1,configurable:!0}),t.prototype.g_=function(t){if(this.T_)throw new Xu(Yu.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this.E_=new Bv(t),void 0!==t.credentials&&(this.m_=function(t){if(!t)return new nc;switch(t.type){case"gapi":var e=t.client;return zu(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new oc(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new Xu(Yu.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype.V_=function(){return this.E_},t.prototype.p_=function(){return this.T_=!0,this.E_},t.prototype._delete=function(){return this.y_||(this.y_=this.b_()),this.y_},t.prototype.toJSON=function(){return{app:this.A_,t:this.I_,settings:this.E_}},t.prototype.b_=function(){return(t=Gv.get(this))&&(Uu("ComponentProvider","Removing Datastore"),Gv.delete(this),t.terminate()),Promise.resolve();var t},t}(),Wv=function(){function t(t,e,n){this.v_=e,this.S_=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"D_",{get:function(){return this.S_.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.tt()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.S_.path.rt()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Jv(this.firestore,this.v_,this.S_.path.X())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this.S_)},t}(),Qv=function(){function t(t,e,n){this.v_=e,this.C_=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this.C_)},t}(),Jv=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,vl(r))||this).firestore=e,i.D_=r,i.type="collection",i}return Object(Nu.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.C_.path.tt()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.C_.path.rt()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.D_.X();return t.et()?null:new Wv(this.firestore,null,new dc(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this.D_)},e}(Qv);function Zv(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof Dv&&(t=t.d_),Mv("collection","path",e),t instanceof $v)return Fv(n=lc.ot.apply(lc,Object(Nu.g)([e],r))),new Jv(t,null,n);if(!(t instanceof Wv||t instanceof Jv))throw new Xu(Yu.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Fv(n=lc.ot.apply(lc,Object(Nu.g)([t.path],r)).child(lc.ot(e))),new Jv(t.firestore,null,n)}function Yv(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof Dv&&(t=t.d_),1===arguments.length&&(e=$u.u()),Mv("doc","path",e),t instanceof $v)return Vv(n=lc.ot.apply(lc,Object(Nu.g)([e],r))),new Wv(t,null,new dc(n));if(!(t instanceof Wv||t instanceof Jv))throw new Xu(Yu.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Vv(n=t.D_.child(lc.ot.apply(lc,Object(Nu.g)([e],r)))),new Wv(t.firestore,t instanceof Jv?t.v_:null,new dc(n))}function Xv(t,e){return t instanceof Dv&&(t=t.d_),e instanceof Dv&&(e=e.d_),(t instanceof Wv||t instanceof Jv)&&(e instanceof Wv||e instanceof Jv)&&t.firestore===e.firestore&&t.path===e.path&&t.v_===e.v_}function Kv(t,e){return t instanceof Dv&&(t=t.d_),e instanceof Dv&&(e=e.d_),t instanceof Qv&&e instanceof Qv&&t.firestore===e.firestore&&xl(t.C_,e.C_)&&t.v_===e.v_}var tb=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new Xu(Yu.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Xu(Yu.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.x_=t,this.N_=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.x_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.N_},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.x_===t.x_&&this.N_===t.N_},t.prototype.toJSON=function(){return{latitude:this.x_,longitude:this.N_}},t.prototype.U=function(t){return Wu(this.x_,t.x_)||Wu(this.N_,t.N_)},t}(),eb=/^__.*__$/,nb=function(){function t(t,e,n){this.data=t,this.Gt=e,this.fieldTransforms=n}return t.prototype.F_=function(t,e){return null!==this.Gt?new ih(t,this.data,this.Gt,e,this.fieldTransforms):new rh(t,this.data,e,this.fieldTransforms)},t}(),rb=function(){function t(t,e,n){this.data=t,this.Gt=e,this.fieldTransforms=n}return t.prototype.F_=function(t,e){return new ih(t,this.data,this.Gt,e,this.fieldTransforms)},t}();function ib(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw qu()}}var ob=function(){function t(t,e,n,r,i,o){this.settings=t,this.t=e,this.Qt=n,this.ignoreUndefinedProperties=r,void 0===i&&this.O_(),this.fieldTransforms=i||[],this.Gt=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k_",{get:function(){return this.settings.k_},enumerable:!1,configurable:!0}),t.prototype.M_=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.t,this.Qt,this.ignoreUndefinedProperties,this.fieldTransforms,this.Gt)},t.prototype.L_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.M_({path:n,B_:!1});return r.q_(t),r},t.prototype.U_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.M_({path:n,B_:!1});return r.O_(),r},t.prototype.Q_=function(t){return this.M_({path:void 0,B_:!0})},t.prototype.K_=function(t){return xb(t,this.settings.methodName,this.settings.W_||!1,this.path,this.settings.j_)},t.prototype.contains=function(t){return void 0!==this.Gt.find(function(e){return t.nt(e)})||void 0!==this.fieldTransforms.find(function(e){return t.nt(e.field)})},t.prototype.O_=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.q_(this.path.get(t))},t.prototype.q_=function(t){if(0===t.length)throw this.K_("Document fields must not be empty");if(ib(this.k_)&&eb.test(t))throw this.K_('Document fields cannot begin and end with "__"')},t}(),sb=function(){function t(t,e,n){this.t=t,this.ignoreUndefinedProperties=e,this.Qt=n||ng(t)}return t.prototype.G_=function(t,e,n,r){return void 0===r&&(r=!1),new ob({k_:t,methodName:e,j_:n,path:fc.ct(),B_:!1,W_:r},this.t,this.Qt,this.ignoreUndefinedProperties)},t}();function ab(t){var e=t.p_(),n=ng(t.I_);return new sb(t.I_,!!e.ignoreUndefinedProperties,n)}function ub(t,e,n,r,i,o){void 0===o&&(o={});var s=t.G_(o.merge||o.mergeFields?2:0,e,n,i);_b("Data must be an object, but it was:",s,r);var a,u,c=mb(r,s);if(o.merge)a=new bc(s.Gt),u=s.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,f=o.mergeFields;h<f.length;h++){var d=Ob(e,f[h],n);if(!s.contains(d))throw new Xu(Yu.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");Sb(l,d)||l.push(d)}a=new bc(l),u=s.fieldTransforms.filter(function(t){return a.Tt(t.field)})}else a=null,u=s.fieldTransforms;return new nb(new Hc(c),a,u)}var cb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Nu.c)(e,t),e.prototype.z_=function(t){if(2!==t.k_)throw t.K_(1===t.k_?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.Gt.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(Pv);function lb(t,e,n){return new ob({k_:3,j_:e.settings.j_,methodName:t._methodName,B_:n},e.t,e.Qt,e.ignoreUndefinedProperties)}var hb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Nu.c)(e,t),e.prototype.z_=function(t){return new Wl(t.path,new Vl)},e.prototype.isEqual=function(t){return t instanceof e},e}(Pv),fb=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).H_=n,r}return Object(Nu.c)(e,t),e.prototype.z_=function(t){var e=lb(this,t,!0),n=this.H_.map(function(t){return yb(t,e)}),r=new Fl(n);return new Wl(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Pv),db=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).H_=n,r}return Object(Nu.c)(e,t),e.prototype.z_=function(t){var e=lb(this,t,!0),n=this.H_.map(function(t){return yb(t,e)}),r=new ql(n);return new Wl(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Pv),pb=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).J_=n,r}return Object(Nu.c)(e,t),e.prototype.z_=function(t){var e=new Bl(t.Qt,Pl(t.Qt,this.J_));return new Wl(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(Pv);function gb(t,e,n,r){var i=t.G_(1,e,n);_b("Data must be an object, but it was:",i,r);var o=[],s=new qc;gc(r,function(t,r){var a=Ib(e,t,n);r instanceof Dv&&(r=r.d_);var u=i.U_(a);if(r instanceof cb)o.push(a);else{var c=yb(r,u);null!=c&&(o.push(a),s.set(a,c))}});var a=new bc(o);return new rb(s.Pt(),a,i.fieldTransforms)}function vb(t,e,n,r,i,o){var s=t.G_(1,e,n),a=[Ob(e,r,n)],u=[i];if(o.length%2!=0)throw new Xu(Yu.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)a.push(Ob(e,o[c])),u.push(o[c+1]);for(var l=[],h=new qc,f=a.length-1;f>=0;--f)if(!Sb(l,a[f])){var d=a[f],p=u[f];p instanceof Dv&&(p=p.d_);var g=s.U_(d);if(p instanceof cb)l.push(d);else{var v=yb(p,g);null!=v&&(l.push(d),h.set(d,v))}}var b=new bc(l);return new rb(h.Pt(),b,s.fieldTransforms)}function bb(t,e,n,r){return void 0===r&&(r=!1),yb(n,t.G_(r?4:3,e))}function yb(t,e){if(t instanceof Dv&&(t=t.d_),wb(t))return _b("Unsupported field value:",e,t),mb(t,e);if(t instanceof Pv)return function(t,e){if(!ib(e.k_))throw e.K_(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.K_(t._methodName+"() is not currently supported inside arrays");var n=t.z_(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.Gt.push(e.path),t instanceof Array){if(e.settings.B_&&4!==e.k_)throw e.K_("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var s=yb(o[i],e.Q_(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(t instanceof Dv&&(t=t.d_),null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Pl(e.Qt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=ac.fromDate(t);return{timestampValue:Wh(e.Qt,n)}}if(t instanceof ac)return n=new ac(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:Wh(e.Qt,n)};if(t instanceof tb)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Ku)return{bytesValue:Qh(e.Qt,t.I)};if(t instanceof Wv){var r=t.firestore.I_;if(!r.isEqual(n=e.t))throw e.K_("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:Yh(t.firestore.I_||e.t,t.S_.path)}}throw e.K_("Unsupported field value: "+Hv(t))}(t,e)}function mb(t,e){var n={};return vc(t)?e.path&&e.path.length>0&&e.Gt.push(e.path):gc(t,function(t,r){var i=yb(r,e.L_(t));null!=i&&(n[t]=i)}),{mapValue:{fields:n}}}function wb(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof ac||t instanceof tb||t instanceof Ku||t instanceof Wv||t instanceof Pv)}function _b(t,e,n){if(!wb(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=Hv(n);throw e.K_("an object"===r?t+" a custom object":t+" "+r)}}function Ob(t,e,n){if(e instanceof Dv&&(e=e.d_),e instanceof Nv)return e.f_;if("string"==typeof e)return Ib(t,e);throw xb("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var Eb=new RegExp("[~\\*/\\[\\]]");function Ib(t,e,n){if(e.search(Eb)>=0)throw xb("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(Nv.bind.apply(Nv,Object(Nu.g)([void 0],e.split("."))))).f_}catch(r){throw xb("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function xb(t,e,n,r,i){var o=r&&!r.et(),s=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(o||s)&&(u+=" (found",o&&(u+=" in field "+r),s&&(u+=" in document "+i),u+=")"),new Xu(Yu.INVALID_ARGUMENT,(a+=". ")+t+u)}function Sb(t,e){return t.some(function(t){return t.isEqual(e)})}var Tb=function(){function t(t){this.Sh=t,this.Y_=new Map,this.mutations=[],this.X_=!1,this.Z_=null,this.tf=new Set}return t.prototype.ef=function(t){return Object(Nu.b)(this,void 0,void 0,function(){var e,n=this;return Object(Nu.d)(this,function(r){switch(r.label){case 0:if(this.nf(),this.mutations.length>0)throw new Xu(Yu.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(Nu.b)(this,void 0,void 0,function(){var n,r,i,o,s,a;return Object(Nu.d)(this,function(u){switch(u.label){case 0:return n=Bu(t),r=rf(n.Qt)+"/documents",i={documents:e.map(function(t){return Kh(n.Qt,t)})},[4,n.Du("BatchGetDocuments",r,i)];case 1:return o=u.sent(),s=new Map,o.forEach(function(t){var e=function(t,e){return"found"in e?function(t,e){zu(!!e.found);var n=tf(t,e.found.name),r=Zh(e.found.updateTime),i=new Hc({mapValue:{fields:e.found.fields}});return new Gc(n,r,i,{})}(t,e):"missing"in e?function(t,e){zu(!!e.missing),zu(!!e.readTime);var n=tf(t,e.missing),r=Zh(e.readTime);return new $c(n,r)}(t,e):qu()}(n.Qt,t);s.set(e.key.toString(),e)}),a=[],[2,(e.forEach(function(t){var e=s.get(t.toString());zu(!!e),a.push(e)}),a)]}})})}(this.Sh,t)];case 1:return[2,((e=r.sent()).forEach(function(t){t instanceof $c||t instanceof Gc?n.sf(t):qu()}),e)]}})})},t.prototype.set=function(t,e){this.write(e.F_(t,this.jt(t))),this.tf.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.F_(t,this.rf(t)))}catch(t){this.Z_=t}this.tf.add(t.toString())},t.prototype.delete=function(t){this.write(new hh(t,this.jt(t))),this.tf.add(t.toString())},t.prototype.commit=function(){return Object(Nu.b)(this,void 0,void 0,function(){var t,e=this;return Object(Nu.d)(this,function(n){switch(n.label){case 0:if(this.nf(),this.Z_)throw this.Z_;return t=this.Y_,this.mutations.forEach(function(e){t.delete(e.key.toString())}),t.forEach(function(t,n){var r=dc._t(n);e.mutations.push(new fh(r,e.jt(r)))}),[4,function(t,e){return Object(Nu.b)(this,void 0,void 0,function(){var n,r,i;return Object(Nu.d)(this,function(o){switch(o.label){case 0:return n=Bu(t),r=rf(n.Qt)+"/documents",i={writes:e.map(function(t){return uf(n.Qt,t)})},[4,n.pu("Commit",r,i)];case 1:return o.sent(),[2]}})})}(this.Sh,this.mutations)];case 1:return n.sent(),this.X_=!0,[2]}})})},t.prototype.sf=function(t){var e;if(t instanceof Gc)e=t.version;else{if(!(t instanceof $c))throw qu();e=uc.min()}var n=this.Y_.get(t.key.toString());if(n){if(!e.isEqual(n))throw new Xu(Yu.ABORTED,"Document version changed between two reads.")}else this.Y_.set(t.key.toString(),e)},t.prototype.jt=function(t){var e=this.Y_.get(t.toString());return!this.tf.has(t.toString())&&e?Jl.updateTime(e):Jl.Kt()},t.prototype.rf=function(t){var e=this.Y_.get(t.toString());if(!this.tf.has(t.toString())&&e){if(e.isEqual(uc.min()))throw new Xu(Yu.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Jl.updateTime(e)}return Jl.exists(!0)},t.prototype.write=function(t){this.nf(),this.mutations.push(t)},t.prototype.nf=function(){},t}(),Cb=function(){function t(t,e,n,r){this._s=t,this.Sh=e,this.updateFunction=n,this.Es=r,this.cf=5,this.Gu=new rg(this._s,"transaction_retry")}return t.prototype.run=function(){this.af()},t.prototype.af=function(){var t=this;this.Gu.Lu(function(){return Object(Nu.b)(t,void 0,void 0,function(){var t,e,n=this;return Object(Nu.d)(this,function(r){return t=new Tb(this.Sh),(e=this.uf(t))&&e.then(function(e){n._s.Ps(function(){return t.commit().then(function(){n.Es.resolve(e)}).catch(function(t){n.hf(t)})})}).catch(function(t){n.hf(t)}),[2]})})})},t.prototype.uf=function(t){try{var e=this.updateFunction(t);return!xc(e)&&e.catch&&e.then?e:(this.Es.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.Es.reject(t),null}},t.prototype.hf=function(t){var e=this;this.cf>0&&this.lf(t)?(this.cf-=1,this._s.Ps(function(){return e.af(),Promise.resolve()})):this.Es.reject(t)},t.prototype.lf=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!ph(e)}return!1},t}(),jb=function(){function t(t,e,n){var r=this;this.credentials=t,this._s=e,this.yu=n,this.user=tc.UNAUTHENTICATED,this.clientId=$u.u(),this._f=function(){},this.C=new If,this.credentials.v(function(t){Uu("FirestoreClient","Received user=",t.uid),r.user=t,r._f(t),r.C.resolve()})}return t.prototype.getConfiguration=function(){return Object(Nu.b)(this,void 0,void 0,function(){return Object(Nu.d)(this,function(t){switch(t.label){case 0:return[4,this.C.promise];case 1:return[2,(t.sent(),{_s:this._s,yu:this.yu,clientId:this.clientId,credentials:this.credentials,Jl:this.user,pl:100})]}})})},t.prototype.ff=function(t){var e=this;this._f=t,this.C.promise.then(function(){return e._f(e.user)})},t.prototype.df=function(){if(this._s.wf)throw new Xu(Yu.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this._s.Ef();var e=new If;return this._s.Tf(function(){return Object(Nu.b)(t,void 0,void 0,function(){var t,n;return Object(Nu.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.If?[4,this.If.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.mf?[4,this.mf.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.S(),e.resolve(),[3,6];case 5:return t=r.sent(),n=Mf(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}})})}),e.promise},t}();function Ab(t,e){return Object(Nu.b)(this,void 0,void 0,function(){var n,r,i=this;return Object(Nu.d)(this,function(o){switch(o.label){case 0:return t._s.Af(),Uu("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.Jl,t.ff(function(n){r.isEqual(n)||(r=n,t._s.po(function(){return Object(Nu.b)(i,void 0,void 0,function(){return Object(Nu.d)(this,function(t){switch(t.label){case 0:return[4,gp(e.bh,n)];case 1:return t.sent(),[2]}})})}))}),e.persistence.Po(function(){return t.terminate()}),t.mf=e,[2]}})})}function kb(t,e){return Object(Nu.b)(this,void 0,void 0,function(){var n,r;return Object(Nu.d)(this,function(i){switch(i.label){case 0:return t._s.Af(),[4,Rb(t)];case 1:return n=i.sent(),Uu("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.ff(function(n){return t._s.po(function(){return function(t,e){return Object(Nu.b)(this,void 0,void 0,function(){var n,r;return Object(Nu.d)(this,function(i){switch(i.label){case 0:return(n=Bu(t))._s.Af(),Uu("RemoteStore","RemoteStore received new credentials"),r=yg(n),n.Nh.add(3),[4,hg(n)];case 1:return i.sent(),r&&n.Oh.set("Unknown"),[4,n.Dh.n_(e)];case 2:return i.sent(),n.Nh.delete(3),[4,lg(n)];case 3:return i.sent(),[2]}})})}(e.yl,n)})}),t.If=e,[2]}})})}function Rb(t){return Object(Nu.b)(this,void 0,void 0,function(){return Object(Nu.d)(this,function(e){switch(e.label){case 0:return t.mf?[3,2]:(Uu("FirestoreClient","Using default OfflineComponentProvider"),[4,Ab(t,new Cv)]);case 1:e.sent(),e.label=2;case 2:return[2,t.mf]}})})}function Nb(t){return Object(Nu.b)(this,void 0,void 0,function(){return Object(Nu.d)(this,function(e){switch(e.label){case 0:return t.If?[3,2]:(Uu("FirestoreClient","Using default OnlineComponentProvider"),[4,kb(t,new kv)]);case 1:e.sent(),e.label=2;case 2:return[2,t.If]}})})}function Pb(t){return Rb(t).then(function(t){return t.persistence})}function Db(t){return Rb(t).then(function(t){return t.bh})}function Mb(t){return Nb(t).then(function(t){return t.yl})}function Lb(t){return Nb(t).then(function(t){return t._a})}function Ub(t){return Object(Nu.b)(this,void 0,void 0,function(){var e,n;return Object(Nu.d)(this,function(r){switch(r.label){case 0:return[4,Nb(t)];case 1:return e=r.sent(),[2,((n=e.gl).jh=Yg.bind(null,e._a),n.Hh=Kg.bind(null,e._a),n)]}})})}function Vb(t,e,n){var r=this;void 0===n&&(n={});var i=new If;return t._s.Ps(function(){return Object(Nu.b)(r,void 0,void 0,function(){var r;return Object(Nu.d)(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new Rv({next:function(o){e.Ps(function(){return Ug(t,s)});var a=o.docs.has(n);!a&&o.fromCache?i.reject(new Xu(Yu.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new Xu(Yu.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),s=new qg(vl(n.path),o,{includeMetadataChanges:!0,nl:!0});return Lg(t,s)},[4,Ub(t)];case 1:return[2,r.apply(void 0,[o.sent(),t._s,e,n,i])]}})})}),i.promise}function Fb(t,e,n){var r=this;void 0===n&&(n={});var i=new If;return t._s.Ps(function(){return Object(Nu.b)(r,void 0,void 0,function(){var r;return Object(Nu.d)(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new Rv({next:function(n){e.Ps(function(){return Ug(t,s)}),n.fromCache&&"server"===r.source?i.reject(new Xu(Yu.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),s=new qg(n,o,{includeMetadataChanges:!0,nl:!0});return Lg(t,s)},[4,Ub(t)];case 1:return[2,r.apply(void 0,[o.sent(),t._s,e,n,i])]}})})}),i.promise}var Hb=function(){function t(){var t=this;this.Rf=Promise.resolve(),this.Pf=[],this.yf=!1,this.gf=[],this.Vf=null,this.pf=!1,this.bf=[],this.Gu=new rg(this,"async_queue_retry"),this.vf=function(){var e=eg();e&&Uu("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Gu.qu()};var e=eg();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.vf)}return Object.defineProperty(t.prototype,"wf",{get:function(){return this.yf},enumerable:!1,configurable:!0}),t.prototype.Ps=function(t){this.enqueue(t)},t.prototype.Tf=function(t){this.Sf(),this.Df(t)},t.prototype.Ef=function(){if(!this.yf){this.yf=!0;var t=eg();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.vf)}},t.prototype.enqueue=function(t){return this.Sf(),this.yf?new Promise(function(t){}):this.Df(t)},t.prototype.po=function(t){var e=this;this.Ps(function(){return e.Pf.push(t),e.Cf()})},t.prototype.Cf=function(){return Object(Nu.b)(this,void 0,void 0,function(){var t,e=this;return Object(Nu.d)(this,function(n){switch(n.label){case 0:if(0===this.Pf.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.Pf[0]()];case 2:return n.sent(),this.Pf.shift(),this.Gu.reset(),[3,4];case 3:if(!Af(t=n.sent()))throw t;return Uu("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.Pf.length>0&&this.Gu.Lu(function(){return e.Cf()}),n.label=5;case 5:return[2]}})})},t.prototype.Df=function(t){var e=this,n=this.Rf.then(function(){return e.pf=!0,t().catch(function(t){throw e.Vf=t,e.pf=!1,Vu("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t}).then(function(t){return e.pf=!1,t})});return this.Rf=n,n},t.prototype.Tr=function(t,e,n){var r=this;this.Sf(),this.bf.indexOf(t)>-1&&(e=0);var i=Df.Ts(this,t,e,n,function(t){return r.xf(t)});return this.gf.push(i),i},t.prototype.Sf=function(){this.Vf&&qu()},t.prototype.Af=function(){},t.prototype.Nf=function(){return Object(Nu.b)(this,void 0,void 0,function(){var t;return Object(Nu.d)(this,function(e){switch(e.label){case 0:return[4,t=this.Rf];case 1:e.sent(),e.label=2;case 2:if(t!==this.Rf)return[3,0];e.label=3;case 3:return[2]}})})},t.prototype.$f=function(t){for(var e=0,n=this.gf;e<n.length;e++)if(n[e].fs===t)return!0;return!1},t.prototype.Ff=function(t){var e=this;return this.Nf().then(function(){e.gf.sort(function(t,e){return t.ds-e.ds});for(var n=0,r=e.gf;n<r.length;n++){var i=r[n];if(i.Rs(),"all"!==t&&i.fs===t)break}return e.Nf()})},t.prototype.Of=function(t){this.bf.push(t)},t.prototype.xf=function(t){var e=this.gf.indexOf(t);this.gf.splice(e,1)},t}();function qb(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}!function(){function t(){this.kf={},this.Mf=new If,this.Lf={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this.kf={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this.Mf.promise.catch(t)},t.prototype.then=function(t,e){return this.Mf.promise.then(t,e)},t.prototype.ql=function(t){this.Ul(t),this.kf.complete&&this.kf.complete(),this.Mf.resolve(t)},t.prototype.Kl=function(t){this.Lf.taskState="Error",this.kf.next&&this.kf.next(this.Lf),this.kf.error&&this.kf.error(t),this.Mf.reject(t)},t.prototype.Ul=function(t){this.Lf=t,this.kf.next&&this.kf.next(t)}}();var zb=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).Bf=new Hb,r.w_="name"in e?e.name:"[DEFAULT]",r}return Object(Nu.c)(e,t),e.prototype.b_=function(){return this.qf||Gb(this),this.qf.terminate()},e}($v);function Bb(t){return t.qf||Gb(t),t.qf.df(),t.qf}function Gb(t){var e=t.p_(),n=function(t,e,n){return new Pu(t,e,n.host,n.ssl,n.experimentalForceLongPolling,n.experimentalAutoDetectLongPolling)}(t.I_,t.w_,e);t.qf=new jb(t.m_,t.Bf,n)}function $b(t,e,n){var r=this,i=new If;return t._s.enqueue(function(){return Object(Nu.b)(r,void 0,void 0,function(){var r;return Object(Nu.d)(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,Ab(t,n)];case 1:return o.sent(),[4,kb(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===Yu.FAILED_PRECONDITION||t.code===Yu.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function Wb(t){if(t.R_||t.P_)throw new Xu(Yu.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Qb=function(){function t(){}return t.prototype.Uf=function(t,e){switch(void 0===e&&(e="none"),Cc(t)){case 0:return null;case 1:return t.booleanValue;case 2:return wc(t.integerValue||t.doubleValue);case 3:return this.Qf(t.timestampValue);case 4:return this.Kf(t,e);case 5:return t.stringValue;case 6:return this.Wf(_c(t.bytesValue));case 7:return this.jf(t.referenceValue);case 8:return this.Gf(t.geoPointValue);case 9:return this.zf(t.arrayValue,e);case 10:return this.Hf(t.mapValue,e);default:throw qu()}},t.prototype.Hf=function(t,e){var n=this,r={};return gc(t.fields||{},function(t,i){r[t]=n.Uf(i,e)}),r},t.prototype.Gf=function(t){return new tb(wc(t.latitude),wc(t.longitude))},t.prototype.zf=function(t,e){var n=this;return(t.values||[]).map(function(t){return n.Uf(t,e)})},t.prototype.Kf=function(t,e){switch(e){case"previous":var n=Ec(t);return null==n?null:this.Uf(n,e);case"estimate":return this.Qf(Ic(t));default:return null}},t.prototype.Qf=function(t){var e=mc(t);return new ac(e.seconds,e.nanos)},t.prototype.Jf=function(t,e){var n=lc.ot(t);zu(Ef(n));var r=new Du(n.get(1),n.get(3)),i=new dc(n.Y(5));return r.isEqual(e)||Vu("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}(),Jb=function(){function t(t,e,n,r,i){this.Yf=t,this.Xf=e,this.S_=n,this.Zf=r,this.v_=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.tt()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Wv(this.Yf,this.v_,this.S_)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this.Zf},t.prototype.data=function(){if(this.Zf){if(this.v_){var t=new Zb(this.Yf,this.Xf,this.S_,this.Zf,null);return this.v_.fromFirestore(t)}return this.Xf.Uf(this.Zf.bt())}},t.prototype.get=function(t){if(this.Zf){var e=this.Zf.data().field(Yb("DocumentSnapshot.get",t));if(null!==e)return this.Xf.Uf(e)}},t}(),Zb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Nu.c)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(Jb);function Yb(t,e){return"string"==typeof e?Ib(t,e):e instanceof Dv?e.d_.f_:e.f_}function Xb(t){if(yl(t)&&0===t.xt.length)throw new Xu(Yu.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Kb=function(){};function ty(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o.td(t)}return t}var ey=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).ed=e,i.nd=n,i.sd=r,i.type="where",i}return Object(Nu.c)(e,t),e.prototype.td=function(t){var e=ab(t.firestore),n=function(t,e,n,r,i,o,s){var a;if(i.ut()){if("array-contains"===o||"array-contains-any"===o)throw new Xu(Yu.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){uy(s,o);for(var u=[],c=0,l=s;c<l.length;c++)u.push(ay(r,t,l[c]));a={arrayValue:{values:u}}}else a=ay(r,t,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||uy(s,o),a=bb(n,"where",s,"in"===o||"not-in"===o);var h=Kc.create(i,o,a);return function(t,e){if(e.Ct()){var n=wl(t);if(null!==n&&!n.isEqual(e.field))throw new Xu(Yu.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=ml(t);null!==r&&cy(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new Xu(Yu.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t.C_,0,e,t.firestore.I_,this.ed,this.nd,this.sd);return new Qv(t.firestore,t.v_,function(t,e){var n=t.filters.concat([e]);return new pl(t.path,t.collectionGroup,t.xt.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t.C_,n))},e}(Kb),ny=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).ed=e,r.rd=n,r.type="orderBy",r}return Object(Nu.c)(e,t),e.prototype.td=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new Xu(Yu.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new Xu(Yu.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new ll(e,n);return function(t,e){if(null===ml(t)){var n=wl(t);null!==n&&cy(0,n,e.field)}}(t,r),r}(t.C_,this.ed,this.rd);return new Qv(t.firestore,t.v_,function(t,e){var n=t.xt.concat([e]);return new pl(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t.C_,e))},e}(Kb),ry=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.od=n,i.ad=r,i}return Object(Nu.c)(e,t),e.prototype.td=function(t){return new Qv(t.firestore,t.v_,Il(t.C_,this.od,this.ad))},e}(Kb),iy=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.ud=n,i.hd=r,i}return Object(Nu.c)(e,t),e.prototype.td=function(t){var e=sy(t,this.type,this.ud,this.hd);return new Qv(t.firestore,t.v_,function(t,e){return new pl(t.path,t.collectionGroup,t.xt.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t.C_,e))},e}(Kb),oy=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.ud=n,i.hd=r,i}return Object(Nu.c)(e,t),e.prototype.td=function(t){var e=sy(t,this.type,this.ud,this.hd);return new Qv(t.firestore,t.v_,function(t,e){return new pl(t.path,t.collectionGroup,t.xt.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t.C_,e))},e}(Kb);function sy(t,e,n,r){if(n[0]instanceof Dv&&(n[0]=n[0].d_),n[0]instanceof Jb)return function(t,e,n,r,i){if(!r)throw new Xu(Yu.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],s=0,a=Ol(t);s<a.length;s++){var u=a[s];if(u.field.ut())o.push(Dc(e,r.key));else{var c=r.field(u.field);if(Oc(c))throw new Xu(Yu.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.rt();throw new Xu(Yu.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new ul(o,i)}(t.C_,t.firestore.I_,e,n[0].Zf,r);var i=ab(t.firestore);return function(t,e,n,r,i,o){var s=t.xt;if(i.length>s.length)throw new Xu(Yu.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var c=i[u];if(s[u].field.ut()){if("string"!=typeof c)throw new Xu(Yu.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!_l(t)&&-1!==c.indexOf("/"))throw new Xu(Yu.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(lc.ot(c));if(!dc.wt(l))throw new Xu(Yu.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new dc(l);a.push(Dc(e,h))}else{var f=bb(n,r,c);a.push(f)}}return new ul(a,o)}(t.C_,t.firestore.I_,i,e,n,r)}function ay(t,e,n){if(n instanceof Dv&&(n=n.d_),"string"==typeof n){if(""===n)throw new Xu(Yu.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!_l(e)&&-1!==n.indexOf("/"))throw new Xu(Yu.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(lc.ot(n));if(!dc.wt(r))throw new Xu(Yu.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Dc(t,new dc(r))}if(n instanceof Wv)return Dc(t,n.S_);throw new Xu(Yu.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Hv(n)+".")}function uy(t,e){if(!Array.isArray(t)||0===t.length)throw new Xu(Yu.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new Xu(Yu.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function cy(t,e,n){if(!n.isEqual(e))throw new Xu(Yu.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function ly(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var hy=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Nu.c)(e,t),e.prototype.Wf=function(t){return new Ku(t)},e.prototype.jf=function(t){var e=this.Jf(t,this.firestore.I_);return new Wv(this.firestore,null,e)},e}(Qb),fy=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),dy=function(t){function e(e,n,r,i,o,s){var a=this;return(a=t.call(this,e,n,r,i,s)||this).Yf=e,a.ld=e,a.metadata=o,a}return Object(Nu.c)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this.Zf){if(this.v_){var e=new py(this.Yf,this.Xf,this.S_,this.Zf,this.metadata,null);return this.v_.fromFirestore(e,t)}return this.Xf.Uf(this.Zf.bt(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this.Zf){var n=this.Zf.data().field(Yb("DocumentSnapshot.get",t));if(null!==n)return this.Xf.Uf(n,e.serverTimestamps)}},e}(Jb),py=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Nu.c)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(dy),gy=function(){function t(t,e,n,r){this.Yf=t,this.Xf=e,this._d=r,this.metadata=new fy(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._d.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._d.docs.forEach(function(r){t.call(e,new py(n.Yf,n.Xf,r.key,r,new fy(n._d.De.has(r.key),n._d.fromCache),n.query.v_))})},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._d.xe)throw new Xu(Yu.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.fd&&this.dd===e||(this.fd=function(t,e){if(t._d.Se.et()){var n=0;return t._d.docChanges.map(function(e){return{type:"added",doc:new py(t.Yf,t.Xf,e.doc.key,e.doc,new fy(t._d.De.has(e.doc.key),t._d.fromCache),t.query.v_),oldIndex:-1,newIndex:n++}})}var r=t._d.Se;return t._d.docChanges.filter(function(t){return e||3!==t.type}).map(function(e){var n=new py(t.Yf,t.Xf,e.doc.key,e.doc,new fy(t._d.De.has(e.doc.key),t._d.fromCache),t.query.v_),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:vy(e.type),doc:n,oldIndex:i,newIndex:o}})}(this,e),this.dd=e),this.fd},t}();function vy(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return qu()}}function by(t,e){return t instanceof dy&&e instanceof dy?t.Yf===e.Yf&&t.S_.isEqual(e.S_)&&(null===t.Zf?null===e.Zf:t.Zf.isEqual(e.Zf))&&t.v_===e.v_:t instanceof gy&&e instanceof gy&&t.Yf===e.Yf&&Kv(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._d.isEqual(e._d)}var yy=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Nu.c)(e,t),e.prototype.Wf=function(t){return new Ku(t)},e.prototype.jf=function(t){var e=this.Jf(t,this.firestore.I_);return new Wv(this.firestore,null,e)},e}(Qb);function my(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=qv(t,Wv);var o=qv(t.firestore,zb),s=ab(o);return e instanceof Dv&&(e=e.d_),_y(o,[("string"==typeof e||e instanceof Nv?vb(s,"updateDoc",t.S_,e,n,r):gb(s,"updateDoc",t.S_,e)).F_(t.S_,Jl.exists(!0))])}function wy(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t instanceof Dv&&(t=t.d_);var s={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||qb(i[a])||(s=i[a],a++);var u,c,l,h={includeMetadataChanges:s.includeMetadataChanges};if(qb(i[a])){var f=i[a];i[a]=null===(e=f.next)||void 0===e?void 0:e.bind(f),i[a+1]=null===(n=f.error)||void 0===n?void 0:n.bind(f),i[a+2]=null===(r=f.complete)||void 0===r?void 0:r.bind(f)}if(t instanceof Wv)c=qv(t.firestore,zb),l=vl(t.S_.path),u={next:function(e){i[a]&&i[a](Oy(c,t,e))},error:i[a+1],complete:i[a+2]};else{var d=qv(t,Qv);c=qv(d.firestore,zb),l=d.C_;var p=new yy(c);u={next:function(t){i[a]&&i[a](new gy(c,p,d,t))},error:i[a+1],complete:i[a+2]},Xb(t.C_)}return function(t,e,n,r){var i=this,o=new Rv(r),s=new qg(e,o,n);return t._s.Ps(function(){return Object(Nu.b)(i,void 0,void 0,function(){var e;return Object(Nu.d)(this,function(n){switch(n.label){case 0:return e=Lg,[4,Ub(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}})})}),function(){o.i_(),t._s.Ps(function(){return Object(Nu.b)(i,void 0,void 0,function(){var e;return Object(Nu.d)(this,function(n){switch(n.label){case 0:return e=Ug,[4,Ub(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}})})})}}(Bb(c),l,h,u)}function _y(t,e){return function(t,e){var n=this,r=new If;return t._s.Ps(function(){return Object(Nu.b)(n,void 0,void 0,function(){var n;return Object(Nu.d)(this,function(i){switch(i.label){case 0:return n=tv,[4,Lb(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(Bb(t),e)}function Oy(t,e,n){var r=n.docs.get(e.S_),i=new yy(t);return new dy(t,i,e.S_,r,new fy(n.hasPendingWrites,n.fromCache),e.v_)}var Ey=function(){function t(t,e){this.Yf=t,this.wd=e,this.Ed=[],this.Td=!1,this.Id=ab(t)}return t.prototype.set=function(t,e,n){this.md();var r=Iy(t,this.Yf),i=ly(r.v_,e,n),o=ub(this.Id,"WriteBatch.set",r.S_,i,null!==r.v_,n);return this.Ed.push(o.F_(r.S_,Jl.Kt())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this.md();var o,s=Iy(t,this.Yf);return e instanceof Dv&&(e=e.d_),o="string"==typeof e||e instanceof Nv?vb(this.Id,"WriteBatch.update",s.S_,e,n,r):gb(this.Id,"WriteBatch.update",s.S_,e),this.Ed.push(o.F_(s.S_,Jl.exists(!0))),this},t.prototype.delete=function(t){this.md();var e=Iy(t,this.Yf);return this.Ed=this.Ed.concat(new hh(e.S_,Jl.Kt())),this},t.prototype.commit=function(){return this.md(),this.Td=!0,this.Ed.length>0?this.wd(this.Ed):Promise.resolve()},t.prototype.md=function(){if(this.Td)throw new Xu(Yu.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function Iy(t,e){if(t instanceof Dv&&(t=t.d_),t.firestore!==e)throw new Xu(Yu.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var xy=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).Yf=e,r}return Object(Nu.c)(e,t),e.prototype.get=function(e){var n=this,r=Iy(e,this.Yf),i=new yy(this.Yf);return t.prototype.get.call(this,e).then(function(t){return new dy(n.Yf,i,r.S_,t.Zf,new fy(!1,!1),r.v_)})},e}(function(){function t(t,e){this.Yf=t,this.Ad=e,this.Id=ab(t)}return t.prototype.get=function(t){var e=this,n=Iy(t,this.Yf),r=new hy(this.Yf);return this.Ad.ef([n.S_]).then(function(t){if(!t||1!==t.length)return qu();var i=t[0];if(i instanceof $c)return new Jb(e.Yf,r,n.S_,null,n.v_);if(i instanceof Gc)return new Jb(e.Yf,r,i.key,i,n.v_);throw qu()})},t.prototype.set=function(t,e,n){var r=Iy(t,this.Yf),i=ly(r.v_,e,n),o=ub(this.Id,"Transaction.set",r.S_,i,null!==r.v_,n);return this.Ad.set(r.S_,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,s=Iy(t,this.Yf);return e instanceof Dv&&(e=e.d_),o="string"==typeof e||e instanceof Nv?vb(this.Id,"Transaction.update",s.S_,e,n,r):gb(this.Id,"Transaction.update",s.S_,e),this.Ad.update(s.S_,o),this},t.prototype.delete=function(t){var e=Iy(t,this.Yf);return this.Ad.delete(e.S_),this},t}());function Sy(){if("undefined"==typeof Uint8Array)throw new Xu(Yu.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Ty(){if("undefined"==typeof atob)throw new Xu(Yu.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Cy=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Nu.c)(e,t),e.fromBase64String=function(t){return Ty(),new e(Ku.fromBase64String(t))},e.fromUint8Array=function(t){return Sy(),new e(Ku.fromUint8Array(t))},e.prototype.toBase64=function(){return Ty(),this.d_.toBase64()},e.prototype.toUint8Array=function(){return Sy(),this.d_.toUint8Array()},e.prototype.isEqual=function(t){return this.d_.isEqual(t.d_)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(Dv),jy=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){Wb(t=qv(t,zb));var n=Bb(t),r=t.p_(),i=new kv;return $b(n,i,new jv(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t.d_,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){Wb(t=qv(t,zb));var e=Bb(t),n=t.p_(),r=new kv;return $b(e,r,new Av(r,n.cacheSizeBytes))}(t.d_)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t.R_&&!t.P_)throw new Xu(Yu.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new If;return t.Bf.Tf(function(){return Object(Nu.b)(e,void 0,void 0,function(){var e;return Object(Nu.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Object(Nu.b)(this,void 0,void 0,function(){return Object(Nu.d)(this,function(e){switch(e.label){case 0:return Tf.Kn()?[4,Tf.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}})})}(up(t.I_,t.w_))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}})})}),n.promise}(t.d_)},t}(),Ay=function(t){function e(e,n,r){var i=this;return(i=t.call(this,n)||this).Rd=r,i.INTERNAL={delete:function(){return i.terminate()}},e instanceof Du||(i.Pd=e),i}return Object(Nu.c)(e,t),Object.defineProperty(e.prototype,"I_",{get:function(){return this.d_.I_},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this.d_.V_()),t)).merge,this.d_.g_(t)},e.prototype.useEmulator=function(t,e){!function(t,e,n){var r=(t=qv(t,$v)).V_();"firestore.googleapis.com"!==r.host&&r.host!==e&&Fu("Host has been set in both settings() and useEmulator(), emulator host will be used"),t.g_(Object.assign(Object.assign({},r),{host:e+":"+n,ssl:!1}))}(this.d_,t,e)},e.prototype.enableNetwork=function(){return function(t){var e=this;return t._s.enqueue(function(){return Object(Nu.b)(e,void 0,void 0,function(){var e,n;return Object(Nu.d)(this,function(r){switch(r.label){case 0:return[4,Pb(t)];case 1:return e=r.sent(),[4,Mb(t)];case 2:return n=r.sent(),[2,(e.yo(!0),function(t){var e=Bu(t);return e.Nh.delete(0),lg(e)}(n))]}})})})}(Bb(qv(this.d_,zb)))},e.prototype.disableNetwork=function(){return function(t){var e=this;return t._s.enqueue(function(){return Object(Nu.b)(e,void 0,void 0,function(){var e,n;return Object(Nu.d)(this,function(r){switch(r.label){case 0:return[4,Pb(t)];case 1:return e=r.sent(),[4,Mb(t)];case 2:return n=r.sent(),[2,(e.yo(!1),function(t){return Object(Nu.b)(this,void 0,void 0,function(){var e;return Object(Nu.d)(this,function(n){switch(n.label){case 0:return(e=Bu(t)).Nh.add(0),[4,hg(e)];case 1:return n.sent(),e.Oh.set("Offline"),[2]}})})}(n))]}})})})}(Bb(qv(this.d_,zb)))},e.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&Uv("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Rd.enableMultiTabIndexedDbPersistence(this):this.Rd.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.Rd.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.Pd&&(this.Pd._removeServiceInstance("firestore"),this.Pd._removeServiceInstance("firestore-exp")),this.d_._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new If;return t._s.Ps(function(){return Object(Nu.b)(e,void 0,void 0,function(){var e;return Object(Nu.d)(this,function(r){switch(r.label){case 0:return e=sv,[4,Lb(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}})})}),n.promise}(Bb(qv(this.d_,zb)))},e.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new Rv(e);return t._s.Ps(function(){return Object(Nu.b)(n,void 0,void 0,function(){var e;return Object(Nu.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){Bu(t).Wh.add(e),e.next()},[4,Ub(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})}),function(){r.i_(),t._s.Ps(function(){return Object(Nu.b)(n,void 0,void 0,function(){var e;return Object(Nu.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){Bu(t).Wh.delete(e)},[4,Ub(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})})}}(Bb(t=qv(t,zb)),qb(e)?e:{next:e})}(this.d_,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.Pd)throw new Xu(Yu.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Pd},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new By(this,Zv(this.d_,t))}catch(t){throw My(t,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new Dy(this,Yv(this.d_,t))}catch(t){throw My(t,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new Hy(this,function(t,e){if(t=qv(t,$v),Mv("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Xu(Yu.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Qv(t,null,function(t){return new pl(lc.ct(),t)}(e))}(this.d_,t))}catch(t){throw My(t,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new If;return t._s.Ps(function(){return Object(Nu.b)(n,void 0,void 0,function(){var n;return Object(Nu.d)(this,function(i){switch(i.label){case 0:return[4,function(t){return Nb(t).then(function(t){return t.Sh})}(t)];case 1:return n=i.sent(),new Cb(t._s,n,e,r).run(),[2]}})})}),r.promise}(Bb(t),function(n){return e(new xy(t,n))})}(this.d_,function(n){return t(new Ry(e,n))})},e.prototype.batch=function(){var t=this;return Bb(this.d_),new Ny(new Ey(this.d_,function(e){return _y(t.d_,e)}))},e.prototype.loadBundle=function(t){throw new Xu(Yu.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new Xu(Yu.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(Dv),ky=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Nu.c)(e,t),e.prototype.Wf=function(t){return new Cy(new Ku(t))},e.prototype.jf=function(t){var e=this.Jf(t,this.firestore.I_);return Dy.yd(e,this.firestore,null)},e}(Qb),Ry=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).Yf=e,r.Xf=new ky(e),r}return Object(Nu.c)(e,t),e.prototype.get=function(t){var e=this,n=Gy(t);return this.d_.get(n).then(function(t){return new Vy(e.Yf,new dy(e.Yf.d_,e.Xf,t.S_,t.Zf,t.metadata,n.v_))})},e.prototype.set=function(t,e,n){var r=Gy(t);return n?(Lv("Transaction.set",n),this.d_.set(r,e,n)):this.d_.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=Gy(t);return 2===arguments.length?this.d_.update(s,e):(r=this.d_).update.apply(r,Object(Nu.g)([s,e,n],i)),this},e.prototype.delete=function(t){var e=Gy(t);return this.d_.delete(e),this},e}(Dv),Ny=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Nu.c)(e,t),e.prototype.set=function(t,e,n){var r=Gy(t);return n?(Lv("WriteBatch.set",n),this.d_.set(r,e,n)):this.d_.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=Gy(t);return 2===arguments.length?this.d_.update(s,e):(r=this.d_).update.apply(r,Object(Nu.g)([s,e,n],i)),this},e.prototype.delete=function(t){var e=Gy(t);return this.d_.delete(e),this},e.prototype.commit=function(){return this.d_.commit()},e}(Dv),Py=function(t){function e(e,n,r){var i=this;return(i=t.call(this,r)||this).Yf=e,i.Xf=n,i}return Object(Nu.c)(e,t),e.prototype.fromFirestore=function(t,e){var n=new py(this.Yf.d_,this.Xf,t.S_,t.Zf,t.metadata,null);return this.d_.fromFirestore(new Fy(this.Yf,n),null!=e?e:{})},e.prototype.toFirestore=function(t,e){return e?this.d_.toFirestore(t,e):this.d_.toFirestore(t)},e.gd=function(t,n){var r=e.Vd,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var o=i.get(n);return o||(o=new e(t,new ky(t),n),i.set(n,o)),o},e}(Dv);Py.Vd=new WeakMap;var Dy=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Xf=new ky(e),r}return Object(Nu.c)(e,t),e.pd=function(t,n,r){if(t.length%2!=0)throw new Xu(Yu.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.rt()+" has "+t.length);return new e(n,new Wv(n.d_,r,new dc(t)))},e.yd=function(t,n,r){return new e(n,new Wv(n.d_,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this.d_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new By(this.firestore,this.d_.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.d_.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new By(this.firestore,Zv(this.d_,t))}catch(t){throw My(t,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return t instanceof Dv&&(t=t.d_),t instanceof Wv&&Xv(this.d_,t)},e.prototype.set=function(t,e){e=Lv("DocumentReference.set",e);try{return function(t,e,n){t=qv(t,Wv);var r=qv(t.firestore,zb),i=ly(t.v_,e,n);return _y(r,[ub(ab(r),"setDoc",t.S_,i,null!==t.v_,n).F_(t.S_,Jl.Kt())])}(this.d_,t,e)}catch(t){throw My(t,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?my(this.d_,t):my.apply(void 0,Object(Nu.g)([this.d_,t,e],n))}catch(t){throw My(t,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return _y(qv((t=this.d_).firestore,zb),[new hh(t.S_,Jl.Kt())]);var t},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Ly(e),i=Uy(e,function(e){return new Vy(t.firestore,new dy(t.firestore.d_,t.Xf,e.S_,e.Zf,e.metadata,t.d_.v_))});return wy(this.d_,r,i)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=qv(t,Wv);var e=qv(t.firestore,zb),n=Bb(e),r=new yy(e);return function(t,e){var n=this,r=new If;return t._s.Ps(function(){return Object(Nu.b)(n,void 0,void 0,function(){var n;return Object(Nu.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(Nu.b)(this,void 0,void 0,function(){var r,i;return Object(Nu.d)(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=Bu(t);return n.persistence.runTransaction("read document","readonly",function(t){return n.Tc.Ho(t,e)})}(t,e)];case 1:return(i=o.sent())instanceof Gc?n.resolve(i):i instanceof $c?n.resolve(null):n.reject(new Xu(Yu.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=Mf(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}})})},[4,Db(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t.S_).then(function(n){return new dy(e,r,t.S_,n,new fy(n instanceof Gc&&n.Vt,!0),t.v_)})}(this.d_):"server"===(null==t?void 0:t.source)?function(t){t=qv(t,Wv);var e=qv(t.firestore,zb);return Vb(Bb(e),t.S_,{source:"server"}).then(function(n){return Oy(e,t,n)})}(this.d_):function(t){t=qv(t,Wv);var e=qv(t.firestore,zb);return Vb(Bb(e),t.S_).then(function(n){return Oy(e,t,n)})}(this.d_)).then(function(t){return new Vy(e.firestore,new dy(e.firestore.d_,e.Xf,t.S_,t.Zf,t.metadata,e.d_.v_))})},e.prototype.withConverter=function(t){return new e(this.firestore,this.d_.withConverter(Py.gd(this.firestore,t)))},e}(Dv);function My(t,e,n){return t.message=t.message.replace(e,n),t}function Ly(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!qb(r))return r}return{}}function Uy(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=qb(t[0])?t[0]:qb(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var Vy=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).Yf=e,r}return Object(Nu.c)(e,t),Object.defineProperty(e.prototype,"ref",{get:function(){return new Dy(this.Yf,this.d_.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this.d_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this.d_.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this.d_.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this.d_.data(t)},e.prototype.get=function(t,e){return this.d_.get(t,e)},e.prototype.isEqual=function(t){return by(this.d_,t.d_)},e}(Dv),Fy=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Nu.c)(e,t),e.prototype.data=function(t){return this.d_.data(t)},e}(Vy),Hy=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Xf=new ky(e),r}return Object(Nu.c)(e,t),e.prototype.where=function(t,n,r){try{return new e(this.firestore,ty(this.d_,function(t,e,n){var r=e,i=Yb("where",t);return new ey(i,r,n)}(t,n,r)))}catch(t){throw My(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,ty(this.d_,function(t,e){void 0===e&&(e="asc");var n=e,r=Yb("orderBy",t);return new ny(r,n)}(t,n)))}catch(t){throw My(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,ty(this.d_,function(t){return zv("limit",t),new ry("limit",t,"F")}(t)))}catch(t){throw My(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,ty(this.d_,function(t){return zv("limitToLast",t),new ry("limitToLast",t,"L")}(t)))}catch(t){throw My(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,ty(this.d_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new iy("startAt",t,!0)}).apply(void 0,t)))}catch(t){throw My(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,ty(this.d_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new iy("startAfter",t,!1)}).apply(void 0,t)))}catch(t){throw My(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,ty(this.d_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new oy("endBefore",t,!0)}).apply(void 0,t)))}catch(t){throw My(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,ty(this.d_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new oy("endAt",t,!1)}).apply(void 0,t)))}catch(t){throw My(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return Kv(this.d_,t.d_)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=qv(t,Qv);var e=qv(t.firestore,zb),n=Bb(e),r=new yy(e);return function(t,e){var n=this,r=new If;return t._s.Ps(function(){return Object(Nu.b)(n,void 0,void 0,function(){var n;return Object(Nu.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(Nu.b)(this,void 0,void 0,function(){var r,i,o,s,a;return Object(Nu.d)(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,Ep(t,e,!0)];case 1:return a=u.sent(),r=new Wg(e,a.Rc),i=r.fl(a.documents),o=r.wi(i,!1),n.resolve(o.snapshot),[3,3];case 2:return s=u.sent(),a=Mf(s,"Failed to execute query '"+e+" against cache"),n.reject(a),[3,3];case 3:return[2]}})})},[4,Db(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t.C_).then(function(n){return new gy(e,r,t,n)})}(this.d_):"server"===(null==t?void 0:t.source)?function(t){t=qv(t,Qv);var e=qv(t.firestore,zb),n=Bb(e),r=new yy(e);return Fb(n,t.C_,{source:"server"}).then(function(n){return new gy(e,r,t,n)})}(this.d_):function(t){t=qv(t,Qv);var e=qv(t.firestore,zb),n=Bb(e),r=new yy(e);return Xb(t.C_),Fb(n,t.C_).then(function(n){return new gy(e,r,t,n)})}(this.d_)).then(function(t){return new zy(e.firestore,new gy(e.firestore.d_,e.Xf,e.d_,t._d))})},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Ly(e),i=Uy(e,function(e){return new zy(t.firestore,new gy(t.firestore.d_,t.Xf,t.d_,e._d))});return wy(this.d_,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,this.d_.withConverter(Py.gd(this.firestore,t)))},e}(Dv),qy=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).Yf=e,r}return Object(Nu.c)(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this.d_.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new Fy(this.Yf,this.d_.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this.d_.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this.d_.newIndex},enumerable:!1,configurable:!0}),e}(Dv),zy=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).Yf=e,r}return Object(Nu.c)(e,t),Object.defineProperty(e.prototype,"query",{get:function(){return new Hy(this.Yf,this.d_.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this.d_.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this.d_.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this.d_.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this.d_.docs.map(function(e){return new Fy(t.Yf,e)})},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var e=this;return this.d_.docChanges(t).map(function(t){return new qy(e.Yf,t)})},e.prototype.forEach=function(t,e){var n=this;this.d_.forEach(function(r){t.call(e,new Fy(n.Yf,r))})},e.prototype.isEqual=function(t){return by(this.d_,t.d_)},e}(Dv),By=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r.d_=n,r}return Object(Nu.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.d_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.d_.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.d_.parent;return t?new Dy(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new Dy(this.firestore,void 0===t?Yv(this.d_):Yv(this.d_,t))}catch(t){throw My(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=qv(t.firestore,zb),r=Yv(t),i=ly(t.v_,e);return _y(n,[ub(ab(t.firestore),"addDoc",r.S_,i,null!==t.v_,{}).F_(r.S_,Jl.exists(!1))]).then(function(){return r})}(this.d_,t).then(function(t){return new Dy(e.firestore,t)})},e.prototype.isEqual=function(t){return Xv(this.d_,t.d_)},e.prototype.withConverter=function(t){return new e(this.firestore,this.d_.withConverter(Py.gd(this.firestore,t)))},e}(Hy);function Gy(t){return t instanceof Dv&&(t=t.d_),qv(t,Wv)}var $y,Wy=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,new(Nv.bind.apply(Nv,Object(Nu.g)([void 0],e))))||this}return Object(Nu.c)(e,t),e.documentId=function(){return new e(fc.ht().rt())},e.prototype.isEqual=function(t){return t instanceof Dv&&(t=t.d_),t instanceof Nv&&this.d_.f_.isEqual(t.f_)},e}(Dv),Qy=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Nu.c)(e,t),e.serverTimestamp=function(){var t=new hb("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new cb("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new fb("arrayUnion",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new db("arrayRemove",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(t){return new pb("increment",t)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this.d_.isEqual(t.d_)},e}(Dv),Jy=n("/6Yf"),Zy={Firestore:Ay,GeoPoint:tb,Timestamp:ac,Blob:Cy,Transaction:Ry,WriteBatch:Ny,DocumentReference:Dy,DocumentSnapshot:Vy,Query:Hy,QueryDocumentSnapshot:Fy,QuerySnapshot:zy,CollectionReference:By,FieldPath:Wy,FieldValue:Qy,setLogLevel:function(t){Mu.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new Jy.a("firestore",function(t){return function(t,e){return new Ay(t,new zb(t,e),new jy)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},Zy)))})($y=Ci.a),$y.registerVersion("@firebase/firestore","2.1.7");var Yy=n("VRyK"),Xy=n("qgXg"),Ky=n("Ylt2");class tm extends pt.a{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new em(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let o;if(this.closed)throw new gt.a;if(this.isStopped||this.hasError?o=ve.a.EMPTY:(this.observers.push(t),o=new Ky.a(this,t)),r&&t.add(t=new Si.a(t,r)),e)for(let s=0;s<i&&!t.closed;s++)t.next(n[s]);else for(let s=0;s<i&&!t.closed;s++)t.next(n[s].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),o}_getNow(){return(this.scheduler||Xy.a).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let o=0;for(;o<i&&!(t-r[o].time<n);)o++;return i>e&&(o=Math.max(o,i-e)),o>0&&r.splice(0,o),r}}class em{constructor(t,e){this.time=t,this.value=e}}function nm(t,e,n){let r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let i,o,s=0,a=!1,u=!1;return function(c){let l;s++,!i||a?(a=!1,i=new tm(t,e,r),l=i.subscribe(this),o=c.subscribe({next(t){i.next(t)},error(t){a=!0,i.error(t)},complete(){u=!0,o=void 0,i.complete()}}),u&&(o=void 0)):l=i.subscribe(this),this.add(()=>{s--,l.unsubscribe(),l=void 0,o&&!u&&n&&0===s&&(o.unsubscribe(),o=void 0,i=void 0)})}}(r))}function rm(t,e){return e?Lt(()=>t,e):Lt(()=>t)}var im=n("tf+s");const om=new r.r("angularfire2.auth.use-emulator"),sm=new r.r("angularfire2.auth.settings"),am=new r.r("angularfire2.auth.tenant-id"),um=new r.r("angularfire2.auth.langugage-code"),cm=new r.r("angularfire2.auth.use-device-language"),lm=new r.r("angularfire.auth.persistence");let hm=(()=>{class t{constructor(t,e,r,i,o,s,a,u,c,l){const h=new mi.d(i),f=Object(mi.h)(h),d=new pt.a,p=Object(dt.a)(void 0).pipe(Object(Si.b)(h.outsideAngular),Lt(()=>i.runOutsideAngular(()=>n.e(4).then(n.bind(null,"6nsN")))),Object(Dt.a)(()=>Object(mi.g)(t,i,e)),Object(Dt.a)(t=>i.runOutsideAngular(()=>{const e=o,n=s;return Object(mi.f)(`${t.name}.auth`,"AngularFireAuth",t,()=>{const r=i.runOutsideAngular(()=>t.auth());return e&&r.useEmulator(`http://${e.join(":")}`),a&&(r.tenantId=a),r.languageCode=u,c&&r.useDeviceLanguage(),n&&(r.settings=n),l&&r.setPersistence(l),r},[e,a,u,c,n,l])})),nm({bufferSize:1,refCount:!1}));if(N(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Object(dt.a)(null);else{p.pipe(de()).subscribe();const t=p.pipe(Lt(t=>t.getRedirectResult().then(t=>t,()=>null)),f,nm({bufferSize:1,refCount:!1})),e=t=>new Et.a(e=>({unsubscribe:i.runOutsideAngular(()=>t(e))})),n=p.pipe(Lt(t=>e(t.onAuthStateChanged.bind(t)))),r=p.pipe(Lt(t=>e(t.onIdTokenChanged.bind(t))));this.authState=t.pipe(rm(n),Object(im.a)(h.outsideAngular),Object(Si.b)(h.insideAngular)),this.user=t.pipe(rm(r),Object(im.a)(h.outsideAngular),Object(Si.b)(h.insideAngular)),this.idToken=this.user.pipe(Lt(t=>t?Object(ft.a)(t.getIdToken()):Object(dt.a)(null))),this.idTokenResult=this.user.pipe(Lt(t=>t?Object(ft.a)(t.getIdTokenResult()):Object(dt.a)(null))),this.credential=Object(Yy.a)(t,d,this.authState.pipe(Qt(t=>!t))).pipe(Object(Dt.a)(t=>(null==t?void 0:t.user)?t:null),Object(im.a)(h.outsideAngular),Object(Si.b)(h.insideAngular))}return Object(mi.i)(this,p,i,{spy:{apply:(t,e,n)=>{(t.startsWith("signIn")||t.startsWith("createUser"))&&n.then(t=>d.next(t))}}})}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(mi.c),r.Mb(mi.b,8),r.Mb(r.C),r.Mb(r.A),r.Mb(om,8),r.Mb(sm,8),r.Mb(am,8),r.Mb(um,8),r.Mb(cm,8),r.Mb(lm,8))},t.\u0275prov=Object(r.Cb)({factory:function(){return new t(Object(r.Mb)(mi.c),Object(r.Mb)(mi.b,8),Object(r.Mb)(r.C),Object(r.Mb)(r.A),Object(r.Mb)(om,8),Object(r.Mb)(sm,8),Object(r.Mb)(am,8),Object(r.Mb)(um,8),Object(r.Mb)(cm,8),Object(r.Mb)(lm,8))},token:t,providedIn:"any"}),t})();Object(mi.e)(hm,[{app:null,applyActionCode:null,checkActionCode:null,confirmPasswordReset:null,createUserWithEmailAndPassword:null,currentUser:null,fetchSignInMethodsForEmail:null,isSignInWithEmailLink:null,getRedirectResult:null,languageCode:null,settings:null,onAuthStateChanged:null,onIdTokenChanged:null,sendSignInLinkToEmail:null,sendPasswordResetEmail:null,setPersistence:null,signInAndRetrieveDataWithCredential:null,signInAnonymously:null,signInWithCredential:null,signInWithCustomToken:null,signInWithEmailAndPassword:null,signInWithPhoneNumber:null,signInWithEmailLink:null,signInWithPopup:null,signInWithRedirect:null,signOut:null,tenantId:null,updateCurrentUser:null,useDeviceLanguage:null,useEmulator:null,verifyPasswordResetCode:null}]);let fm=(()=>{class t{}return t.\u0275mod=r.Eb({type:t}),t.\u0275inj=r.Db({factory:function(e){return new(e||t)},providers:[hm]}),t})();function dm(t,e){return function(t,e=wi.b){return new Et.a(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(t,e)}function pm(t,e){return dm(t,e).pipe(Object(Dt.a)(t=>({payload:t,type:"query"})))}function gm(t,e){return pm(t,e).pipe(Bt(void 0),_i(),Object(Dt.a)(([t,e])=>{const n=e.payload.docChanges(),r=n.map(t=>({type:t.type,payload:t}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(e.payload.metadata)&&e.payload.docs.forEach((e,i)=>{const o=n.find(t=>t.doc.ref.isEqual(e.ref)),s=null==t?void 0:t.payload.docs.find(t=>t.ref.isEqual(e.ref));o&&JSON.stringify(o.doc.metadata)===JSON.stringify(e.metadata)||!o&&s&&JSON.stringify(s.metadata)===JSON.stringify(e.metadata)||r.push({type:"modified",payload:{oldIndex:i,newIndex:i,type:"modified",doc:e}})}),r}))}function vm(t,e,n){return gm(t,n).pipe(Gt((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return bm(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return bm(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return bm(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n.map(t=>t.payload),e),[]),t=>t.lift(new Ii(void 0,void 0)),Object(Dt.a)(t=>t.map(t=>({type:t.type,payload:t}))))}function bm(t,e,n,...r){const i=t.slice();return i.splice(e,n,...r),i}function ym(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}class mm{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){let e=gm(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe(Object(Dt.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)))),e.pipe(Bt(void 0),_i(),Qt(([t,e])=>e.length>0||!t),Object(Dt.a)(([t,e])=>e),this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Gt((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=ym(t);return vm(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return pm(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Dt.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(ft.a)(this.query.get(t)).pipe(Object(Si.b)(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new wm(this.ref.doc(t),this.afs)}}class wm{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=Sm(n,e);return new mm(r,i,this.afs)}snapshotChanges(){return dm(this.ref,this.afs.schedulers.outsideAngular).pipe(Bt(void 0),_i(),Object(Dt.a)(([t,e])=>e.exists?(null==t?void 0:t.exists)?{payload:e,type:"modified"}:{payload:e,type:"added"}:{payload:e,type:"removed"})).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return this.snapshotChanges().pipe(Object(Dt.a)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return Object(ft.a)(this.ref.get(t)).pipe(Object(Si.b)(this.afs.schedulers.insideAngular))}}class _m{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?gm(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Dt.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)),Qt(t=>t.length>0),this.afs.keepUnstableUntilFirst):gm(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Gt((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=ym(t);return vm(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return pm(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Dt.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign({[t.idField]:e.id},e.data()):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(ft.a)(this.query.get(t)).pipe(Object(Si.b)(this.afs.schedulers.insideAngular))}}const Om=new r.r("angularfire2.enableFirestorePersistence"),Em=new r.r("angularfire2.firestore.persistenceSettings"),Im=new r.r("angularfire2.firestore.settings"),xm=new r.r("angularfire2.firestore.use-emulator");function Sm(t,e=(t=>t)){return{query:e(t),ref:t}}let Tm=(()=>{class t{constructor(t,e,n,r,i,o,s,a,u){this.schedulers=new mi.d(o),this.keepUnstableUntilFirst=Object(mi.h)(this.schedulers);const c=Object(mi.g)(t,o,e);!Ti.a.auth&&u&&Object(mi.j)();const l=a;[this.firestore,this.persistenceEnabled$]=Object(mi.f)(`${c.name}.firestore`,"AngularFirestore",c,()=>{const t=o.runOutsideAngular(()=>c.firestore());if(r&&t.settings(r),l&&t.useEmulator(...l),n&&!N(i)){const e=()=>{try{return Object(ft.a)(t.enablePersistence(s||void 0).then(()=>!0,()=>!1))}catch($y){return"undefined"!=typeof console&&console.warn($y),Object(dt.a)(!1)}};return[t,o.runOutsideAngular(e)]}return[t,Object(dt.a)(!1)]},[r,l,n])}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=Sm(n,e),o=this.schedulers.ngZone.run(()=>r);return new mm(o,i,this)}collectionGroup(t,e){const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new _m(n(r),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new wm(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(mi.c),r.Mb(mi.b,8),r.Mb(Om,8),r.Mb(Im,8),r.Mb(r.C),r.Mb(r.A),r.Mb(Em,8),r.Mb(xm,8),r.Mb(om,8))},t.\u0275prov=Object(r.Cb)({factory:function(){return new t(Object(r.Mb)(mi.c),Object(r.Mb)(mi.b,8),Object(r.Mb)(Om,8),Object(r.Mb)(Im,8),Object(r.Mb)(r.C),Object(r.Mb)(r.A),Object(r.Mb)(Em,8),Object(r.Mb)(xm,8),Object(r.Mb)(om,8))},token:t,providedIn:"any"}),t})(),Cm=(()=>{class t{static enablePersistence(e){return{ngModule:t,providers:[{provide:Om,useValue:!0},{provide:Em,useValue:e}]}}}return t.\u0275mod=r.Eb({type:t}),t.\u0275inj=r.Db({factory:function(e){return new(e||t)},providers:[Tm]}),t})();class jm{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new Am(t,this.dueTime,this.scheduler))}}class Am extends mt.a{constructor(t,e,n){super(t),this.dueTime=e,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(km,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function km(t){t.debouncedNext()}var Rm="firebasestorage.googleapis.com",Nm=function(t){function e(n,r){var i=t.call(this,Pm(n),"Firebase Storage: "+r+" ("+Pm(n)+")")||this;return i.customData={serverResponse:null},Object.setPrototypeOf(i,e.prototype),i}return Object(Nu.c)(e,t),e.prototype._codeEquals=function(t){return Pm(t)===this.code},Object.defineProperty(e.prototype,"message",{get:function(){return this.customData.serverResponse?this.message+"\n"+this.customData.serverResponse:this.message},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(t){this.customData.serverResponse=t},enumerable:!1,configurable:!0}),e}(Ai.c);function Pm(t){return"storage/"+t}function Dm(){return new Nm("unknown","An unknown error occurred, please check the error payload for server response.")}function Mm(){return new Nm("canceled","User canceled the upload/download.")}function Lm(){return new Nm("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Um(t){return new Nm("invalid-argument",t)}function Vm(){return new Nm("app-deleted","The Firebase app was deleted.")}function Fm(t){return new Nm("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Hm(t,e){return new Nm("invalid-format","String does not match format '"+t+"': "+e)}function qm(t){throw new Nm("internal-error","Internal error: "+t)}var zm={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},Bm=function(){return function(t,e){this.data=t,this.contentType=e||null}}();function Gm(t,e){switch(t){case zm.RAW:return new Bm($m(e));case zm.BASE64:case zm.BASE64URL:return new Bm(Wm(t,e));case zm.DATA_URL:return new Bm((n=new Qm(e)).base64?Wm(zm.BASE64,n.rest):function(t){var e;try{e=decodeURIComponent(t)}catch($y){throw Hm(zm.DATA_URL,"Malformed data URL.")}return $m(e)}(n.rest),new Qm(e).contentType)}var n;throw Dm()}function $m(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|63&r);else if(55296==(64512&r))if(n<t.length-1&&56320==(64512&t.charCodeAt(n+1))){var i=r,o=t.charCodeAt(++n);e.push(240|(r=65536|(1023&i)<<10|1023&o)>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else e.push(239,191,189);else 56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function Wm(t,e){switch(t){case zm.BASE64:var n=-1!==e.indexOf("-"),r=-1!==e.indexOf("_");if(n||r)throw Hm(t,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case zm.BASE64URL:var i=-1!==e.indexOf("+"),o=-1!==e.indexOf("/");if(i||o)throw Hm(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/")}var s;try{s=atob(e)}catch($y){throw Hm(t,"Invalid character found")}for(var a=new Uint8Array(s.length),u=0;u<s.length;u++)a[u]=s.charCodeAt(u);return a}var Qm=function(){return function(t){this.base64=!1,this.contentType=null;var e=t.match(/^data:([^,]+)?,/);if(null===e)throw Hm(zm.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n,r,i=e[1]||null;null!=i&&(this.base64=(n=i).length>=(r=";base64").length&&n.substring(n.length-r.length)===r,this.contentType=this.base64?i.substring(0,i.length-";base64".length):i),this.rest=t.substring(t.indexOf(",")+1)}}(),Jm={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Zm(t){switch(t){case"running":case"pausing":case"canceling":return Jm.RUNNING;case"paused":return Jm.PAUSED;case"success":return Jm.SUCCESS;case"canceled":return Jm.CANCELED;case"error":default:return Jm.ERROR}}var Ym=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}({}),Xm=function(){function t(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=Ym.NO_ERROR,this.sendPromise_=new Promise(function(e){t.xhr_.addEventListener("abort",function(){t.errorCode_=Ym.ABORT,e(t)}),t.xhr_.addEventListener("error",function(){t.errorCode_=Ym.NETWORK_ERROR,e(t)}),t.xhr_.addEventListener("load",function(){e(t)})})}return t.prototype.send=function(t,e,n,r){if(this.sent_)throw qm("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw qm("cannot .getErrorCode() before sending");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw qm("cannot .getStatus() before sending");try{return this.xhr_.status}catch($y){return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw qm("cannot .getResponseText() before sending");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},t.prototype.addUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)},t.prototype.removeUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)},t}(),Km=function(){function t(){}return t.prototype.createXhrIo=function(){return new Xm},t}();function tw(t){return"string"==typeof t||t instanceof String}function ew(t){return nw()&&t instanceof Blob}function nw(){return"undefined"!=typeof Blob}function rw(t,e,n,r){if(r<e)throw Um("Invalid value for '"+t+"'. Expected "+e+" or greater.");if(r>n)throw Um("Invalid value for '"+t+"'. Expected "+n+" or less.")}function iw(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function ow(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=iw();if(void 0!==n){for(var r=new n,i=0;i<t.length;i++)r.append(t[i]);return r.getBlob()}if(nw())return new Blob(t);throw new Nm("unsupported-environment","This browser doesn't seem to support creating Blobs")}var sw=function(){function t(t,e){var n=0,r="";ew(t)?(this.data_=t,n=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=r}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(e,n){if(ew(this.data_)){var r=(o=e,s=n,(i=this.data_).webkitSlice?i.webkitSlice(o,s):i.mozSlice?i.mozSlice(o,s):i.slice?i.slice(o,s):null);return null===r?null:new t(r)}var i,o,s;return new t(new Uint8Array(this.data_.buffer,e,n-e),!0)},t.getBlob=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(nw()){var r=e.map(function(e){return e instanceof t?e.data_:e});return new t(ow.apply(null,r))}var i=e.map(function(t){return tw(t)?Gm(zm.RAW,t).data:t.data_}),o=0;i.forEach(function(t){o+=t.byteLength});var s=new Uint8Array(o),a=0;return i.forEach(function(t){for(var e=0;e<t.length;e++)s[a++]=t[e]}),new t(s,!0)},t.prototype.uploadData=function(){return this.data_},t}(),aw=function(){function t(t,e){this.bucket=t,this.path_=e}return Object.defineProperty(t.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),t.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},t.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},t.makeFromBucketSpec=function(e){var n;try{n=t.makeFromUrl(e)}catch($y){return new t(e,"")}if(""===n.path)return n;throw new Nm("invalid-default-bucket","Invalid default bucket '"+e+"'.")},t.makeFromUrl=function(e){var n=null,r="([A-Za-z0-9.\\-_]+)",i=new RegExp("^gs://"+r+"(/(.*))?$","i");function o(t){t.path_=decodeURIComponent(t.path)}for(var s=Rm.replace(/[.]/g,"\\."),a=[{regex:i,indices:{bucket:1,path:3},postModify:function(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+s+"/v[A-Za-z0-9_]+/b/"+r+"/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://(?:storage.googleapis.com|storage.cloud.google.com)/"+r+"/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:o}],u=0;u<a.length;u++){var c=a[u],l=c.regex.exec(e);if(l){var h=l[c.indices.path];h||(h=""),n=new t(l[c.indices.bucket],h),c.postModify(n);break}}if(null==n)throw function(t){return new Nm("invalid-url","Invalid URL '"+t+"'.")}(e);return n},t}();function uw(t){var e,n;try{e=JSON.parse(t)}catch($y){return null}return"object"!=typeof(n=e)||Array.isArray(n)?null:e}function cw(t){var e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function lw(t){return"https://"+Rm+"/v0"+t}function hw(t){var e=encodeURIComponent,n="?";for(var r in t)t.hasOwnProperty(r)&&(n=n+(e(r)+"=")+e(t[r])+"&");return n.slice(0,-1)}function fw(t,e){return e}var dw=function(){return function(t,e,n,r){this.server=t,this.local=e||t,this.writable=!!n,this.xform=r||fw}}(),pw=null;function gw(){if(pw)return pw;var t=[];t.push(new dw("bucket")),t.push(new dw("generation")),t.push(new dw("metageneration")),t.push(new dw("name","fullPath",!0));var e=new dw("name");e.xform=function(t,e){return function(t){return!tw(t)||t.length<2?t:cw(t)}(e)},t.push(e);var n=new dw("size");return n.xform=function(t,e){return void 0!==e?Number(e):e},t.push(n),t.push(new dw("timeCreated")),t.push(new dw("updated")),t.push(new dw("md5Hash",null,!0)),t.push(new dw("cacheControl",null,!0)),t.push(new dw("contentDisposition",null,!0)),t.push(new dw("contentEncoding",null,!0)),t.push(new dw("contentLanguage",null,!0)),t.push(new dw("contentType",null,!0)),t.push(new dw("metadata","customMetadata",!0)),pw=t}function vw(t,e,n){var r=uw(e);return null===r?null:function(t,e,n){for(var r={type:"file"},i=n.length,o=0;o<i;o++){var s=n[o];r[s.local]=s.xform(r,e[s.server])}return function(t,e){Object.defineProperty(t,"ref",{get:function(){var n=new aw(t.bucket,t.fullPath);return e._makeStorageReference(n)}})}(r,t),r}(t,r,n)}function bw(t,e){for(var n={},r=e.length,i=0;i<r;i++){var o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}var yw=function(){return function(t,e,n,r){this.url=t,this.method=e,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}();function mw(t){if(!t)throw Dm()}function ww(t,e){return function(n,r){var i=vw(t,r,e);return mw(null!==i),i}}function _w(t){return function(e,n){var r;return(r=401===e.getStatus()?new Nm("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?new Nm("quota-exceeded","Quota for bucket '"+t.bucket+"' exceeded, please view quota on https://firebase.google.com/pricing/."):403===e.getStatus()?new Nm("unauthorized","User does not have permission to access '"+t.path+"'."):n).serverResponse=n.serverResponse,r}}function Ow(t){var e=_w(t);return function(n,r){var i=e(n,r);return 404===n.getStatus()&&(i=new Nm("object-not-found","Object '"+t.path+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function Ew(t,e,n){var r=lw(e.fullServerUrl()),i=t.maxOperationRetryTime,o=new yw(r,"GET",ww(t,n),i);return o.errorHandler=Ow(e),o}function Iw(t,e,n){var r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=function(t,e){return e&&e.type()||"application/octet-stream"}(0,e)),r}var xw=function(){return function(t,e,n,r){this.current=t,this.total=e,this.finalized=!!n,this.metadata=r||null}}();function Sw(t,e){var n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch($y){mw(!1)}return mw(!!n&&-1!==(e||["active"]).indexOf(n)),n}var Tw=262144,Cw=function(){return function(t,e,n){if("function"==typeof t||null!=e||null!=n)this.next=t,this.error=e,this.complete=n;else{var r=t;this.next=r.next,this.error=r.error,this.complete=r.complete}}}();function jw(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Promise.resolve().then(function(){return t.apply(void 0,e)})}}var Aw=function(){function t(t,e,n){var r=this;void 0===n&&(n=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=n,this._mappings=gw(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(t){r._request=void 0,r._chunkMultiplier=1,t._codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=t,r._transition("error"))},this._metadataErrorHandler=function(t){r._request=void 0,t._codeEquals("canceled")?r.completeTransitions_():(r._error=t,r._transition("error"))},this._promise=new Promise(function(t,e){r._resolve=t,r._reject=e,r._start()}),this._promise.then(null,function(){})}return t.prototype._makeProgressCallback=function(){var t=this,e=this._transferred;return function(n){return t._updateProgress(e+n)}},t.prototype._shouldDoResumable=function(t){return t.size()>262144},t.prototype._start=function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},t.prototype._resolveToken=function(t){var e=this;this._ref.storage._getAuthToken().then(function(n){switch(e._state){case"running":t(n);break;case"canceling":e._transition("canceled");break;case"pausing":e._transition("paused")}})},t.prototype._createResumable=function(){var t=this;this._resolveToken(function(e){var n=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),s=Iw(e,r,i),a={name:s.fullPath},u=lw(o),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},l=bw(s,n),h=new yw(u,"POST",function(t){var e;Sw(t);try{e=t.getResponseHeader("X-Goog-Upload-URL")}catch($y){mw(!1)}return mw(tw(e)),e},t.maxUploadRetryTime);return h.urlParams=a,h.headers=c,h.body=l,h.errorHandler=_w(e),h}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),r=t._ref.storage._makeRequest(n,e);t._request=r,r.getPromise().then(function(e){t._request=void 0,t._uploadUrl=e,t._needToFetchStatus=!1,t.completeTransitions_()},t._errorHandler)})},t.prototype._fetchStatus=function(){var t=this,e=this._uploadUrl;this._resolveToken(function(n){var r=function(t,e,n,r){var i=new yw(n,"POST",function(t){var e=Sw(t,["active","final"]),n=null;try{n=t.getResponseHeader("X-Goog-Upload-Size-Received")}catch($y){mw(!1)}n||mw(!1);var i=Number(n);return mw(!isNaN(i)),new xw(i,r.size(),"final"===e)},t.maxUploadRetryTime);return i.headers={"X-Goog-Upload-Command":"query"},i.errorHandler=_w(e),i}(t._ref.storage,t._ref._location,e,t._blob),i=t._ref.storage._makeRequest(r,n);t._request=i,i.getPromise().then(function(e){e=e,t._request=void 0,t._updateProgress(e.current),t._needToFetchStatus=!1,e.finalized&&(t._needToFetchMetadata=!0),t.completeTransitions_()},t._errorHandler)})},t.prototype._continueUpload=function(){var t=this,e=Tw*this._chunkMultiplier,n=new xw(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken(function(i){var o;try{o=function(t,e,n,r,i,o,s,a){var u=new xw(0,0);if(s?(u.current=s.current,u.total=s.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new Nm("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=u.total-u.current,l=c;i>0&&(l=Math.min(l,i));var h=u.current,f={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":u.current},d=r.slice(h,h+l);if(null===d)throw Lm();var p=new yw(n,"POST",function(t,n){var i,s=Sw(t,["active","final"]),a=u.current+l,c=r.size();return i="final"===s?ww(e,o)(t,n):null,new xw(a,c,"final"===s,i)},e.maxUploadRetryTime);return p.headers=f,p.body=d.uploadData(),p.progressCallback=a||null,p.errorHandler=_w(t),p}(t._ref._location,t._ref.storage,r,t._blob,e,t._mappings,n,t._makeProgressCallback())}catch($y){return t._error=$y,void t._transition("error")}var s=t._ref.storage._makeRequest(o,i);t._request=s,s.getPromise().then(function(e){t._increaseMultiplier(),t._request=void 0,t._updateProgress(e.current),e.finalized?(t._metadata=e.metadata,t._transition("success")):t.completeTransitions_()},t._errorHandler)})},t.prototype._increaseMultiplier=function(){Tw*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},t.prototype._fetchMetadata=function(){var t=this;this._resolveToken(function(e){var n=Ew(t._ref.storage,t._ref._location,t._mappings),r=t._ref.storage._makeRequest(n,e);t._request=r,r.getPromise().then(function(e){t._request=void 0,t._metadata=e,t._transition("success")},t._metadataErrorHandler)})},t.prototype._oneShotUpload=function(){var t=this;this._resolveToken(function(e){var n=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"},a=function(){for(var t="",e=0;e<2;e++)t+=Math.random().toString().slice(2);return t}();s["Content-Type"]="multipart/related; boundary="+a;var u=Iw(e,r,i),c=bw(u,n),l=sw.getBlob("--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+c+"\r\n--"+a+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",r,"\r\n--"+a+"--");if(null===l)throw Lm();var h={name:u.fullPath},f=lw(o),d=t.maxUploadRetryTime,p=new yw(f,"POST",ww(t,n),d);return p.urlParams=h,p.headers=s,p.body=l.uploadData(),p.errorHandler=_w(e),p}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),r=t._ref.storage._makeRequest(n,e);t._request=r,r.getPromise().then(function(e){t._request=void 0,t._metadata=e,t._updateProgress(t._blob.size()),t._transition("success")},t._errorHandler)})},t.prototype._updateProgress=function(t){var e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()},t.prototype._transition=function(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,void 0!==this._request&&this._request.cancel();break;case"running":var e="paused"===this._state;this._state=t,e&&(this._notifyObservers(),this._start());break;case"paused":this._state=t,this._notifyObservers();break;case"canceled":this._error=Mm(),this._state=t,this._notifyObservers();break;case"error":case"success":this._state=t,this._notifyObservers()}},t.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}},Object.defineProperty(t.prototype,"snapshot",{get:function(){var t=Zm(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),t.prototype.on=function(t,e,n,r){var i=this,o=new Cw(e,n,r);return this._addObserver(o),function(){i._removeObserver(o)}},t.prototype.then=function(t,e){return this._promise.then(t,e)},t.prototype.catch=function(t){return this.then(null,t)},t.prototype._addObserver=function(t){this._observers.push(t),this._notifyObserver(t)},t.prototype._removeObserver=function(t){var e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)},t.prototype._notifyObservers=function(){var t=this;this._finishPromise(),this._observers.slice().forEach(function(e){t._notifyObserver(e)})},t.prototype._finishPromise=function(){if(void 0!==this._resolve){var t=!0;switch(Zm(this._state)){case Jm.SUCCESS:jw(this._resolve.bind(null,this.snapshot))();break;case Jm.CANCELED:case Jm.ERROR:jw(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}},t.prototype._notifyObserver=function(t){switch(Zm(this._state)){case Jm.RUNNING:case Jm.PAUSED:t.next&&jw(t.next.bind(t,this.snapshot))();break;case Jm.SUCCESS:t.complete&&jw(t.complete.bind(t))();break;case Jm.CANCELED:case Jm.ERROR:t.error&&jw(t.error.bind(t,this._error))();break;default:t.error&&jw(t.error.bind(t,this._error))()}},t.prototype.resume=function(){var t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t},t.prototype.pause=function(){var t="running"===this._state;return t&&this._transition("pausing"),t},t.prototype.cancel=function(){var t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t},t}(),kw=function(){function t(t,e){this._service=t,this._location=e instanceof aw?e:aw.makeFromUrl(e)}return t.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},t.prototype._newRef=function(e,n){return new t(e,n)},Object.defineProperty(t.prototype,"root",{get:function(){var t=new aw(this._location.bucket,"");return this._newRef(this._service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return cw(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=function(t){if(0===t.length)return null;var e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this._location.path);if(null===e)return null;var n=new aw(this._location.bucket,e);return new t(this._service,n)},enumerable:!1,configurable:!0}),t.prototype._throwIfRoot=function(t){if(""===this._location.path)throw Fm(t)},t}();function Rw(t){var e={prefixes:[],items:[]};return Nw(t,e).then(function(){return e})}function Nw(t,e,n){return Object(Nu.b)(this,void 0,void 0,function(){var r,i,o;return Object(Nu.d)(this,function(s){switch(s.label){case 0:return[4,Pw(t,{pageToken:n})];case 1:return r=s.sent(),(i=e.prefixes).push.apply(i,r.prefixes),(o=e.items).push.apply(o,r.items),null==r.nextPageToken?[3,3]:[4,Nw(t,e,r.nextPageToken)];case 2:s.sent(),s.label=3;case 3:return[2]}})})}function Pw(t,e){return Object(Nu.b)(this,void 0,void 0,function(){var n,r,i;return Object(Nu.d)(this,function(o){switch(o.label){case 0:return null!=e&&"number"==typeof e.maxResults&&rw("options.maxResults",1,1e3,e.maxResults),[4,t.storage._getAuthToken()];case 1:return n=o.sent(),i=function(t,e,n,r,i){var o={};o.prefix=e.isRoot?"":e.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);var s=lw(e.bucketOnlyServerUrl()),a=t.maxOperationRetryTime,u=new yw(s,"GET",function(t,e){return function(n,r){var i=function(t,e,n){var r=uw(n);return null===r?null:function(t,e,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes)for(var i=0,o=n.prefixes;i<o.length;i++){var s=o[i].replace(/\/$/,""),a=t._makeStorageReference(new aw(e,s));r.prefixes.push(a)}if(n.items)for(var u=0,c=n.items;u<c.length;u++)a=t._makeStorageReference(new aw(e,c[u].name)),r.items.push(a);return r}(t,e,r)}(t,e,r);return mw(null!==i),i}}(t,e.bucket),a);return u.urlParams=o,u.errorHandler=_w(e),u}(t.storage,t._location,"/",(r=e||{}).pageToken,r.maxResults),[2,t.storage._makeRequest(i,n).getPromise()]}})})}function Dw(t,e){var n=function(t,e){var n=e.split("/").filter(function(t){return t.length>0}).join("/");return 0===t.length?n:t+"/"+n}(t._location.path,e),r=new aw(t._location.bucket,n);return new kw(t.storage,r)}var Mw=function(){function t(t,e,n){this._delegate=t,this.task=e,this.ref=n}return Object.defineProperty(t.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),t}(),Lw=function(){function t(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(t.prototype,"snapshot",{get:function(){return new Mw(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),t.prototype.then=function(t,e){var n=this;return this._delegate.then(function(e){if(t)return t(new Mw(e,n,n._ref))},e)},t.prototype.on=function(t,e,n,r){var i=this,o=void 0;return e&&(o="function"==typeof e?function(t){return e(new Mw(t,i,i._ref))}:{next:e.next?function(t){return e.next(new Mw(t,i,i._ref))}:void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,o,n||void 0,r||void 0)},t}(),Uw=function(){function t(t,e){this._delegate=t,this._service=e}return Object.defineProperty(t.prototype,"prefixes",{get:function(){var t=this;return this._delegate.prefixes.map(function(e){return new Vw(e,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){var t=this;return this._delegate.items.map(function(e){return new Vw(e,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),t}(),Vw=function(){function t(t,e){this._delegate=t,this.storage=e}return Object.defineProperty(t.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return this._delegate.toString()},t.prototype.child=function(e){return new t(Dw(this._delegate,e),this.storage)},Object.defineProperty(t.prototype,"root",{get:function(){return new t(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return null==e?null:new t(e,this.storage)},enumerable:!1,configurable:!0}),t.prototype.put=function(t,e){return this._throwIfRoot("put"),new Lw(function(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new Aw(t,new sw(e),n)}(this._delegate,t,e),this)},t.prototype.putString=function(t,e,n){void 0===e&&(e=zm.RAW),this._throwIfRoot("putString");var r=Gm(e,t),i=Object(Nu.a)({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new Lw(new Aw(this._delegate,new sw(r.data,!0),i),this)},t.prototype.listAll=function(){var t=this;return Rw(this._delegate).then(function(e){return new Uw(e,t.storage)})},t.prototype.list=function(t){var e=this;return Pw(this._delegate,t).then(function(t){return new Uw(t,e.storage)})},t.prototype.getMetadata=function(){return function(t){return Object(Nu.b)(this,void 0,void 0,function(){var e,n;return Object(Nu.d)(this,function(r){switch(r.label){case 0:return t._throwIfRoot("getMetadata"),[4,t.storage._getAuthToken()];case 1:return e=r.sent(),n=Ew(t.storage,t._location,gw()),[2,t.storage._makeRequest(n,e).getPromise()]}})})}(this._delegate)},t.prototype.updateMetadata=function(t){return function(t,e){return Object(Nu.b)(this,void 0,void 0,function(){var n,r;return Object(Nu.d)(this,function(i){switch(i.label){case 0:return t._throwIfRoot("updateMetadata"),[4,t.storage._getAuthToken()];case 1:return n=i.sent(),r=function(t,e,n,r){var i=lw(e.fullServerUrl()),o=bw(n,r),s=t.maxOperationRetryTime,a=new yw(i,"PATCH",ww(t,r),s);return a.headers={"Content-Type":"application/json; charset=utf-8"},a.body=o,a.errorHandler=Ow(e),a}(t.storage,t._location,e,gw()),[2,t.storage._makeRequest(r,n).getPromise()]}})})}(this._delegate,t)},t.prototype.getDownloadURL=function(){return function(t){return Object(Nu.b)(this,void 0,void 0,function(){var e,n;return Object(Nu.d)(this,function(r){switch(r.label){case 0:return t._throwIfRoot("getDownloadURL"),[4,t.storage._getAuthToken()];case 1:return e=r.sent(),n=function(t,e,n){var r=lw(e.fullServerUrl()),i=t.maxOperationRetryTime,o=new yw(r,"GET",function(t,e){return function(n,r){var i=vw(t,r,e);return mw(null!==i),function(t,e){var n=uw(e);if(null===n)return null;if(!tw(n.downloadTokens))return null;var r=n.downloadTokens;if(0===r.length)return null;var i=encodeURIComponent;return r.split(",").map(function(e){var n=t.fullPath;return lw("/b/"+i(t.bucket)+"/o/"+i(n))+hw({alt:"media",token:e})})[0]}(i,r)}}(t,n),i);return o.errorHandler=Ow(e),o}(t.storage,t._location,gw()),[2,t.storage._makeRequest(n,e).getPromise().then(function(t){if(null===t)throw new Nm("no-download-url","The given file does not have any download URLs.");return t})]}})})}(this._delegate)},t.prototype.delete=function(){return this._throwIfRoot("delete"),function(t){return Object(Nu.b)(this,void 0,void 0,function(){var e,n;return Object(Nu.d)(this,function(r){switch(r.label){case 0:return t._throwIfRoot("deleteObject"),[4,t.storage._getAuthToken()];case 1:return e=r.sent(),n=function(t,e){var n=lw(e.fullServerUrl()),r=new yw(n,"DELETE",function(t,e){},t.maxOperationRetryTime);return r.successCodes=[200,204],r.errorHandler=Ow(e),r}(t.storage,t._location),[2,t.storage._makeRequest(n,e).getPromise()]}})})}(this._delegate)},t.prototype._throwIfRoot=function(t){if(""===this._delegate._location.path)throw Fm(t)},t}(),Fw=function(){function t(t){this.promise_=Promise.reject(t)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){},t}(),Hw=function(){function t(t,e,n,r,i,o,s,a,u,c,l){var h=this;this.pendingXhr_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=e,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=s,this.errorCallback_=a,this.progressCallback_=c,this.timeout_=u,this.pool_=l,this.promise_=new Promise(function(t,e){h.resolve_=t,h.reject_=e,h.start_()})}return t.prototype.start_=function(){var t=this;function e(e,n){var r,i=t.resolve_,o=t.reject_,s=n.xhr;if(n.wasSuccessCode)try{var a=t.callback_(s,s.getResponseText());void 0!==a?i(a):i()}catch($y){o($y)}else null!==s?((r=Dm()).serverResponse=s.getResponseText(),o(t.errorCallback_?t.errorCallback_(s,r):r)):o(r=n.canceled?t.appDelete_?Vm():Mm():new Nm("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?e(0,new qw(!1,null,!0)):this.backoffId_=function(e,n,r){var i=1,o=null,s=!1,a=0;function u(){return 2===a}var c=!1;function l(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];c||(c=!0,n.apply(null,t))}function h(e){o=setTimeout(function(){o=null,function(e,n){if(n)e(!1,new qw(!1,null,!0));else{var r=t.pool_.createXhrIo();t.pendingXhr_=r,null!==t.progressCallback_&&r.addUploadProgressListener(i),r.send(t.url_,t.method_,t.body_,t.headers_).then(function(n){null!==t.progressCallback_&&n.removeUploadProgressListener(i),t.pendingXhr_=null;var r=(n=n).getErrorCode()===Ym.NO_ERROR,o=n.getStatus();if(r&&!t.isRetryStatusCode_(o)){var s=-1!==t.successCodes_.indexOf(o);e(!0,new qw(s,n))}else{var a=n.getErrorCode()===Ym.ABORT;e(!1,new qw(!1,null,a))}})}function i(e){null!==t.progressCallback_&&t.progressCallback_(e.loaded,e.lengthComputable?e.total:-1)}}(f,u())},e)}function f(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!c)if(t)l.call.apply(l,Object(Nu.g)([null,t],e));else{var r;u()||s?l.call.apply(l,Object(Nu.g)([null,t],e)):(i<64&&(i*=2),1===a?(a=2,r=0):r=1e3*(i+Math.random()),h(r))}}var d=!1;function p(t){d||(d=!0,c||(null!==o?(t||(a=2),clearTimeout(o),h(0)):t||(a=1)))}return h(0),setTimeout(function(){s=!0,p(!0)},r),p}(0,e,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingXhr_&&this.pendingXhr_.abort()},t.prototype.isRetryStatusCode_=function(t){var e=t>=500&&t<600,n=-1!==[408,429].indexOf(t),r=-1!==this.additionalRetryCodes_.indexOf(t);return e||n||r},t}(),qw=function(){return function(t,e,n){this.wasSuccessCode=t,this.xhr=e,this.canceled=!!n}}();function zw(t){return/^[A-Za-z]+:\/\//.test(t)}function Bw(t,e){if(t instanceof Qw){var n=t;if(null==n._bucket)throw new Nm("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var r=new kw(n,n._bucket);return null!=e?Bw(r,e):r}if(void 0!==e){if(e.includes(".."))throw Um('`path` param cannot contain ".."');return Dw(t,e)}return t}function Gw(t,e){if(e&&zw(e)){if(t instanceof Qw)return new kw(t,e);throw Um("To use ref(service, url), the first argument must be a Storage instance.")}return Bw(t,e)}var $w,Ww,Qw=function(){function t(t,e,n,r,i){var o,s;this.app=t,this._authProvider=e,this._pool=n,this._url=r,this._firebaseVersion=i,this._bucket=null,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?aw.makeFromBucketSpec(r):null==(s=null==(o=this.app.options)?void 0:o.storageBucket)?null:aw.makeFromBucketSpec(s)}return Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(t){rw("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(t){rw("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t},enumerable:!1,configurable:!0}),t.prototype._getAuthToken=function(){return Object(Nu.b)(this,void 0,void 0,function(){var t,e;return Object(Nu.d)(this,function(n){switch(n.label){case 0:return(t=this._authProvider.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:if(null!==(e=n.sent()))return[2,e.accessToken];n.label=2;case 2:return[2,null]}})})},t.prototype._delete=function(){return this._deleted=!0,this._requests.forEach(function(t){return t.cancel()}),this._requests.clear(),Promise.resolve()},t.prototype._makeStorageReference=function(t){return new kw(this,t)},t.prototype._makeRequest=function(t,e){var n=this;if(this._deleted)return new Fw(Vm());var r=function(t,e,n,r,i){var o=hw(t.urlParams),s=t.url+o,a=Object.assign({},t.headers);return function(t,e){e&&(t["X-Firebase-GMPID"]=e)}(a,e),function(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(a,n),function(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(null!=e?e:"AppManager")}(a,i),new Hw(s,t.method,a,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r)}(t,this._appId,e,this._pool,this._firebaseVersion);return this._requests.add(r),r.getPromise().then(function(){return n._requests.delete(r)},function(){return n._requests.delete(r)}),r},t}(),Jw=function(){function t(t,e){var n=this;this.app=t,this._delegate=e,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),t.prototype.ref=function(t){if(zw(t))throw Um("ref() expected a child path but got a URL, use refFromURL instead.");return new Vw(Gw(this._delegate,t),this)},t.prototype.refFromURL=function(t){if(!zw(t))throw Um("refFromURL() expected a full URL but got a child path, use ref() instead.");try{aw.makeFromUrl(t)}catch($y){throw Um("refFromUrl() expected a valid full URL but got an invalid one.")}return new Vw(Gw(this._delegate,t),this)},t.prototype.setMaxUploadRetryTime=function(t){this._delegate.maxUploadRetryTime=t},t.prototype.setMaxOperationRetryTime=function(t){this._delegate.maxOperationRetryTime=t},t}();function Zw(t){const e=function(t){return new Et.a(e=>{const n=t=>e.next(t);n(t.snapshot);const r=t.on("state_changed",n);return t.then(t=>{n(t),e.complete()},r=>{n(t.snapshot),(t=>{e.error(t)})(r)}),function(){r()}}).pipe(function(t,e=wi.a){return n=>n.lift(new jm(t,e))}(0))}(t);return{task:t,then:t.then.bind(t),catch:t.catch.bind(t),pause:t.pause.bind(t),cancel:t.cancel.bind(t),resume:t.resume.bind(t),snapshotChanges:()=>e,percentageChanges:()=>e.pipe(Object(Dt.a)(t=>t.bytesTransferred/t.totalBytes*100))}}function Yw(t,e,n){return{getDownloadURL:()=>Object(dt.a)(void 0).pipe(Object(Si.b)(e.outsideAngular),Lt(()=>t.getDownloadURL()),n),getMetadata:()=>Object(dt.a)(void 0).pipe(Object(Si.b)(e.outsideAngular),Lt(()=>t.getMetadata()),n),delete:()=>Object(ft.a)(t.delete()),child:r=>Yw(t.child(r),e,n),updateMetadata:e=>Object(ft.a)(t.updateMetadata(e)),put:(e,n)=>Zw(t.put(e,n)),putString:(e,n,r)=>Zw(t.putString(e,n,r)),listAll:()=>Object(ft.a)(t.listAll())}}Ww={TaskState:Jm,TaskEvent:{STATE_CHANGED:"state_changed"},StringFormat:zm,Storage:Qw,Reference:Vw},($w=Ci.a).INTERNAL.registerComponent(new Jy.a("storage",function(t,e){var n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal");return new Jw(n,new Qw(n,r,new Km,e,Ci.a.SDK_VERSION))},"PUBLIC").setServiceProps(Ww).setMultipleInstances(!0)),$w.registerVersion("@firebase/storage","0.4.3");const Xw=new r.r("angularfire2.storageBucket"),Kw=new r.r("angularfire2.storage.maxUploadRetryTime"),t_=new r.r("angularfire2.storage.maxOperationRetryTime");let e_=(()=>{class t{constructor(t,e,n,r,i,o,s){this.schedulers=new mi.d(i),this.keepUnstableUntilFirst=Object(mi.h)(this.schedulers);const a=Object(mi.g)(t,i,e);this.storage=Object(mi.f)(`${a.name}.storage.${n}`,"AngularFireStorage",a,()=>{const t=i.runOutsideAngular(()=>a.storage(n||void 0));return o&&t.setMaxUploadRetryTime(o),s&&t.setMaxOperationRetryTime(s),t},[o,s])}ref(t){return Yw(this.storage.ref(t),this.schedulers,this.keepUnstableUntilFirst)}refFromURL(t){return Yw(this.storage.refFromURL(t),this.schedulers,this.keepUnstableUntilFirst)}upload(t,e,n){return Yw(this.storage.ref(t),this.schedulers,this.keepUnstableUntilFirst).put(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(mi.c),r.Mb(mi.b,8),r.Mb(Xw,8),r.Mb(r.C),r.Mb(r.A),r.Mb(Kw,8),r.Mb(t_,8))},t.\u0275prov=Object(r.Cb)({factory:function(){return new t(Object(r.Mb)(mi.c),Object(r.Mb)(mi.b,8),Object(r.Mb)(Xw,8),Object(r.Mb)(r.C),Object(r.Mb)(r.A),Object(r.Mb)(Kw,8),Object(r.Mb)(t_,8))},token:t,providedIn:"any"}),t})(),n_=(()=>{class t{}return t.\u0275mod=r.Eb({type:t}),t.\u0275inj=r.Db({factory:function(e){return new(e||t)}}),t})(),r_=(()=>{class t{}return t.\u0275mod=r.Eb({type:t}),t.\u0275inj=r.Db({factory:function(e){return new(e||t)},providers:[e_],imports:[n_]}),t})();const i_={apiKey:"AIzaSyBstVZunDSDMtfZ_capJJ_xOi82uAT7wqQ",authDomain:"angular-7a917.firebaseapp.com",projectId:"angular-7a917",storageBucket:"angular-7a917.appspot.com",messagingSenderId:"409498304481",appId:"1:409498304481:web:72bf6995d72c19d531dca0",measurementId:"G-X4PB5GBSR3"};let o_=(()=>{class t{}return t.\u0275mod=r.Eb({type:t,bootstrap:[yi]}),t.\u0275inj=r.Db({factory:function(e){return new(e||t)},providers:[],imports:[[ht,hi,mi.a.initializeApp(i_),Cm,fm,r_]]}),t})();Object(r.T)(),ct().bootstrapModule(o_).catch(t=>console.error(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"},zx2A:function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return a}),n.d(e,"c",function(){return u});var r=n("7o/Q"),i=n("HDdC"),o=n("SeVD");class s extends r.a{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class a extends r.a{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function u(t,e){if(!e.closed)return t instanceof i.a?t.subscribe(e):Object(o.a)(t)(e)}}},[[0,0]]]);